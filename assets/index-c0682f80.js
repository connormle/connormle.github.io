(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ym=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],o=e[n++],a=e[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return t.join("")},bf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],o=r+1<e.length,a=o?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),s.push(n[u],n[h],n[f],n[g])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ym(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw new Xm;const f=i<<2|a>>4;if(s.push(f),l!==64){const g=a<<4&240|l>>2;if(s.push(g),h!==64){const v=l<<6&192|h;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xm extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jm=function(e){const t=wf(e);return bf.encodeByteArray(t,!0)},Ti=function(e){return Jm(e).replace(/\./g,"")},Zm=function(e){try{return bf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=()=>ey().__FIREBASE_DEFAULTS__,ny=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sy=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zm(e[1]);return t&&JSON.parse(t)},Ef=()=>{try{return ty()||ny()||sy()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ry=e=>{var t,n;return(n=(t=Ef())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},iy=e=>{const t=ry(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_f=()=>{var e;return(e=Ef())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Ti(JSON.stringify(n)),Ti(JSON.stringify(o)),a].join(".")}function cy(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Tf(){try{return typeof indexedDB=="object"}catch{return!1}}function If(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}function ly(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="FirebaseError";class _n extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=uy,Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?hy(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new _n(r,a,s)}}function hy(e,t){return e.replace(fy,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const fy=/\{\$([^}]+)}/g;function Ii(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],o=t[r];if(iu(i)&&iu(o)){if(!Ii(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function iu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=1e3,py=2,gy=4*60*60*1e3,my=.5;function ou(e,t=dy,n=py){const s=t*Math.pow(n,e),r=Math.round(my*s*(Math.random()-.5)*2);return Math.min(gy,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e){return e&&e._delegate?e._delegate:e}class Jt{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new oy;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wy(t))try{this.getOrInitializeService({instanceIdentifier:On})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=On){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=On){return this.instances.has(t)}getOptions(t=On){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vy(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=On){return this.component?this.component.multipleInstances?t:On:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vy(e){return e===On?void 0:e}function wy(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yy(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const Ey={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},_y=re.INFO,Ty={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Iy=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=Ty[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cc{constructor(t){this.name=t,this._logLevel=_y,this._logHandler=Iy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ey[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const Ay=(e,t)=>t.some(n=>e instanceof n);let au,cu;function Sy(){return au||(au=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cy(){return cu||(cu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Af=new WeakMap,Ca=new WeakMap,Sf=new WeakMap,Ho=new WeakMap,xc=new WeakMap;function xy(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(hn(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Af.set(n,e)}).catch(()=>{}),xc.set(t,e),t}function Oy(e){if(Ca.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ca.set(e,t)}let xa={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ca.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Sf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Dy(e){xa=e(xa)}function Ry(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(zo(this),t,...n);return Sf.set(s,t.sort?t.sort():[t]),hn(s)}:Cy().includes(e)?function(...t){return e.apply(zo(this),t),hn(Af.get(this))}:function(...t){return hn(e.apply(zo(this),t))}}function Ny(e){return typeof e=="function"?Ry(e):(e instanceof IDBTransaction&&Oy(e),Ay(e,Sy())?new Proxy(e,xa):e)}function hn(e){if(e instanceof IDBRequest)return xy(e);if(Ho.has(e))return Ho.get(e);const t=Ny(e);return t!==e&&(Ho.set(e,t),xc.set(t,e)),t}const zo=e=>xc.get(e);function My(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),a=hn(o);return s&&o.addEventListener("upgradeneeded",c=>{s(hn(o.result),c.oldVersion,c.newVersion,hn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Py=["get","getKey","getAll","getAllKeys","count"],ky=["put","add","delete","clear"],qo=new Map;function lu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qo.get(t))return qo.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=ky.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Py.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return qo.set(t,i),i}Dy(e=>({...e,get:(t,n,s)=>lu(t,n)||e.get(t,n,s),has:(t,n)=>!!lu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ly(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ly(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Oa="@firebase/app",uu="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Cc("@firebase/app"),$y="@firebase/app-compat",Vy="@firebase/analytics-compat",jy="@firebase/analytics",By="@firebase/app-check-compat",Uy="@firebase/app-check",Hy="@firebase/auth",zy="@firebase/auth-compat",qy="@firebase/database",Ky="@firebase/database-compat",Wy="@firebase/functions",Gy="@firebase/functions-compat",Qy="@firebase/installations",Yy="@firebase/installations-compat",Xy="@firebase/messaging",Jy="@firebase/messaging-compat",Zy="@firebase/performance",ev="@firebase/performance-compat",tv="@firebase/remote-config",nv="@firebase/remote-config-compat",sv="@firebase/storage",rv="@firebase/storage-compat",iv="@firebase/firestore",ov="@firebase/firestore-compat",av="firebase",cv="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]",lv={[Oa]:"fire-core",[$y]:"fire-core-compat",[jy]:"fire-analytics",[Vy]:"fire-analytics-compat",[Uy]:"fire-app-check",[By]:"fire-app-check-compat",[Hy]:"fire-auth",[zy]:"fire-auth-compat",[qy]:"fire-rtdb",[Ky]:"fire-rtdb-compat",[Wy]:"fire-fn",[Gy]:"fire-fn-compat",[Qy]:"fire-iid",[Yy]:"fire-iid-compat",[Xy]:"fire-fcm",[Jy]:"fire-fcm-compat",[Zy]:"fire-perf",[ev]:"fire-perf-compat",[tv]:"fire-rc",[nv]:"fire-rc-compat",[sv]:"fire-gcs",[rv]:"fire-gcs-compat",[iv]:"fire-fst",[ov]:"fire-fst-compat","fire-js":"fire-js",[av]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Map,Ra=new Map;function uv(e,t){try{e.container.addComponent(t)}catch(n){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function yn(e){const t=e.name;if(Ra.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;Ra.set(t,e);for(const n of Ai.values())uv(n,e);return!0}function Dr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fn=new Zi("app","Firebase",hv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=cv;function Cf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Da,automaticDataCollectionEnabled:!1},t),r=s.name;if(typeof r!="string"||!r)throw fn.create("bad-app-name",{appName:String(r)});if(n||(n=_f()),!n)throw fn.create("no-options");const i=Ai.get(r);if(i){if(Ii(n,i.options)&&Ii(s,i.config))return i;throw fn.create("duplicate-app",{appName:r})}const o=new by(r);for(const c of Ra.values())o.addComponent(c);const a=new fv(n,s,o);return Ai.set(r,a),a}function xf(e=Da){const t=Ai.get(e);if(!t&&e===Da&&_f())return Cf();if(!t)throw fn.create("no-app",{appName:e});return t}function Lt(e,t,n){var s;let r=(s=lv[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(a.join(" "));return}yn(new Jt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firebase-heartbeat-database",gv=1,or="firebase-heartbeat-store";let Ko=null;function Of(){return Ko||(Ko=My(pv,gv,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(or)}}}).catch(e=>{throw fn.create("idb-open",{originalErrorMessage:e.message})})),Ko}async function mv(e){try{return await(await Of()).transaction(or).objectStore(or).get(Df(e))}catch(t){if(t instanceof _n)Hn.warn(t.message);else{const n=fn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hn.warn(n.message)}}}async function hu(e,t){try{const s=(await Of()).transaction(or,"readwrite");await s.objectStore(or).put(t,Df(e)),await s.done}catch(n){if(n instanceof _n)Hn.warn(n.message);else{const s=fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hn.warn(s.message)}}}function Df(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=1024,vv=30*24*60*60*1e3;class wv{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ev(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fu();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=vv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fu(),{heartbeatsToSend:n,unsentEntries:s}=bv(this._heartbeatsCache.heartbeats),r=Ti(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function fu(){return new Date().toISOString().substring(0,10)}function bv(e,t=yv){const n=[];let s=e.slice();for(const r of e){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),du(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),du(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ev{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tf()?If().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await mv(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return hu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return hu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function du(e){return Ti(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e){yn(new Jt("platform-logger",t=>new Fy(t),"PRIVATE")),yn(new Jt("heartbeat",t=>new wv(t),"PRIVATE")),Lt(Oa,uu,e),Lt(Oa,uu,"esm2017"),Lt("fire-js","")}_v("");var Tv="firebase",Iv="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt(Tv,Iv,"app");const Av=(e,t)=>t.some(n=>e instanceof n);let pu,gu;function Sv(){return pu||(pu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cv(){return gu||(gu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rf=new WeakMap,Na=new WeakMap,Nf=new WeakMap,Wo=new WeakMap,Oc=new WeakMap;function xv(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(dn(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Rf.set(n,e)}).catch(()=>{}),Oc.set(t,e),t}function Ov(e){if(Na.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Na.set(e,t)}let Ma={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Na.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Nf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Dv(e){Ma=e(Ma)}function Rv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Go(this),t,...n);return Nf.set(s,t.sort?t.sort():[t]),dn(s)}:Cv().includes(e)?function(...t){return e.apply(Go(this),t),dn(Rf.get(this))}:function(...t){return dn(e.apply(Go(this),t))}}function Nv(e){return typeof e=="function"?Rv(e):(e instanceof IDBTransaction&&Ov(e),Av(e,Sv())?new Proxy(e,Ma):e)}function dn(e){if(e instanceof IDBRequest)return xv(e);if(Wo.has(e))return Wo.get(e);const t=Nv(e);return t!==e&&(Wo.set(e,t),Oc.set(t,e)),t}const Go=e=>Oc.get(e);function Mv(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),a=dn(o);return s&&o.addEventListener("upgradeneeded",c=>{s(dn(o.result),c.oldVersion,c.newVersion,dn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const Pv=["get","getKey","getAll","getAllKeys","count"],kv=["put","add","delete","clear"],Qo=new Map;function mu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qo.get(t))return Qo.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=kv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Pv.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return Qo.set(t,i),i}Dv(e=>({...e,get:(t,n,s)=>mu(t,n)||e.get(t,n,s),has:(t,n)=>!!mu(t,n)||e.has(t,n)}));const Mf="@firebase/installations",Dc="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=1e4,kf=`w:${Dc}`,Ff="FIS_v2",Fv="https://firebaseinstallations.googleapis.com/v1",Lv=60*60*1e3,$v="installations",Vv="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},zn=new Zi($v,Vv,jv);function Lf(e){return e instanceof _n&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f({projectId:e}){return`${Fv}/projects/${e}/installations`}function Vf(e){return{token:e.token,requestStatus:2,expiresIn:Uv(e.expiresIn),creationTime:Date.now()}}async function jf(e,t){const s=(await t.json()).error;return zn.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Bf({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Bv(e,{refreshToken:t}){const n=Bf(e);return n.append("Authorization",Hv(t)),n}async function Uf(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Uv(e){return Number(e.replace("s","000"))}function Hv(e){return`${Ff} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=$f(e),r=Bf(e),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={fid:n,authVersion:Ff,appId:e.appId,sdkVersion:kf},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Uf(()=>fetch(s,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Vf(l.authToken)}}else throw await jf("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=/^[cdef][\w-]{21}$/,Pa="";function Wv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Gv(e);return Kv.test(n)?n:Pa}catch{return Pa}}function Gv(e){return qv(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map;function qf(e,t){const n=eo(e);Kf(n,t),Qv(n,t)}function Kf(e,t){const n=zf.get(e);if(n)for(const s of n)s(t)}function Qv(e,t){const n=Yv();n&&n.postMessage({key:e,fid:t}),Xv()}let Nn=null;function Yv(){return!Nn&&"BroadcastChannel"in self&&(Nn=new BroadcastChannel("[Firebase] FID Change"),Nn.onmessage=e=>{Kf(e.data.key,e.data.fid)}),Nn}function Xv(){zf.size===0&&Nn&&(Nn.close(),Nn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebase-installations-database",Zv=1,qn="firebase-installations-store";let Yo=null;function Rc(){return Yo||(Yo=Mv(Jv,Zv,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(qn)}}})),Yo}async function Si(e,t){const n=eo(e),r=(await Rc()).transaction(qn,"readwrite"),i=r.objectStore(qn),o=await i.get(n);return await i.put(t,n),await r.done,(!o||o.fid!==t.fid)&&qf(e,t.fid),t}async function Wf(e){const t=eo(e),s=(await Rc()).transaction(qn,"readwrite");await s.objectStore(qn).delete(t),await s.done}async function to(e,t){const n=eo(e),r=(await Rc()).transaction(qn,"readwrite"),i=r.objectStore(qn),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&qf(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(e){let t;const n=await to(e.appConfig,s=>{const r=e0(s),i=t0(e,r);return t=i.registrationPromise,i.installationEntry});return n.fid===Pa?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function e0(e){const t=e||{fid:Wv(),registrationStatus:0};return Gf(t)}function t0(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(zn.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=n0(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:s0(e)}:{installationEntry:t}}async function n0(e,t){try{const n=await zv(e,t);return Si(e.appConfig,n)}catch(n){throw Lf(n)&&n.customData.serverCode===409?await Wf(e.appConfig):await Si(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function s0(e){let t=await yu(e.appConfig);for(;t.registrationStatus===1;)await Hf(100),t=await yu(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Nc(e);return s||n}return t}function yu(e){return to(e,t=>{if(!t)throw zn.create("installation-not-found");return Gf(t)})}function Gf(e){return r0(e)?{fid:e.fid,registrationStatus:0}:e}function r0(e){return e.registrationStatus===1&&e.registrationTime+Pf<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0({appConfig:e,heartbeatServiceProvider:t},n){const s=o0(e,n),r=Bv(e,n),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={installation:{sdkVersion:kf,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Uf(()=>fetch(s,a));if(c.ok){const l=await c.json();return Vf(l)}else throw await jf("Generate Auth Token",c)}function o0(e,{fid:t}){return`${$f(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(e,t=!1){let n;const s=await to(e.appConfig,i=>{if(!Qf(i))throw zn.create("not-registered");const o=i.authToken;if(!t&&l0(o))return i;if(o.requestStatus===1)return n=a0(e,t),i;{if(!navigator.onLine)throw zn.create("app-offline");const a=h0(i);return n=c0(e,a),a}});return n?await n:s.authToken}async function a0(e,t){let n=await vu(e.appConfig);for(;n.authToken.requestStatus===1;)await Hf(100),n=await vu(e.appConfig);const s=n.authToken;return s.requestStatus===0?Mc(e,t):s}function vu(e){return to(e,t=>{if(!Qf(t))throw zn.create("not-registered");const n=t.authToken;return f0(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function c0(e,t){try{const n=await i0(e,t),s=Object.assign(Object.assign({},t),{authToken:n});return await Si(e.appConfig,s),n}catch(n){if(Lf(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Wf(e.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Si(e.appConfig,s)}throw n}}function Qf(e){return e!==void 0&&e.registrationStatus===2}function l0(e){return e.requestStatus===2&&!u0(e)}function u0(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Lv}function h0(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function f0(e){return e.requestStatus===1&&e.requestTime+Pf<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(e){const t=e,{installationEntry:n,registrationPromise:s}=await Nc(t);return s?s.catch(console.error):Mc(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(e,t=!1){const n=e;return await g0(n),(await Mc(n,t)).token}async function g0(e){const{registrationPromise:t}=await Nc(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){if(!e||!e.options)throw Xo("App Configuration");if(!e.name)throw Xo("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Xo(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Xo(e){return zn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="installations",y0="installations-internal",v0=e=>{const t=e.getProvider("app").getImmediate(),n=m0(t),s=Dr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},w0=e=>{const t=e.getProvider("app").getImmediate(),n=Dr(t,Yf).getImmediate();return{getId:()=>d0(n),getToken:r=>p0(n,r)}};function b0(){yn(new Jt(Yf,v0,"PUBLIC")),yn(new Jt(y0,w0,"PRIVATE"))}b0();Lt(Mf,Dc);Lt(Mf,Dc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="analytics",E0="firebase_id",_0="origin",T0=60*1e3,I0="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new Cc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ht=new Zi("analytics","Analytics",A0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(e){if(!e.startsWith(Pc)){const t=ht.create("invalid-gtag-resource",{gtagURL:e});return it.warn(t.message),""}return e}function Xf(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function C0(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function x0(e,t){const n=C0("firebase-js-sdk-policy",{createScriptURL:S0}),s=document.createElement("script"),r=`${Pc}?l=${e}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function O0(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function D0(e,t,n,s,r,i){const o=s[r];try{if(o)await t[o];else{const c=(await Xf(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(a){it.error(a)}e("config",r,i)}async function R0(e,t,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await Xf(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&t[l.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",s,r||{})}catch(i){it.error(i)}}function N0(e,t,n,s){async function r(i,...o){try{if(i==="event"){const[a,c]=o;await R0(e,t,n,a,c)}else if(i==="config"){const[a,c]=o;await D0(e,t,n,s,a,c)}else if(i==="consent"){const[a]=o;e("consent","update",a)}else if(i==="get"){const[a,c,l]=o;e("get",a,c,l)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){it.error(a)}}return r}function M0(e,t,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=N0(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}function P0(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Pc)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=30,F0=1e3;class L0{constructor(t={},n=F0){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Jf=new L0;function $0(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function V0(e){var t;const{appId:n,apiKey:s}=e,r={method:"GET",headers:$0(s)},i=I0.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw ht.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function j0(e,t=Jf,n){const{appId:s,apiKey:r,measurementId:i}=e.options;if(!s)throw ht.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw ht.create("no-api-key")}const o=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H0;return setTimeout(async()=>{a.abort()},n!==void 0?n:T0),Zf({appId:s,apiKey:r,measurementId:i},o,a,t)}async function Zf(e,{throttleEndTimeMillis:t,backoffCount:n},s,r=Jf){var i;const{appId:o,measurementId:a}=e;try{await B0(s,t)}catch(c){if(a)return it.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await V0(e);return r.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!U0(l)){if(r.deleteThrottleMetadata(o),a)return it.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((i=l==null?void 0:l.customData)===null||i===void 0?void 0:i.httpStatus)===503?ou(n,r.intervalMillis,k0):ou(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),it.debug(`Calling attemptFetch again in ${u} millis`),Zf(e,h,s,r)}}function B0(e,t){return new Promise((n,s)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(i),s(ht.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function U0(e){if(!(e instanceof _n)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class H0{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function z0(e,t,n,s,r){if(r&&r.global){e("event",n,s);return}else{const i=await t,o=Object.assign(Object.assign({},s),{send_to:i});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(){if(Tf())try{await If()}catch(e){return it.warn(ht.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return it.warn(ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K0(e,t,n,s,r,i,o){var a;const c=j0(e);c.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&it.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>it.error(g)),t.push(c);const l=q0().then(g=>{if(g)return s.getId()}),[u,h]=await Promise.all([c,l]);P0(i)||x0(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[_0]="firebase",f.update=!0,h!=null&&(f[E0]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.app=t}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},wu=[];const bu={};let Jo="dataLayer",G0="gtag",Eu,ed,_u=!1;function Q0(){const e=[];if(cy()&&e.push("This is a browser extension environment."),ly()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=ht.create("invalid-analytics-context",{errorInfo:t});it.warn(n.message)}}function Y0(e,t,n){Q0();const s=e.options.appId;if(!s)throw ht.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)it.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ht.create("no-api-key");if(qs[s]!=null)throw ht.create("already-exists",{id:s});if(!_u){O0(Jo);const{wrappedGtag:i,gtagCore:o}=M0(qs,wu,bu,Jo,G0);ed=i,Eu=o,_u=!0}return qs[s]=K0(e,wu,bu,t,Eu,Jo,n),new W0(e)}function X0(e=xf()){e=Un(e);const t=Dr(e,Ci);return t.isInitialized()?t.getImmediate():J0(e)}function J0(e,t={}){const n=Dr(e,Ci);if(n.isInitialized()){const r=n.getImmediate();if(Ii(t,n.getOptions()))return r;throw ht.create("already-initialized")}return n.initialize({options:t})}function Z0(e,t,n,s){e=Un(e),z0(ed,qs[e.app.options.appId],t,n,s).catch(r=>it.error(r))}const Tu="@firebase/analytics",Iu="0.10.0";function ew(){yn(new Jt(Ci,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return Y0(s,r,n)},"PUBLIC")),yn(new Jt("analytics-internal",e,"PRIVATE")),Lt(Tu,Iu),Lt(Tu,Iu,"esm2017");function e(t){try{const n=t.getProvider(Ci).getImmediate();return{logEvent:(s,r,i)=>Z0(n,s,r,i)}}catch(n){throw ht.create("interop-component-reg-failed",{reason:n})}}}ew();function no(e,t){const n=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const fe={},as=[],At=()=>{},tw=()=>!1,nw=/^on[^a-z]/,so=e=>nw.test(e),kc=e=>e.startsWith("onUpdate:"),Oe=Object.assign,Fc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sw=Object.prototype.hasOwnProperty,ee=(e,t)=>sw.call(e,t),K=Array.isArray,Ks=e=>ro(e)==="[object Map]",rw=e=>ro(e)==="[object Set]",G=e=>typeof e=="function",Le=e=>typeof e=="string",Lc=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",td=e=>be(e)&&G(e.then)&&G(e.catch),iw=Object.prototype.toString,ro=e=>iw.call(e),ow=e=>ro(e).slice(8,-1),aw=e=>ro(e)==="[object Object]",$c=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fi=no(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),io=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},cw=/-(\w)/g,$t=io(e=>e.replace(cw,(t,n)=>n?n.toUpperCase():"")),lw=/\B([A-Z])/g,Ss=io(e=>e.replace(lw,"-$1").toLowerCase()),oo=io(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zo=io(e=>e?`on${oo(e)}`:""),ar=(e,t)=>!Object.is(e,t),di=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},xi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ka=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Au;const Fa=()=>Au||(Au=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vc(e){if(K(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Le(s)?dw(s):Vc(s);if(r)for(const i in r)t[i]=r[i]}return t}else{if(Le(e))return e;if(be(e))return e}}const uw=/;(?![^(]*\))/g,hw=/:([^]+)/,fw=/\/\*[^]*?\*\//g;function dw(e){const t={};return e.replace(fw,"").split(uw).forEach(n=>{if(n){const s=n.split(hw);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function jc(e){let t="";if(Le(e))t=e;else if(K(e))for(let n=0;n<e.length;n++){const s=jc(e[n]);s&&(t+=s+" ")}else if(be(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const pw="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",gw=no(pw),mw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yw=no(mw);function nd(e){return!!e||e===""}let lt;class vw{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=lt,!t&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=lt;try{return lt=this,t()}finally{lt=n}}}on(){lt=this}off(){lt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ww(e,t=lt){t&&t.active&&t.effects.push(e)}function sd(){return lt}function bw(e){lt&&lt.cleanups.push(e)}const Bc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},rd=e=>(e.w&vn)>0,id=e=>(e.n&vn)>0,Ew=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=vn},_w=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const r=t[s];rd(r)&&!id(r)?r.delete(e):t[n++]=r,r.w&=~vn,r.n&=~vn}t.length=n}},La=new WeakMap;let js=0,vn=1;const $a=30;let Et;const $n=Symbol(""),Va=Symbol("");class Uc{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ww(this,s)}run(){if(!this.active)return this.fn();let t=Et,n=pn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Et,Et=this,pn=!0,vn=1<<++js,js<=$a?Ew(this):Su(this),this.fn()}finally{js<=$a&&_w(this),vn=1<<--js,Et=this.parent,pn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Et===this?this.deferStop=!0:this.active&&(Su(this),this.onStop&&this.onStop(),this.active=!1)}}function Su(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let pn=!0;const od=[];function Cs(){od.push(pn),pn=!1}function xs(){const e=od.pop();pn=e===void 0?!0:e}function ot(e,t,n){if(pn&&Et){let s=La.get(e);s||La.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Bc()),ad(r)}}function ad(e,t){let n=!1;js<=$a?id(e)||(e.n|=vn,n=!rd(e)):n=!e.has(Et),n&&(e.add(Et),Et.deps.push(e))}function Zt(e,t,n,s,r,i){const o=La.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&K(e)){const c=Number(s);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":K(e)?$c(n)&&a.push(o.get("length")):(a.push(o.get($n)),Ks(e)&&a.push(o.get(Va)));break;case"delete":K(e)||(a.push(o.get($n)),Ks(e)&&a.push(o.get(Va)));break;case"set":Ks(e)&&a.push(o.get($n));break}if(a.length===1)a[0]&&ja(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);ja(Bc(c))}}function ja(e,t){const n=K(e)?e:[...e];for(const s of n)s.computed&&Cu(s);for(const s of n)s.computed||Cu(s)}function Cu(e,t){(e!==Et||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Tw=no("__proto__,__v_isRef,__isVue"),cd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Lc)),Iw=Hc(),Aw=Hc(!1,!0),Sw=Hc(!0),xu=Cw();function Cw(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=te(this);for(let i=0,o=this.length;i<o;i++)ot(s,"get",i+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(te)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Cs();const s=te(this)[t].apply(this,n);return xs(),s}}),e}function xw(e){const t=te(this);return ot(t,"has",e),t.hasOwnProperty(e)}function Hc(e=!1,t=!1){return function(s,r,i){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&i===(e?t?zw:dd:t?fd:hd).get(s))return s;const o=K(s);if(!e){if(o&&ee(xu,r))return Reflect.get(xu,r,i);if(r==="hasOwnProperty")return xw}const a=Reflect.get(s,r,i);return(Lc(r)?cd.has(r):Tw(r))||(e||ot(s,"get",r),t)?a:Ke(a)?o&&$c(r)?a:a.value:be(a)?e?pd(a):nn(a):a}}const Ow=ld(),Dw=ld(!0);function ld(e=!1){return function(n,s,r,i){let o=n[s];if(ps(o)&&Ke(o)&&!Ke(r))return!1;if(!e&&(!Oi(r)&&!ps(r)&&(o=te(o),r=te(r)),!K(n)&&Ke(o)&&!Ke(r)))return o.value=r,!0;const a=K(n)&&$c(s)?Number(s)<n.length:ee(n,s),c=Reflect.set(n,s,r,i);return n===te(i)&&(a?ar(r,o)&&Zt(n,"set",s,r):Zt(n,"add",s,r)),c}}function Rw(e,t){const n=ee(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&Zt(e,"delete",t,void 0),s}function Nw(e,t){const n=Reflect.has(e,t);return(!Lc(t)||!cd.has(t))&&ot(e,"has",t),n}function Mw(e){return ot(e,"iterate",K(e)?"length":$n),Reflect.ownKeys(e)}const ud={get:Iw,set:Ow,deleteProperty:Rw,has:Nw,ownKeys:Mw},Pw={get:Sw,set(e,t){return!0},deleteProperty(e,t){return!0}},kw=Oe({},ud,{get:Aw,set:Dw}),zc=e=>e,ao=e=>Reflect.getPrototypeOf(e);function Qr(e,t,n=!1,s=!1){e=e.__v_raw;const r=te(e),i=te(t);n||(t!==i&&ot(r,"get",t),ot(r,"get",i));const{has:o}=ao(r),a=s?zc:n?Wc:cr;if(o.call(r,t))return a(e.get(t));if(o.call(r,i))return a(e.get(i));e!==r&&e.get(t)}function Yr(e,t=!1){const n=this.__v_raw,s=te(n),r=te(e);return t||(e!==r&&ot(s,"has",e),ot(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Xr(e,t=!1){return e=e.__v_raw,!t&&ot(te(e),"iterate",$n),Reflect.get(e,"size",e)}function Ou(e){e=te(e);const t=te(this);return ao(t).has.call(t,e)||(t.add(e),Zt(t,"add",e,e)),this}function Du(e,t){t=te(t);const n=te(this),{has:s,get:r}=ao(n);let i=s.call(n,e);i||(e=te(e),i=s.call(n,e));const o=r.call(n,e);return n.set(e,t),i?ar(t,o)&&Zt(n,"set",e,t):Zt(n,"add",e,t),this}function Ru(e){const t=te(this),{has:n,get:s}=ao(t);let r=n.call(t,e);r||(e=te(e),r=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return r&&Zt(t,"delete",e,void 0),i}function Nu(){const e=te(this),t=e.size!==0,n=e.clear();return t&&Zt(e,"clear",void 0,void 0),n}function Jr(e,t){return function(s,r){const i=this,o=i.__v_raw,a=te(o),c=t?zc:e?Wc:cr;return!e&&ot(a,"iterate",$n),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function Zr(e,t,n){return function(...s){const r=this.__v_raw,i=te(r),o=Ks(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=r[e](...s),u=n?zc:t?Wc:cr;return!t&&ot(i,"iterate",c?Va:$n),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function on(e){return function(...t){return e==="delete"?!1:this}}function Fw(){const e={get(i){return Qr(this,i)},get size(){return Xr(this)},has:Yr,add:Ou,set:Du,delete:Ru,clear:Nu,forEach:Jr(!1,!1)},t={get(i){return Qr(this,i,!1,!0)},get size(){return Xr(this)},has:Yr,add:Ou,set:Du,delete:Ru,clear:Nu,forEach:Jr(!1,!0)},n={get(i){return Qr(this,i,!0)},get size(){return Xr(this,!0)},has(i){return Yr.call(this,i,!0)},add:on("add"),set:on("set"),delete:on("delete"),clear:on("clear"),forEach:Jr(!0,!1)},s={get(i){return Qr(this,i,!0,!0)},get size(){return Xr(this,!0)},has(i){return Yr.call(this,i,!0)},add:on("add"),set:on("set"),delete:on("delete"),clear:on("clear"),forEach:Jr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Zr(i,!1,!1),n[i]=Zr(i,!0,!1),t[i]=Zr(i,!1,!0),s[i]=Zr(i,!0,!0)}),[e,n,t,s]}const[Lw,$w,Vw,jw]=Fw();function qc(e,t){const n=t?e?jw:Vw:e?$w:Lw;return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ee(n,r)&&r in s?n:s,r,i)}const Bw={get:qc(!1,!1)},Uw={get:qc(!1,!0)},Hw={get:qc(!0,!1)},hd=new WeakMap,fd=new WeakMap,dd=new WeakMap,zw=new WeakMap;function qw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kw(e){return e.__v_skip||!Object.isExtensible(e)?0:qw(ow(e))}function nn(e){return ps(e)?e:Kc(e,!1,ud,Bw,hd)}function Ww(e){return Kc(e,!1,kw,Uw,fd)}function pd(e){return Kc(e,!0,Pw,Hw,dd)}function Kc(e,t,n,s,r){if(!be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Kw(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function cs(e){return ps(e)?cs(e.__v_raw):!!(e&&e.__v_isReactive)}function ps(e){return!!(e&&e.__v_isReadonly)}function Oi(e){return!!(e&&e.__v_isShallow)}function gd(e){return cs(e)||ps(e)}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function md(e){return xi(e,"__v_skip",!0),e}const cr=e=>be(e)?nn(e):e,Wc=e=>be(e)?pd(e):e;function yd(e){pn&&Et&&(e=te(e),ad(e.dep||(e.dep=Bc())))}function vd(e,t){e=te(e);const n=e.dep;n&&ja(n)}function Ke(e){return!!(e&&e.__v_isRef===!0)}function yt(e){return wd(e,!1)}function Gw(e){return wd(e,!0)}function wd(e,t){return Ke(e)?e:new Qw(e,t)}class Qw{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:te(t),this._value=n?t:cr(t)}get value(){return yd(this),this._value}set value(t){const n=this.__v_isShallow||Oi(t)||ps(t);t=n?t:te(t),ar(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:cr(t),vd(this))}}function ft(e){return Ke(e)?e.value:e}const Yw={get:(e,t,n)=>ft(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ke(r)&&!Ke(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function bd(e){return cs(e)?e:new Proxy(e,Yw)}class Xw{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Uc(t,()=>{this._dirty||(this._dirty=!0,vd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=te(this);return yd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Jw(e,t,n=!1){let s,r;const i=G(e);return i?(s=e,r=At):(s=e.get,r=e.set),new Xw(s,r,i||!r,n)}function gn(e,t,n,s){let r;try{r=s?e(...s):e()}catch(i){co(i,t,n)}return r}function St(e,t,n,s){if(G(e)){const i=gn(e,t,n,s);return i&&td(i)&&i.catch(o=>{co(o,t,n)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(St(e[i],t,n,s));return r}function co(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){gn(c,null,10,[e,o,a]);return}}Zw(e,n,r,s)}function Zw(e,t,n,s=!0){console.error(e)}let lr=!1,Ba=!1;const ze=[];let Mt=0;const ls=[];let Kt=null,Dn=0;const Ed=Promise.resolve();let Gc=null;function _d(e){const t=Gc||Ed;return e?t.then(this?e.bind(this):e):t}function e1(e){let t=Mt+1,n=ze.length;for(;t<n;){const s=t+n>>>1;ur(ze[s])<e?t=s+1:n=s}return t}function Qc(e){(!ze.length||!ze.includes(e,lr&&e.allowRecurse?Mt+1:Mt))&&(e.id==null?ze.push(e):ze.splice(e1(e.id),0,e),Td())}function Td(){!lr&&!Ba&&(Ba=!0,Gc=Ed.then(Ad))}function t1(e){const t=ze.indexOf(e);t>Mt&&ze.splice(t,1)}function n1(e){K(e)?ls.push(...e):(!Kt||!Kt.includes(e,e.allowRecurse?Dn+1:Dn))&&ls.push(e),Td()}function Mu(e,t=lr?Mt+1:0){for(;t<ze.length;t++){const n=ze[t];n&&n.pre&&(ze.splice(t,1),t--,n())}}function Id(e){if(ls.length){const t=[...new Set(ls)];if(ls.length=0,Kt){Kt.push(...t);return}for(Kt=t,Kt.sort((n,s)=>ur(n)-ur(s)),Dn=0;Dn<Kt.length;Dn++)Kt[Dn]();Kt=null,Dn=0}}const ur=e=>e.id==null?1/0:e.id,s1=(e,t)=>{const n=ur(e)-ur(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ad(e){Ba=!1,lr=!0,ze.sort(s1);const t=At;try{for(Mt=0;Mt<ze.length;Mt++){const n=ze[Mt];n&&n.active!==!1&&gn(n,null,14)}}finally{Mt=0,ze.length=0,Id(),lr=!1,Gc=null,(ze.length||ls.length)&&Ad()}}function r1(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||fe;let r=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||fe;f&&(r=n.map(g=>Le(g)?g.trim():g)),h&&(r=n.map(ka))}let a,c=s[a=Zo(t)]||s[a=Zo($t(t))];!c&&i&&(c=s[a=Zo(Ss(t))]),c&&St(c,e,6,r);const l=s[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,St(l,e,6,r)}}function Sd(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!G(e)){const c=l=>{const u=Sd(l,t,!0);u&&(a=!0,Oe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(be(e)&&s.set(e,null),null):(K(i)?i.forEach(c=>o[c]=null):Oe(o,i),be(e)&&s.set(e,o),o)}function lo(e,t){return!e||!so(t)?!1:(t=t.slice(2).replace(/Once$/,""),ee(e,t[0].toLowerCase()+t.slice(1))||ee(e,Ss(t))||ee(e,t))}let ut=null,uo=null;function Di(e){const t=ut;return ut=e,uo=e&&e.type.__scopeId||null,t}function i1(e){uo=e}function o1(){uo=null}function a1(e,t=ut,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&zu(-1);const i=Di(t);let o;try{o=e(...r)}finally{Di(i),s._d&&zu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ea(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:g,ctx:v,inheritAttrs:T}=e;let x,S;const O=Di(e);try{if(n.shapeFlag&4){const A=r||s;x=Nt(u.call(A,A,h,i,g,f,v)),S=c}else{const A=t;x=Nt(A.length>1?A(i,{attrs:c,slots:a,emit:l}):A(i,null)),S=t.props?c:c1(c)}}catch(A){Gs.length=0,co(A,e,1),x=rt(Kn)}let N=x;if(S&&T!==!1){const A=Object.keys(S),{shapeFlag:z}=N;A.length&&z&7&&(o&&A.some(kc)&&(S=l1(S,o)),N=gs(N,S))}return n.dirs&&(N=gs(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),x=N,Di(O),x}const c1=e=>{let t;for(const n in e)(n==="class"||n==="style"||so(n))&&((t||(t={}))[n]=e[n]);return t},l1=(e,t)=>{const n={};for(const s in e)(!kc(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function u1(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Pu(s,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!lo(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Pu(s,o,l):!0:!!o;return!1}function Pu(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!lo(n,i))return!0}return!1}function h1({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const f1=e=>e.__isSuspense;function d1(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):n1(e)}const ei={};function We(e,t,n){return Cd(e,t,n)}function Cd(e,t,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=fe){var a;const c=sd()===((a=Se)==null?void 0:a.scope)?Se:null;let l,u=!1,h=!1;if(Ke(e)?(l=()=>e.value,u=Oi(e)):cs(e)?(l=()=>e,s=!0):K(e)?(h=!0,u=e.some(A=>cs(A)||Oi(A)),l=()=>e.map(A=>{if(Ke(A))return A.value;if(cs(A))return Mn(A);if(G(A))return gn(A,c,2)})):G(e)?t?l=()=>gn(e,c,2):l=()=>{if(!(c&&c.isUnmounted))return f&&f(),St(e,c,3,[g])}:l=At,t&&s){const A=l;l=()=>Mn(A())}let f,g=A=>{f=O.onStop=()=>{gn(A,c,4)}},v;if(fr)if(g=At,t?n&&St(t,c,3,[l(),h?[]:void 0,g]):l(),r==="sync"){const A=ob();v=A.__watcherHandles||(A.__watcherHandles=[])}else return At;let T=h?new Array(e.length).fill(ei):ei;const x=()=>{if(O.active)if(t){const A=O.run();(s||u||(h?A.some((z,X)=>ar(z,T[X])):ar(A,T)))&&(f&&f(),St(t,c,3,[A,T===ei?void 0:h&&T[0]===ei?[]:T,g]),T=A)}else O.run()};x.allowRecurse=!!t;let S;r==="sync"?S=x:r==="post"?S=()=>nt(x,c&&c.suspense):(x.pre=!0,c&&(x.id=c.uid),S=()=>Qc(x));const O=new Uc(l,S);t?n?x():T=O.run():r==="post"?nt(O.run.bind(O),c&&c.suspense):O.run();const N=()=>{O.stop(),c&&c.scope&&Fc(c.scope.effects,O)};return v&&v.push(N),N}function p1(e,t,n){const s=this.proxy,r=Le(e)?e.includes(".")?xd(s,e):()=>s[e]:e.bind(s,s);let i;G(t)?i=t:(i=t.handler,n=t);const o=Se;ms(this);const a=Cd(r,i.bind(s),n);return o?ms(o):Vn(),a}function xd(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Mn(e,t){if(!be(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ke(e))Mn(e.value,t);else if(K(e))for(let n=0;n<e.length;n++)Mn(e[n],t);else if(rw(e)||Ks(e))e.forEach(n=>{Mn(n,t)});else if(aw(e))for(const n in e)Mn(e[n],t);return e}function et(e,t){const n=ut;if(n===null)return e;const s=go(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=fe]=t[i];o&&(G(o)&&(o={mounted:o,updated:o}),o.deep&&Mn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return e}function An(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Cs(),St(c,n,8,[e.el,a,e,t]),xs())}}function Yc(e,t){return G(e)?(()=>Oe({name:e.name},t,{setup:e}))():e}const pi=e=>!!e.type.__asyncLoader,Od=e=>e.type.__isKeepAlive;function g1(e,t){Dd(e,"a",t)}function m1(e,t){Dd(e,"da",t)}function Dd(e,t,n=Se){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ho(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Od(r.parent.vnode)&&y1(s,t,n,r),r=r.parent}}function y1(e,t,n,s){const r=ho(t,e,s,!0);Xc(()=>{Fc(s[t],r)},n)}function ho(e,t,n=Se,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Cs(),ms(n);const a=St(t,n,e,o);return Vn(),xs(),a});return s?r.unshift(i):r.push(i),i}}const sn=e=>(t,n=Se)=>(!fr||e==="sp")&&ho(e,(...s)=>t(...s),n),v1=sn("bm"),Rd=sn("m"),w1=sn("bu"),Nd=sn("u"),b1=sn("bum"),Xc=sn("um"),E1=sn("sp"),_1=sn("rtg"),T1=sn("rtc");function I1(e,t=Se){ho("ec",e,t)}const Md="components",A1="directives";function Pd(e,t){return kd(Md,e,!0,t)||e}const S1=Symbol.for("v-ndc");function ks(e){return kd(A1,e)}function kd(e,t,n=!0,s=!1){const r=ut||Se;if(r){const i=r.type;if(e===Md){const a=sb(i,!1);if(a&&(a===t||a===$t(t)||a===oo($t(t))))return i}const o=ku(r[e]||i[e],t)||ku(r.appContext[e],t);return!o&&s?i:o}}function ku(e,t){return e&&(e[t]||e[$t(t)]||e[oo($t(t))])}const Ua=e=>e?Wd(e)?go(e)||e.proxy:Ua(e.parent):null,Ws=Oe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ua(e.parent),$root:e=>Ua(e.root),$emit:e=>e.emit,$options:e=>Jc(e),$forceUpdate:e=>e.f||(e.f=()=>Qc(e.update)),$nextTick:e=>e.n||(e.n=_d.bind(e.proxy)),$watch:e=>p1.bind(e)}),ta=(e,t)=>e!==fe&&!e.__isScriptSetup&&ee(e,t),C1={get({_:e},t){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(ta(s,t))return o[t]=1,s[t];if(r!==fe&&ee(r,t))return o[t]=2,r[t];if((l=e.propsOptions[0])&&ee(l,t))return o[t]=3,i[t];if(n!==fe&&ee(n,t))return o[t]=4,n[t];Ha&&(o[t]=0)}}const u=Ws[t];let h,f;if(u)return t==="$attrs"&&ot(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==fe&&ee(n,t))return o[t]=4,n[t];if(f=c.config.globalProperties,ee(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return ta(r,t)?(r[t]=n,!0):s!==fe&&ee(s,t)?(s[t]=n,!0):ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==fe&&ee(e,o)||ta(t,o)||(a=i[0])&&ee(a,o)||ee(s,o)||ee(Ws,o)||ee(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ee(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function x1(){return O1().slots}function O1(){const e=tl();return e.setupContext||(e.setupContext=Qd(e))}function Fu(e){return K(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ha=!0;function D1(e){const t=Jc(e),n=e.proxy,s=e.ctx;Ha=!1,t.beforeCreate&&Lu(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:v,activated:T,deactivated:x,beforeDestroy:S,beforeUnmount:O,destroyed:N,unmounted:A,render:z,renderTracked:X,renderTriggered:ge,errorCaptured:$e,serverPrefetch:Te,expose:pt,inheritAttrs:xt,components:Bt,directives:gt,filters:Ut}=t;if(l&&R1(l,s,null),o)for(const ce in o){const ne=o[ce];G(ne)&&(s[ce]=ne.bind(n))}if(r){const ce=r.call(n,n);be(ce)&&(e.data=nn(ce))}if(Ha=!0,i)for(const ce in i){const ne=i[ce],zt=G(ne)?ne.bind(n,n):G(ne.get)?ne.get.bind(n,n):At,rn=!G(ne)&&G(ne.set)?ne.set.bind(n):At,Ot=we({get:zt,set:rn});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Ze=>Ot.value=Ze})}if(a)for(const ce in a)Fd(a[ce],s,n,ce);if(c){const ce=G(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(ne=>{gi(ne,ce[ne])})}u&&Lu(u,e,"c");function Ie(ce,ne){K(ne)?ne.forEach(zt=>ce(zt.bind(n))):ne&&ce(ne.bind(n))}if(Ie(v1,h),Ie(Rd,f),Ie(w1,g),Ie(Nd,v),Ie(g1,T),Ie(m1,x),Ie(I1,$e),Ie(T1,X),Ie(_1,ge),Ie(b1,O),Ie(Xc,A),Ie(E1,Te),K(pt))if(pt.length){const ce=e.exposed||(e.exposed={});pt.forEach(ne=>{Object.defineProperty(ce,ne,{get:()=>n[ne],set:zt=>n[ne]=zt})})}else e.exposed||(e.exposed={});z&&e.render===At&&(e.render=z),xt!=null&&(e.inheritAttrs=xt),Bt&&(e.components=Bt),gt&&(e.directives=gt)}function R1(e,t,n=At){K(e)&&(e=za(e));for(const s in e){const r=e[s];let i;be(r)?"default"in r?i=Qt(r.from||s,r.default,!0):i=Qt(r.from||s):i=Qt(r),Ke(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function Lu(e,t,n){St(K(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Fd(e,t,n,s){const r=s.includes(".")?xd(n,s):()=>n[s];if(Le(e)){const i=t[e];G(i)&&We(r,i)}else if(G(e))We(r,e.bind(n));else if(be(e))if(K(e))e.forEach(i=>Fd(i,t,n,s));else{const i=G(e.handler)?e.handler.bind(n):t[e.handler];G(i)&&We(r,i,e)}}function Jc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(l=>Ri(c,l,o,!0)),Ri(c,t,o)),be(t)&&i.set(t,c),c}function Ri(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&Ri(e,i,n,!0),r&&r.forEach(o=>Ri(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=N1[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const N1={data:$u,props:Vu,emits:Vu,methods:Bs,computed:Bs,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:Bs,directives:Bs,watch:P1,provide:$u,inject:M1};function $u(e,t){return t?e?function(){return Oe(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function M1(e,t){return Bs(za(e),za(t))}function za(e){if(K(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function Bs(e,t){return e?Oe(Object.create(null),e,t):t}function Vu(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:Oe(Object.create(null),Fu(e),Fu(t??{})):t}function P1(e,t){if(!e)return t;if(!t)return e;const n=Oe(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function Ld(){return{app:null,config:{isNativeTag:tw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let k1=0;function F1(e,t){return function(s,r=null){G(s)||(s=Oe({},s)),r!=null&&!be(r)&&(r=null);const i=Ld(),o=new Set;let a=!1;const c=i.app={_uid:k1++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:ab,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&G(l.install)?(o.add(l),l.install(c,...u)):G(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=rt(s,r);return f.appContext=i,u&&t?t(f,l):e(f,l,h),a=!0,c._container=l,l.__vue_app__=c,go(f.component)||f.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){Ni=c;try{return l()}finally{Ni=null}}};return c}}let Ni=null;function gi(e,t){if(Se){let n=Se.provides;const s=Se.parent&&Se.parent.provides;s===n&&(n=Se.provides=Object.create(s)),n[e]=t}}function Qt(e,t,n=!1){const s=Se||ut;if(s||Ni){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Ni._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&G(t)?t.call(s&&s.proxy):t}}function L1(e,t,n,s=!1){const r={},i={};xi(i,po,1),e.propsDefaults=Object.create(null),$d(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Ww(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function $1(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=te(r),[c]=e.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(lo(e.emitsOptions,f))continue;const g=t[f];if(c)if(ee(i,f))g!==i[f]&&(i[f]=g,l=!0);else{const v=$t(f);r[v]=qa(c,a,v,g,e,!1)}else g!==i[f]&&(i[f]=g,l=!0)}}}else{$d(e,t,r,i)&&(l=!0);let u;for(const h in a)(!t||!ee(t,h)&&((u=Ss(h))===h||!ee(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=qa(c,a,h,void 0,e,!0)):delete r[h]);if(i!==a)for(const h in i)(!t||!ee(t,h))&&(delete i[h],l=!0)}l&&Zt(e,"set","$attrs")}function $d(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(fi(c))continue;const l=t[c];let u;r&&ee(r,u=$t(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:lo(e.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=te(n),l=a||fe;for(let u=0;u<i.length;u++){const h=i[u];n[h]=qa(r,c,h,l[h],e,!ee(l,h))}}return o}function qa(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=ee(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&G(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(ms(r),s=l[n]=c.call(null,t),Vn())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Ss(n))&&(s=!0))}return s}function Vd(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let c=!1;if(!G(e)){const u=h=>{c=!0;const[f,g]=Vd(h,t,!0);Oe(o,f),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return be(e)&&s.set(e,as),as;if(K(i))for(let u=0;u<i.length;u++){const h=$t(i[u]);ju(h)&&(o[h]=fe)}else if(i)for(const u in i){const h=$t(u);if(ju(h)){const f=i[u],g=o[h]=K(f)||G(f)?{type:f}:Oe({},f);if(g){const v=Hu(Boolean,g.type),T=Hu(String,g.type);g[0]=v>-1,g[1]=T<0||v<T,(v>-1||ee(g,"default"))&&a.push(h)}}}const l=[o,a];return be(e)&&s.set(e,l),l}function ju(e){return e[0]!=="$"}function Bu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Uu(e,t){return Bu(e)===Bu(t)}function Hu(e,t){return K(t)?t.findIndex(n=>Uu(n,e)):G(t)&&Uu(t,e)?0:-1}const jd=e=>e[0]==="_"||e==="$stable",Zc=e=>K(e)?e.map(Nt):[Nt(e)],V1=(e,t,n)=>{if(t._n)return t;const s=a1((...r)=>Zc(t(...r)),n);return s._c=!1,s},Bd=(e,t,n)=>{const s=e._ctx;for(const r in e){if(jd(r))continue;const i=e[r];if(G(i))t[r]=V1(r,i,s);else if(i!=null){const o=Zc(i);t[r]=()=>o}}},Ud=(e,t)=>{const n=Zc(t);e.slots.default=()=>n},j1=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=te(t),xi(t,"_",n)):Bd(t,e.slots={})}else e.slots={},t&&Ud(e,t);xi(e.slots,po,1)},B1=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=fe;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Oe(r,t),!n&&a===1&&delete r._):(i=!t.$stable,Bd(t,r)),o=t}else t&&(Ud(e,t),o={default:1});if(i)for(const a in r)!jd(a)&&!(a in o)&&delete r[a]};function Ka(e,t,n,s,r=!1){if(K(e)){e.forEach((f,g)=>Ka(f,t&&(K(t)?t[g]:t),n,s,r));return}if(pi(s)&&!r)return;const i=s.shapeFlag&4?go(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===fe?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Le(l)?(u[l]=null,ee(h,l)&&(h[l]=null)):Ke(l)&&(l.value=null)),G(c))gn(c,a,12,[o,u]);else{const f=Le(c),g=Ke(c);if(f||g){const v=()=>{if(e.f){const T=f?ee(h,c)?h[c]:u[c]:c.value;r?K(T)&&Fc(T,i):K(T)?T.includes(i)||T.push(i):f?(u[c]=[i],ee(h,c)&&(h[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else f?(u[c]=o,ee(h,c)&&(h[c]=o)):g&&(c.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,nt(v,n)):v()}}}const nt=d1;function U1(e){return H1(e)}function H1(e,t){const n=Fa();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=At,insertStaticContent:v}=e,T=(d,p,m,y=null,b=null,E=null,k=!1,D=null,R=!!p.dynamicChildren)=>{if(d===p)return;d&&!Fs(d,p)&&(y=w(d),Ze(d,b,E,!0),d=null),p.patchFlag===-2&&(R=!1,p.dynamicChildren=null);const{type:_,ref:V,shapeFlag:L}=p;switch(_){case fo:x(d,p,m,y);break;case Kn:S(d,p,m,y);break;case mi:d==null&&O(p,m,y,k);break;case Wt:Bt(d,p,m,y,b,E,k,D,R);break;default:L&1?z(d,p,m,y,b,E,k,D,R):L&6?gt(d,p,m,y,b,E,k,D,R):(L&64||L&128)&&_.process(d,p,m,y,b,E,k,D,R,M)}V!=null&&b&&Ka(V,d&&d.ref,E,p||d,!p)},x=(d,p,m,y)=>{if(d==null)s(p.el=a(p.children),m,y);else{const b=p.el=d.el;p.children!==d.children&&l(b,p.children)}},S=(d,p,m,y)=>{d==null?s(p.el=c(p.children||""),m,y):p.el=d.el},O=(d,p,m,y)=>{[d.el,d.anchor]=v(d.children,p,m,y,d.el,d.anchor)},N=({el:d,anchor:p},m,y)=>{let b;for(;d&&d!==p;)b=f(d),s(d,m,y),d=b;s(p,m,y)},A=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),r(d),d=m;r(p)},z=(d,p,m,y,b,E,k,D,R)=>{k=k||p.type==="svg",d==null?X(p,m,y,b,E,k,D,R):Te(d,p,b,E,k,D,R)},X=(d,p,m,y,b,E,k,D)=>{let R,_;const{type:V,props:L,shapeFlag:j,transition:q,dirs:Y}=d;if(R=d.el=o(d.type,E,L&&L.is,L),j&8?u(R,d.children):j&16&&$e(d.children,R,null,y,b,E&&V!=="foreignObject",k,D),Y&&An(d,null,y,"created"),ge(R,d,d.scopeId,k,y),L){for(const ae in L)ae!=="value"&&!fi(ae)&&i(R,ae,null,L[ae],E,d.children,y,b,Ve);"value"in L&&i(R,"value",null,L.value),(_=L.onVnodeBeforeMount)&&Rt(_,y,d)}Y&&An(d,null,y,"beforeMount");const le=(!b||b&&!b.pendingBranch)&&q&&!q.persisted;le&&q.beforeEnter(R),s(R,p,m),((_=L&&L.onVnodeMounted)||le||Y)&&nt(()=>{_&&Rt(_,y,d),le&&q.enter(R),Y&&An(d,null,y,"mounted")},b)},ge=(d,p,m,y,b)=>{if(m&&g(d,m),y)for(let E=0;E<y.length;E++)g(d,y[E]);if(b){let E=b.subTree;if(p===E){const k=b.vnode;ge(d,k,k.scopeId,k.slotScopeIds,b.parent)}}},$e=(d,p,m,y,b,E,k,D,R=0)=>{for(let _=R;_<d.length;_++){const V=d[_]=D?cn(d[_]):Nt(d[_]);T(null,V,p,m,y,b,E,k,D)}},Te=(d,p,m,y,b,E,k)=>{const D=p.el=d.el;let{patchFlag:R,dynamicChildren:_,dirs:V}=p;R|=d.patchFlag&16;const L=d.props||fe,j=p.props||fe;let q;m&&Sn(m,!1),(q=j.onVnodeBeforeUpdate)&&Rt(q,m,p,d),V&&An(p,d,m,"beforeUpdate"),m&&Sn(m,!0);const Y=b&&p.type!=="foreignObject";if(_?pt(d.dynamicChildren,_,D,m,y,Y,E):k||ne(d,p,D,null,m,y,Y,E,!1),R>0){if(R&16)xt(D,p,L,j,m,y,b);else if(R&2&&L.class!==j.class&&i(D,"class",null,j.class,b),R&4&&i(D,"style",L.style,j.style,b),R&8){const le=p.dynamicProps;for(let ae=0;ae<le.length;ae++){const Ee=le[ae],vt=L[Ee],es=j[Ee];(es!==vt||Ee==="value")&&i(D,Ee,vt,es,b,d.children,m,y,Ve)}}R&1&&d.children!==p.children&&u(D,p.children)}else!k&&_==null&&xt(D,p,L,j,m,y,b);((q=j.onVnodeUpdated)||V)&&nt(()=>{q&&Rt(q,m,p,d),V&&An(p,d,m,"updated")},y)},pt=(d,p,m,y,b,E,k)=>{for(let D=0;D<p.length;D++){const R=d[D],_=p[D],V=R.el&&(R.type===Wt||!Fs(R,_)||R.shapeFlag&70)?h(R.el):m;T(R,_,V,null,y,b,E,k,!0)}},xt=(d,p,m,y,b,E,k)=>{if(m!==y){if(m!==fe)for(const D in m)!fi(D)&&!(D in y)&&i(d,D,m[D],null,k,p.children,b,E,Ve);for(const D in y){if(fi(D))continue;const R=y[D],_=m[D];R!==_&&D!=="value"&&i(d,D,_,R,k,p.children,b,E,Ve)}"value"in y&&i(d,"value",m.value,y.value)}},Bt=(d,p,m,y,b,E,k,D,R)=>{const _=p.el=d?d.el:a(""),V=p.anchor=d?d.anchor:a("");let{patchFlag:L,dynamicChildren:j,slotScopeIds:q}=p;q&&(D=D?D.concat(q):q),d==null?(s(_,m,y),s(V,m,y),$e(p.children,m,V,b,E,k,D,R)):L>0&&L&64&&j&&d.dynamicChildren?(pt(d.dynamicChildren,j,m,b,E,k,D),(p.key!=null||b&&p===b.subTree)&&Hd(d,p,!0)):ne(d,p,m,V,b,E,k,D,R)},gt=(d,p,m,y,b,E,k,D,R)=>{p.slotScopeIds=D,d==null?p.shapeFlag&512?b.ctx.activate(p,m,y,k,R):Ut(p,m,y,b,E,k,R):Ht(d,p,R)},Ut=(d,p,m,y,b,E,k)=>{const D=d.component=Z1(d,y,b);if(Od(d)&&(D.ctx.renderer=M),eb(D),D.asyncDep){if(b&&b.registerDep(D,Ie),!d.el){const R=D.subTree=rt(Kn);S(null,R,p,m)}return}Ie(D,d,p,m,b,E,k)},Ht=(d,p,m)=>{const y=p.component=d.component;if(u1(d,p,m))if(y.asyncDep&&!y.asyncResolved){ce(y,p,m);return}else y.next=p,t1(y.update),y.update();else p.el=d.el,y.vnode=p},Ie=(d,p,m,y,b,E,k)=>{const D=()=>{if(d.isMounted){let{next:V,bu:L,u:j,parent:q,vnode:Y}=d,le=V,ae;Sn(d,!1),V?(V.el=Y.el,ce(d,V,k)):V=Y,L&&di(L),(ae=V.props&&V.props.onVnodeBeforeUpdate)&&Rt(ae,q,V,Y),Sn(d,!0);const Ee=ea(d),vt=d.subTree;d.subTree=Ee,T(vt,Ee,h(vt.el),w(vt),d,b,E),V.el=Ee.el,le===null&&h1(d,Ee.el),j&&nt(j,b),(ae=V.props&&V.props.onVnodeUpdated)&&nt(()=>Rt(ae,q,V,Y),b)}else{let V;const{el:L,props:j}=p,{bm:q,m:Y,parent:le}=d,ae=pi(p);if(Sn(d,!1),q&&di(q),!ae&&(V=j&&j.onVnodeBeforeMount)&&Rt(V,le,p),Sn(d,!0),L&&se){const Ee=()=>{d.subTree=ea(d),se(L,d.subTree,d,b,null)};ae?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Ee()):Ee()}else{const Ee=d.subTree=ea(d);T(null,Ee,m,y,d,b,E),p.el=Ee.el}if(Y&&nt(Y,b),!ae&&(V=j&&j.onVnodeMounted)){const Ee=p;nt(()=>Rt(V,le,Ee),b)}(p.shapeFlag&256||le&&pi(le.vnode)&&le.vnode.shapeFlag&256)&&d.a&&nt(d.a,b),d.isMounted=!0,p=m=y=null}},R=d.effect=new Uc(D,()=>Qc(_),d.scope),_=d.update=()=>R.run();_.id=d.uid,Sn(d,!0),_()},ce=(d,p,m)=>{p.component=d;const y=d.vnode.props;d.vnode=p,d.next=null,$1(d,p.props,y,m),B1(d,p.children,m),Cs(),Mu(),xs()},ne=(d,p,m,y,b,E,k,D,R=!1)=>{const _=d&&d.children,V=d?d.shapeFlag:0,L=p.children,{patchFlag:j,shapeFlag:q}=p;if(j>0){if(j&128){rn(_,L,m,y,b,E,k,D,R);return}else if(j&256){zt(_,L,m,y,b,E,k,D,R);return}}q&8?(V&16&&Ve(_,b,E),L!==_&&u(m,L)):V&16?q&16?rn(_,L,m,y,b,E,k,D,R):Ve(_,b,E,!0):(V&8&&u(m,""),q&16&&$e(L,m,y,b,E,k,D,R))},zt=(d,p,m,y,b,E,k,D,R)=>{d=d||as,p=p||as;const _=d.length,V=p.length,L=Math.min(_,V);let j;for(j=0;j<L;j++){const q=p[j]=R?cn(p[j]):Nt(p[j]);T(d[j],q,m,null,b,E,k,D,R)}_>V?Ve(d,b,E,!0,!1,L):$e(p,m,y,b,E,k,D,R,L)},rn=(d,p,m,y,b,E,k,D,R)=>{let _=0;const V=p.length;let L=d.length-1,j=V-1;for(;_<=L&&_<=j;){const q=d[_],Y=p[_]=R?cn(p[_]):Nt(p[_]);if(Fs(q,Y))T(q,Y,m,null,b,E,k,D,R);else break;_++}for(;_<=L&&_<=j;){const q=d[L],Y=p[j]=R?cn(p[j]):Nt(p[j]);if(Fs(q,Y))T(q,Y,m,null,b,E,k,D,R);else break;L--,j--}if(_>L){if(_<=j){const q=j+1,Y=q<V?p[q].el:y;for(;_<=j;)T(null,p[_]=R?cn(p[_]):Nt(p[_]),m,Y,b,E,k,D,R),_++}}else if(_>j)for(;_<=L;)Ze(d[_],b,E,!0),_++;else{const q=_,Y=_,le=new Map;for(_=Y;_<=j;_++){const ct=p[_]=R?cn(p[_]):Nt(p[_]);ct.key!=null&&le.set(ct.key,_)}let ae,Ee=0;const vt=j-Y+1;let es=!1,nu=0;const Ps=new Array(vt);for(_=0;_<vt;_++)Ps[_]=0;for(_=q;_<=L;_++){const ct=d[_];if(Ee>=vt){Ze(ct,b,E,!0);continue}let Dt;if(ct.key!=null)Dt=le.get(ct.key);else for(ae=Y;ae<=j;ae++)if(Ps[ae-Y]===0&&Fs(ct,p[ae])){Dt=ae;break}Dt===void 0?Ze(ct,b,E,!0):(Ps[Dt-Y]=_+1,Dt>=nu?nu=Dt:es=!0,T(ct,p[Dt],m,null,b,E,k,D,R),Ee++)}const su=es?z1(Ps):as;for(ae=su.length-1,_=vt-1;_>=0;_--){const ct=Y+_,Dt=p[ct],ru=ct+1<V?p[ct+1].el:y;Ps[_]===0?T(null,Dt,m,ru,b,E,k,D,R):es&&(ae<0||_!==su[ae]?Ot(Dt,m,ru,2):ae--)}}},Ot=(d,p,m,y,b=null)=>{const{el:E,type:k,transition:D,children:R,shapeFlag:_}=d;if(_&6){Ot(d.component.subTree,p,m,y);return}if(_&128){d.suspense.move(p,m,y);return}if(_&64){k.move(d,p,m,M);return}if(k===Wt){s(E,p,m);for(let L=0;L<R.length;L++)Ot(R[L],p,m,y);s(d.anchor,p,m);return}if(k===mi){N(d,p,m);return}if(y!==2&&_&1&&D)if(y===0)D.beforeEnter(E),s(E,p,m),nt(()=>D.enter(E),b);else{const{leave:L,delayLeave:j,afterLeave:q}=D,Y=()=>s(E,p,m),le=()=>{L(E,()=>{Y(),q&&q()})};j?j(E,Y,le):le()}else s(E,p,m)},Ze=(d,p,m,y=!1,b=!1)=>{const{type:E,props:k,ref:D,children:R,dynamicChildren:_,shapeFlag:V,patchFlag:L,dirs:j}=d;if(D!=null&&Ka(D,null,m,d,!0),V&256){p.ctx.deactivate(d);return}const q=V&1&&j,Y=!pi(d);let le;if(Y&&(le=k&&k.onVnodeBeforeUnmount)&&Rt(le,p,d),V&6)Gr(d.component,m,y);else{if(V&128){d.suspense.unmount(m,y);return}q&&An(d,null,p,"beforeUnmount"),V&64?d.type.remove(d,p,m,b,M,y):_&&(E!==Wt||L>0&&L&64)?Ve(_,p,m,!1,!0):(E===Wt&&L&384||!b&&V&16)&&Ve(R,p,m),y&&Jn(d)}(Y&&(le=k&&k.onVnodeUnmounted)||q)&&nt(()=>{le&&Rt(le,p,d),q&&An(d,null,p,"unmounted")},m)},Jn=d=>{const{type:p,el:m,anchor:y,transition:b}=d;if(p===Wt){Zn(m,y);return}if(p===mi){A(d);return}const E=()=>{r(m),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(d.shapeFlag&1&&b&&!b.persisted){const{leave:k,delayLeave:D}=b,R=()=>k(m,E);D?D(d.el,E,R):R()}else E()},Zn=(d,p)=>{let m;for(;d!==p;)m=f(d),r(d),d=m;r(p)},Gr=(d,p,m)=>{const{bum:y,scope:b,update:E,subTree:k,um:D}=d;y&&di(y),b.stop(),E&&(E.active=!1,Ze(k,d,p,m)),D&&nt(D,p),nt(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ve=(d,p,m,y=!1,b=!1,E=0)=>{for(let k=E;k<d.length;k++)Ze(d[k],p,m,y,b)},w=d=>d.shapeFlag&6?w(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),F=(d,p,m)=>{d==null?p._vnode&&Ze(p._vnode,null,null,!0):T(p._vnode||null,d,p,null,null,null,m),Mu(),Id(),p._vnode=d},M={p:T,um:Ze,m:Ot,r:Jn,mt:Ut,mc:$e,pc:ne,pbc:pt,n:w,o:e};let $,se;return t&&([$,se]=t(M)),{render:F,hydrate:$,createApp:F1(F,$)}}function Sn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Hd(e,t,n=!1){const s=e.children,r=t.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=cn(r[i]),a.el=o.el),n||Hd(o,a)),a.type===fo&&(a.el=o.el)}}function z1(e){const t=e.slice(),n=[0];let s,r,i,o,a;const c=e.length;for(s=0;s<c;s++){const l=e[s];if(l!==0){if(r=n[n.length-1],e[r]<l){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const q1=e=>e.__isTeleport,Wt=Symbol.for("v-fgt"),fo=Symbol.for("v-txt"),Kn=Symbol.for("v-cmt"),mi=Symbol.for("v-stc"),Gs=[];let Tt=null;function Be(e=!1){Gs.push(Tt=e?null:[])}function K1(){Gs.pop(),Tt=Gs[Gs.length-1]||null}let hr=1;function zu(e){hr+=e}function zd(e){return e.dynamicChildren=hr>0?Tt||as:null,K1(),hr>0&&Tt&&Tt.push(e),e}function tt(e,t,n,s,r,i){return zd(ue(e,t,n,s,r,i,!0))}function qd(e,t,n,s,r){return zd(rt(e,t,n,s,r,!0))}function Wa(e){return e?e.__v_isVNode===!0:!1}function Fs(e,t){return e.type===t.type&&e.key===t.key}const po="__vInternal",Kd=({key:e})=>e??null,yi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||Ke(e)||G(e)?{i:ut,r:e,k:t,f:!!n}:e:null);function ue(e,t=null,n=null,s=0,r=null,i=e===Wt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Kd(t),ref:t&&yi(t),scopeId:uo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ut};return a?(el(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Le(n)?8:16),hr>0&&!o&&Tt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Tt.push(c),c}const rt=W1;function W1(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===S1)&&(e=Kn),Wa(e)){const a=gs(e,t,!0);return n&&el(a,n),hr>0&&!i&&Tt&&(a.shapeFlag&6?Tt[Tt.indexOf(e)]=a:Tt.push(a)),a.patchFlag|=-2,a}if(rb(e)&&(e=e.__vccOpts),t){t=G1(t);let{class:a,style:c}=t;a&&!Le(a)&&(t.class=jc(a)),be(c)&&(gd(c)&&!K(c)&&(c=Oe({},c)),t.style=Vc(c))}const o=Le(e)?1:f1(e)?128:q1(e)?64:be(e)?4:G(e)?2:0;return ue(e,t,n,s,r,o,i,!0)}function G1(e){return e?gd(e)||po in e?Oe({},e):e:null}function gs(e,t,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=e,a=t?Y1(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Kd(a),ref:t&&t.ref?n&&r?K(r)?r.concat(yi(t)):[r,yi(t)]:yi(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Wt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gs(e.ssContent),ssFallback:e.ssFallback&&gs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Us(e=" ",t=0){return rt(fo,null,e,t)}function Os(e,t){const n=rt(mi,null,e);return n.staticCount=t,n}function Q1(e="",t=!1){return t?(Be(),qd(Kn,null,e)):rt(Kn,null,e)}function Nt(e){return e==null||typeof e=="boolean"?rt(Kn):K(e)?rt(Wt,null,e.slice()):typeof e=="object"?cn(e):rt(fo,null,String(e))}function cn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gs(e)}function el(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(K(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),el(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(po in t)?t._ctx=ut:r===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),s&64?(n=16,t=[Us(t)]):n=8);e.children=t,e.shapeFlag|=n}function Y1(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=jc([t.class,s.class]));else if(r==="style")t.style=Vc([t.style,s.style]);else if(so(r)){const i=t[r],o=s[r];o&&i!==o&&!(K(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function Rt(e,t,n,s=null){St(e,t,7,[n,s])}const X1=Ld();let J1=0;function Z1(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||X1,i={uid:J1++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new vw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vd(s,r),emitsOptions:Sd(s,r),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:s.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=r1.bind(null,i),e.ce&&e.ce(i),i}let Se=null;const tl=()=>Se||ut;let nl,ts,qu="__VUE_INSTANCE_SETTERS__";(ts=Fa()[qu])||(ts=Fa()[qu]=[]),ts.push(e=>Se=e),nl=e=>{ts.length>1?ts.forEach(t=>t(e)):ts[0](e)};const ms=e=>{nl(e),e.scope.on()},Vn=()=>{Se&&Se.scope.off(),nl(null)};function Wd(e){return e.vnode.shapeFlag&4}let fr=!1;function eb(e,t=!1){fr=t;const{props:n,children:s}=e.vnode,r=Wd(e);L1(e,n,r,t),j1(e,s);const i=r?tb(e,t):void 0;return fr=!1,i}function tb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=md(new Proxy(e.ctx,C1));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?Qd(e):null;ms(e),Cs();const i=gn(s,e,0,[e.props,r]);if(xs(),Vn(),td(i)){if(i.then(Vn,Vn),t)return i.then(o=>{Ku(e,o,t)}).catch(o=>{co(o,e,0)});e.asyncDep=i}else Ku(e,i,t)}else Gd(e,t)}function Ku(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:be(t)&&(e.setupState=bd(t)),Gd(e,n)}let Wu;function Gd(e,t,n){const s=e.type;if(!e.render){if(!t&&Wu&&!s.render){const r=s.template||Jc(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Oe(Oe({isCustomElement:i,delimiters:a},o),c);s.render=Wu(r,l)}}e.render=s.render||At}ms(e),Cs(),D1(e),xs(),Vn()}function nb(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ot(e,"get","$attrs"),t[n]}}))}function Qd(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return nb(e)},slots:e.slots,emit:e.emit,expose:t}}function go(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(bd(md(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ws)return Ws[n](e)},has(t,n){return n in t||n in Ws}}))}function sb(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function rb(e){return G(e)&&"__vccOpts"in e}const we=(e,t)=>Jw(e,t,fr);function Mi(e,t,n){const s=arguments.length;return s===2?be(t)&&!K(t)?Wa(t)?rt(e,null,[t]):rt(e,t):rt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Wa(n)&&(n=[n]),rt(e,t,n))}const ib=Symbol.for("v-scx"),ob=()=>Qt(ib),ab="3.3.4",cb="http://www.w3.org/2000/svg",Rn=typeof document<"u"?document:null,Gu=Rn&&Rn.createElement("template"),lb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t?Rn.createElementNS(cb,e):Rn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Rn.createTextNode(e),createComment:e=>Rn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Gu.innerHTML=s?`<svg>${e}</svg>`:e;const a=Gu.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ub(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function hb(e,t,n){const s=e.style,r=Le(n);if(n&&!r){if(t&&!Le(t))for(const i in t)n[i]==null&&Ga(s,i,"");for(const i in n)Ga(s,i,n[i])}else{const i=s.display;r?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const Qu=/\s*!important$/;function Ga(e,t,n){if(K(n))n.forEach(s=>Ga(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=fb(e,t);Qu.test(n)?e.setProperty(Ss(s),n.replace(Qu,""),"important"):e[s]=n}}const Yu=["Webkit","Moz","ms"],na={};function fb(e,t){const n=na[t];if(n)return n;let s=$t(t);if(s!=="filter"&&s in e)return na[t]=s;s=oo(s);for(let r=0;r<Yu.length;r++){const i=Yu[r]+s;if(i in e)return na[t]=i}return t}const Xu="http://www.w3.org/1999/xlink";function db(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Xu,t.slice(6,t.length)):e.setAttributeNS(Xu,t,n);else{const i=yw(t);n==null||i&&!nd(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function pb(e,t,n,s,r,i,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,r,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const l=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";l!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=nd(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function ss(e,t,n,s){e.addEventListener(t,n,s)}function gb(e,t,n,s){e.removeEventListener(t,n,s)}function mb(e,t,n,s,r=null){const i=e._vei||(e._vei={}),o=i[t];if(s&&o)o.value=s;else{const[a,c]=yb(t);if(s){const l=i[t]=bb(s,r);ss(e,a,l,c)}else o&&(gb(e,a,o,c),i[t]=void 0)}}const Ju=/(?:Once|Passive|Capture)$/;function yb(e){let t;if(Ju.test(e)){t={};let s;for(;s=e.match(Ju);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ss(e.slice(2)),t]}let sa=0;const vb=Promise.resolve(),wb=()=>sa||(vb.then(()=>sa=0),sa=Date.now());function bb(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;St(Eb(s,n.value),t,5,[s])};return n.value=e,n.attached=wb(),n}function Eb(e,t){if(K(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Zu=/^on[a-z]/,_b=(e,t,n,s,r=!1,i,o,a,c)=>{t==="class"?ub(e,s,r):t==="style"?hb(e,n,s):so(t)?kc(t)||mb(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tb(e,t,s,r))?pb(e,t,s,i,o,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),db(e,t,s,r))};function Tb(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Zu.test(t)&&G(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Zu.test(t)&&Le(n)?!1:t in e}const eh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return K(t)?n=>di(t,n):t};function Ib(e){e.target.composing=!0}function th(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ra={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e._assign=eh(r);const i=s||r.props&&r.props.type==="number";ss(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ka(a)),e._assign(a)}),n&&ss(e,"change",()=>{e.value=e.value.trim()}),t||(ss(e,"compositionstart",Ib),ss(e,"compositionend",th),ss(e,"change",th))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},i){if(e._assign=eh(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(r||e.type==="number")&&ka(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Ab=["ctrl","shift","alt","meta"],Sb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ab.some(n=>e[`${n}Key`]&&!t.includes(n))},Cb=(e,t)=>(n,...s)=>{for(let r=0;r<t.length;r++){const i=Sb[t[r]];if(i&&i(n,t))return}return e(n,...s)},xb=Oe({patchProp:_b},lb);let nh;function Ob(){return nh||(nh=U1(xb))}const Db=(...e)=>{const t=Ob().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Rb(s);if(!r)return;const i=t._component;!G(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Rb(e){return Le(e)?document.querySelector(e):e}function ia(e){return e!==null&&typeof e=="object"}function Qa(e,t,n=".",s){if(!ia(t))return Qa(e,{},n,s);const r=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const o=e[i];o!=null&&(s&&s(r,i,o,n)||(Array.isArray(o)&&Array.isArray(r[i])?r[i]=[...o,...r[i]]:ia(o)&&ia(r[i])?r[i]=Qa(o,r[i],(n?`${n}.`:"")+i.toString(),s):r[i]=o))}return r}function Nb(e){return(...t)=>t.reduce((n,s)=>Qa(n,s,"",e),{})}const Mb=Nb();function Yd(e){return sd()?(bw(e),!0):!1}function sl(e){return typeof e=="function"?e():ft(e)}const Pb=typeof window<"u",kb=e=>e!=null,Fb=Object.prototype.toString,Ya=e=>Fb.call(e)==="[object Object]",vi=()=>{};function Lb(e){tl()&&Xc(e)}function Qs(e){var t;const n=sl(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Xd=Pb?window:void 0;function wt(...e){let t,n,s,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,r]=e,t=Xd):[t,n,s,r]=e,!t)return vi;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,h,f,g)=>(u.addEventListener(h,f,g),()=>u.removeEventListener(h,f,g)),c=We(()=>[Qs(t),sl(r)],([u,h])=>{o(),u&&i.push(...n.flatMap(f=>s.map(g=>a(u,f,g,h))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return Yd(l),l}function $b(){const e=yt(!1);return tl()&&Rd(()=>{e.value=!0}),e}function Vb(e){const t=$b();return we(()=>(t.value,!!e()))}function jb(e,t,n={}){const{root:s,rootMargin:r="0px",threshold:i=.1,window:o=Xd,immediate:a=!0}=n,c=Vb(()=>o&&"IntersectionObserver"in o),l=we(()=>{const v=sl(e);return(Array.isArray(v)?v:[v]).map(Qs).filter(kb)});let u=vi;const h=yt(a),f=c.value?We(()=>[l.value,Qs(s),h.value],([v,T])=>{if(u(),!h.value||!v.length)return;const x=new IntersectionObserver(t,{root:Qs(T),rootMargin:r,threshold:i});v.forEach(S=>S&&x.observe(S)),u=()=>{x.disconnect(),u=vi}},{immediate:a,flush:"post"}):vi,g=()=>{u(),f(),h.value=!1};return Yd(g),{isSupported:c,isActive:h,pause(){u(),h.value=!1},resume(){h.value=!0},stop:g}}const Jd=1/60*1e3,Bb=typeof performance<"u"?()=>performance.now():()=>Date.now(),Zd=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Bb()),Jd);function Ub(e){let t=[],n=[],s=0,r=!1,i=!1;const o=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const h=u&&r,f=h?t:n;return l&&o.add(c),f.indexOf(c)===-1&&(f.push(c),h&&r&&(s=t.length)),c},cancel:c=>{const l=n.indexOf(c);l!==-1&&n.splice(l,1),o.delete(c)},process:c=>{if(r){i=!0;return}if(r=!0,[t,n]=[n,t],n.length=0,s=t.length,s)for(let l=0;l<s;l++){const u=t[l];u(c),o.has(u)&&(a.schedule(u),e())}r=!1,i&&(i=!1,a.process(c))}};return a}const Hb=40;let Xa=!0,dr=!1,Ja=!1;const us={delta:0,timestamp:0},Rr=["read","update","preRender","render","postRender"],mo=Rr.reduce((e,t)=>(e[t]=Ub(()=>dr=!0),e),{}),Za=Rr.reduce((e,t)=>{const n=mo[t];return e[t]=(s,r=!1,i=!1)=>(dr||Kb(),n.schedule(s,r,i)),e},{}),zb=Rr.reduce((e,t)=>(e[t]=mo[t].cancel,e),{});Rr.reduce((e,t)=>(e[t]=()=>mo[t].process(us),e),{});const qb=e=>mo[e].process(us),ep=e=>{dr=!1,us.delta=Xa?Jd:Math.max(Math.min(e-us.timestamp,Hb),1),us.timestamp=e,Ja=!0,Rr.forEach(qb),Ja=!1,dr&&(Xa=!1,Zd(ep))},Kb=()=>{dr=!0,Xa=!0,Ja||Zd(ep)},tp=()=>us;function np(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}var Wb=function(){},sh=function(){};const ec=(e,t,n)=>Math.min(Math.max(n,e),t),oa=.001,Gb=.01,rh=10,Qb=.05,Yb=1;function Xb({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let r,i;Wb(e<=rh*1e3);let o=1-t;o=ec(Qb,Yb,o),e=ec(Gb,rh,e/1e3),o<1?(r=l=>{const u=l*o,h=u*e,f=u-n,g=tc(l,o),v=Math.exp(-h);return oa-f/g*v},i=l=>{const h=l*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(l,2)*e,v=Math.exp(-h),T=tc(Math.pow(l,2),o);return(-r(l)+oa>0?-1:1)*((f-g)*v)/T}):(r=l=>{const u=Math.exp(-l*e),h=(l-n)*e+1;return-oa+u*h},i=l=>{const u=Math.exp(-l*e),h=(n-l)*(e*e);return u*h});const a=5/e,c=Zb(r,i,a);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(c,2)*s;return{stiffness:l,damping:o*2*Math.sqrt(s*l),duration:e}}}const Jb=12;function Zb(e,t,n){let s=n;for(let r=1;r<Jb;r++)s=s-e(s)/t(s);return s}function tc(e,t){return e*Math.sqrt(1-t*t)}const eE=["duration","bounce"],tE=["stiffness","damping","mass"];function ih(e,t){return t.some(n=>e[n]!==void 0)}function nE(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!ih(e,tE)&&ih(e,eE)){const n=Xb(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function rl(e){var{from:t=0,to:n=1,restSpeed:s=2,restDelta:r}=e,i=np(e,["from","to","restSpeed","restDelta"]);const o={done:!1,value:t};let{stiffness:a,damping:c,mass:l,velocity:u,duration:h,isResolvedFromDuration:f}=nE(i),g=oh,v=oh;function T(){const x=u?-(u/1e3):0,S=n-t,O=c/(2*Math.sqrt(a*l)),N=Math.sqrt(a/l)/1e3;if(r===void 0&&(r=Math.min(Math.abs(n-t)/100,.4)),O<1){const A=tc(N,O);g=z=>{const X=Math.exp(-O*N*z);return n-X*((x+O*N*S)/A*Math.sin(A*z)+S*Math.cos(A*z))},v=z=>{const X=Math.exp(-O*N*z);return O*N*X*(Math.sin(A*z)*(x+O*N*S)/A+S*Math.cos(A*z))-X*(Math.cos(A*z)*(x+O*N*S)-A*S*Math.sin(A*z))}}else if(O===1)g=A=>n-Math.exp(-N*A)*(S+(x+N*S)*A);else{const A=N*Math.sqrt(O*O-1);g=z=>{const X=Math.exp(-O*N*z),ge=Math.min(A*z,300);return n-X*((x+O*N*S)*Math.sinh(ge)+A*S*Math.cosh(ge))/A}}}return T(),{next:x=>{const S=g(x);if(f)o.done=x>=h;else{const O=v(x)*1e3,N=Math.abs(O)<=s,A=Math.abs(n-S)<=r;o.done=N&&A}return o.value=o.done?n:S,o},flipTarget:()=>{u=-u,[t,n]=[n,t],T()}}}rl.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const oh=e=>0,sp=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},il=(e,t,n)=>-n*e+n*t+e,rp=(e,t)=>n=>Math.max(Math.min(n,t),e),Ys=e=>e%1?Number(e.toFixed(5)):e,pr=/(-)?([\d]*\.?[\d])+/g,nc=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sE=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nr(e){return typeof e=="string"}const Mr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xs=Object.assign(Object.assign({},Mr),{transform:rp(0,1)}),ti=Object.assign(Object.assign({},Mr),{default:1}),ol=e=>({test:t=>Nr(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cn=ol("deg"),Js=ol("%"),W=ol("px"),ah=Object.assign(Object.assign({},Js),{parse:e=>Js.parse(e)/100,transform:e=>Js.transform(e*100)}),al=(e,t)=>n=>!!(Nr(n)&&sE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ip=(e,t,n)=>s=>{if(!Nr(s))return s;const[r,i,o,a]=s.match(pr);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Pn={test:al("hsl","hue"),parse:ip("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Js.transform(Ys(t))+", "+Js.transform(Ys(n))+", "+Ys(Xs.transform(s))+")"},rE=rp(0,255),aa=Object.assign(Object.assign({},Mr),{transform:e=>Math.round(rE(e))}),un={test:al("rgb","red"),parse:ip("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+aa.transform(e)+", "+aa.transform(t)+", "+aa.transform(n)+", "+Ys(Xs.transform(s))+")"};function iE(e){let t="",n="",s="",r="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),s=e.substr(5,2),r=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),s=e.substr(3,1),r=e.substr(4,1),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const sc={test:al("#"),parse:iE,transform:un.transform},st={test:e=>un.test(e)||sc.test(e)||Pn.test(e),parse:e=>un.test(e)?un.parse(e):Pn.test(e)?Pn.parse(e):sc.parse(e),transform:e=>Nr(e)?e:e.hasOwnProperty("red")?un.transform(e):Pn.transform(e)},op="${c}",ap="${n}";function oE(e){var t,n,s,r;return isNaN(e)&&Nr(e)&&((n=(t=e.match(pr))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)+((r=(s=e.match(nc))===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>0}function cp(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0;const s=e.match(nc);s&&(n=s.length,e=e.replace(nc,op),t.push(...s.map(st.parse)));const r=e.match(pr);return r&&(e=e.replace(pr,ap),t.push(...r.map(Mr.parse))),{values:t,numColors:n,tokenised:e}}function lp(e){return cp(e).values}function up(e){const{values:t,numColors:n,tokenised:s}=cp(e),r=t.length;return i=>{let o=s;for(let a=0;a<r;a++)o=o.replace(a<n?op:ap,a<n?st.transform(i[a]):Ys(i[a]));return o}}const aE=e=>typeof e=="number"?0:e;function cE(e){const t=lp(e);return up(e)(t.map(aE))}const Pr={test:oE,parse:lp,createTransformer:up,getAnimatableNone:cE},lE=new Set(["brightness","contrast","saturate","opacity"]);function uE(e){let[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(pr)||[];if(!s)return e;const r=n.replace(s,"");let i=lE.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const hE=/([a-z-]*)\(.*?\)/g,rc=Object.assign(Object.assign({},Pr),{getAnimatableNone:e=>{const t=e.match(hE);return t?t.map(uE).join(" "):e}});function ca(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ch({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,o=0;if(!t)r=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;r=ca(c,a,e+1/3),i=ca(c,a,e),o=ca(c,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const fE=(e,t,n)=>{const s=e*e,r=t*t;return Math.sqrt(Math.max(0,n*(r-s)+s))},dE=[sc,un,Pn],lh=e=>dE.find(t=>t.test(e)),hp=(e,t)=>{let n=lh(e),s=lh(t),r=n.parse(e),i=s.parse(t);n===Pn&&(r=ch(r),n=un),s===Pn&&(i=ch(i),s=un);const o=Object.assign({},r);return a=>{for(const c in o)c!=="alpha"&&(o[c]=fE(r[c],i[c],a));return o.alpha=il(r.alpha,i.alpha,a),n.transform(o)}},pE=e=>typeof e=="number",gE=(e,t)=>n=>t(e(n)),fp=(...e)=>e.reduce(gE);function dp(e,t){return pE(e)?n=>il(e,t,n):st.test(e)?hp(e,t):gp(e,t)}const pp=(e,t)=>{const n=[...e],s=n.length,r=e.map((i,o)=>dp(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}},mE=(e,t)=>{const n=Object.assign(Object.assign({},e),t),s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=dp(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}};function uh(e){const t=Pr.parse(e),n=t.length;let s=0,r=0,i=0;for(let o=0;o<n;o++)s||typeof t[o]=="number"?s++:t[o].hue!==void 0?i++:r++;return{parsed:t,numNumbers:s,numRGB:r,numHSL:i}}const gp=(e,t)=>{const n=Pr.createTransformer(t),s=uh(e),r=uh(t);return s.numHSL===r.numHSL&&s.numRGB===r.numRGB&&s.numNumbers>=r.numNumbers?fp(pp(s.parsed,r.parsed),n):o=>`${o>0?t:e}`},yE=(e,t)=>n=>il(e,t,n);function vE(e){if(typeof e=="number")return yE;if(typeof e=="string")return st.test(e)?hp:gp;if(Array.isArray(e))return pp;if(typeof e=="object")return mE}function wE(e,t,n){const s=[],r=n||vE(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]:t;a=fp(c,a)}s.push(a)}return s}function bE([e,t],[n]){return s=>n(sp(e,t,s))}function EE(e,t){const n=e.length,s=n-1;return r=>{let i=0,o=!1;if(r<=e[0]?o=!0:r>=e[s]&&(i=s-1,o=!0),!o){let c=1;for(;c<n&&!(e[c]>r||c===s);c++);i=c-1}const a=sp(e[i],e[i+1],r);return t[i](a)}}function mp(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;sh(i===t.length),sh(!s||!Array.isArray(s)||s.length===i-1),e[0]>e[i-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const o=wE(t,s,r),a=i===2?bE(e,o):EE(e,o);return n?c=>a(ec(e[0],e[i-1],c)):a}const yo=e=>t=>1-e(1-t),cl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_E=e=>t=>Math.pow(t,e),yp=e=>t=>t*t*((e+1)*t-e),TE=e=>{const t=yp(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},vp=1.525,IE=4/11,AE=8/11,SE=9/10,wp=e=>e,ll=_E(2),CE=yo(ll),bp=cl(ll),Ep=e=>1-Math.sin(Math.acos(e)),_p=yo(Ep),xE=cl(_p),ul=yp(vp),OE=yo(ul),DE=cl(ul),RE=TE(vp),NE=4356/361,ME=35442/1805,PE=16061/1805,Pi=e=>{if(e===1||e===0)return e;const t=e*e;return e<IE?7.5625*t:e<AE?9.075*t-9.9*e+3.4:e<SE?NE*t-ME*e+PE:10.8*e*e-20.52*e+10.72},kE=yo(Pi),FE=e=>e<.5?.5*(1-Pi(1-e*2)):.5*Pi(e*2-1)+.5;function LE(e,t){return e.map(()=>t||bp).splice(0,e.length-1)}function $E(e){const t=e.length;return e.map((n,s)=>s!==0?s/(t-1):0)}function VE(e,t){return e.map(n=>n*t)}function wi({from:e=0,to:t=1,ease:n,offset:s,duration:r=300}){const i={done:!1,value:e},o=Array.isArray(t)?t:[e,t],a=VE(s&&s.length===o.length?s:$E(o),r);function c(){return mp(a,o,{ease:Array.isArray(n)?n:LE(o,n)})}let l=c();return{next:u=>(i.value=l(u),i.done=u>=r,i),flipTarget:()=>{o.reverse(),l=c()}}}function jE({velocity:e=0,from:t=0,power:n=.8,timeConstant:s=350,restDelta:r=.5,modifyTarget:i}){const o={done:!1,value:t};let a=n*e;const c=t+a,l=i===void 0?c:i(c);return l!==c&&(a=l-t),{next:u=>{const h=-a*Math.exp(-u/s);return o.done=!(h>r||h<-r),o.value=o.done?l:l+h,o},flipTarget:()=>{}}}const hh={keyframes:wi,spring:rl,decay:jE};function BE(e){if(Array.isArray(e.to))return wi;if(hh[e.type])return hh[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?wi:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?rl:wi}function Tp(e,t,n=0){return e-t-n}function UE(e,t,n=0,s=!0){return s?Tp(t+-e,t,n):t-(e-t)+n}function HE(e,t,n,s){return s?e>=t+n:e<=-n}const zE=e=>{const t=({delta:n})=>e(n);return{start:()=>Za.update(t,!0),stop:()=>zb.update(t)}};function Ip(e){var t,n,{from:s,autoplay:r=!0,driver:i=zE,elapsed:o=0,repeat:a=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:h,onComplete:f,onRepeat:g,onUpdate:v}=e,T=np(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:x}=T,S,O=0,N=T.duration,A,z=!1,X=!0,ge;const $e=BE(T);!((n=(t=$e).needsInterpolation)===null||n===void 0)&&n.call(t,s,x)&&(ge=mp([0,100],[s,x],{clamp:!1}),s=0,x=100);const Te=$e(Object.assign(Object.assign({},T),{from:s,to:x}));function pt(){O++,c==="reverse"?(X=O%2===0,o=UE(o,N,l,X)):(o=Tp(o,N,l),c==="mirror"&&Te.flipTarget()),z=!1,g&&g()}function xt(){S.stop(),f&&f()}function Bt(Ut){if(X||(Ut=-Ut),o+=Ut,!z){const Ht=Te.next(Math.max(0,o));A=Ht.value,ge&&(A=ge(A)),z=X?Ht.done:o<=0}v==null||v(A),z&&(O===0&&(N??(N=o)),O<a?HE(o,N,l,X)&&pt():xt())}function gt(){u==null||u(),S=i(Bt),S.start()}return r&&gt(),{stop:()=>{h==null||h(),S.stop()}}}function Ap(e,t){return t?e*(1e3/t):0}function qE({from:e=0,velocity:t=0,min:n,max:s,power:r=.8,timeConstant:i=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:l,driver:u,onUpdate:h,onComplete:f,onStop:g}){let v;function T(N){return n!==void 0&&N<n||s!==void 0&&N>s}function x(N){return n===void 0?s:s===void 0||Math.abs(n-N)<Math.abs(s-N)?n:s}function S(N){v==null||v.stop(),v=Ip(Object.assign(Object.assign({},N),{driver:u,onUpdate:A=>{var z;h==null||h(A),(z=N.onUpdate)===null||z===void 0||z.call(N,A)},onComplete:f,onStop:g}))}function O(N){S(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:c},N))}if(T(e))O({from:e,velocity:t,to:x(e)});else{let N=r*t+e;typeof l<"u"&&(N=l(N));const A=x(N),z=A===n?-1:1;let X,ge;const $e=Te=>{X=ge,ge=Te,t=Ap(Te-X,tp().delta),(z===1&&Te>A||z===-1&&Te<A)&&O({from:Te,to:A,velocity:t})};S({type:"decay",from:e,velocity:t,timeConstant:i,power:r,restDelta:c,modifyTarget:l,onUpdate:T(N)?$e:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const Sp=(e,t)=>1-3*t+3*e,Cp=(e,t)=>3*t-6*e,xp=e=>3*e,ki=(e,t,n)=>((Sp(t,n)*e+Cp(t,n))*e+xp(t))*e,Op=(e,t,n)=>3*Sp(t,n)*e*e+2*Cp(t,n)*e+xp(t),KE=1e-7,WE=10;function GE(e,t,n,s,r){let i,o,a=0;do o=t+(n-t)/2,i=ki(o,s,r)-e,i>0?n=o:t=o;while(Math.abs(i)>KE&&++a<WE);return o}const QE=8,YE=.001;function XE(e,t,n,s){for(let r=0;r<QE;++r){const i=Op(t,n,s);if(i===0)return t;const o=ki(t,n,s)-e;t-=o/i}return t}const bi=11,ni=1/(bi-1);function JE(e,t,n,s){if(e===t&&n===s)return wp;const r=new Float32Array(bi);for(let o=0;o<bi;++o)r[o]=ki(o*ni,e,n);function i(o){let a=0,c=1;const l=bi-1;for(;c!==l&&r[c]<=o;++c)a+=ni;--c;const u=(o-r[c])/(r[c+1]-r[c]),h=a+u*ni,f=Op(h,e,n);return f>=YE?XE(o,h,e,n):f===0?h:GE(o,a,a+ni,e,n)}return o=>o===0||o===1?o:ki(i(o),t,s)}const la={};class ZE{constructor(){this.subscriptions=new Set}add(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}notify(t,n,s){if(this.subscriptions.size)for(const r of this.subscriptions)r(t,n,s)}clear(){this.subscriptions.clear()}}function fh(e){return!isNaN(parseFloat(e))}class e_{constructor(t){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ZE,this.canTrackVelocity=!1,this.updateAndNotify=n=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:r}=tp();this.lastUpdated!==r&&(this.timeDelta=s,this.lastUpdated=r),Za.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Za.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=fh(this.current)),n!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=t,this.canTrackVelocity=fh(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}set(t){this.updateAndNotify(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ap(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{const{stop:s}=t(n);this.stopAnimation=s}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function t_(e){return new e_(e)}const{isArray:n_}=Array;function s_(){const e=yt({}),t=s=>{const r=i=>{e.value[i]&&(e.value[i].stop(),e.value[i].destroy(),delete e.value[i])};s?n_(s)?s.forEach(r):r(s):Object.keys(e.value).forEach(r)},n=(s,r,i)=>{if(e.value[s])return e.value[s];const o=t_(r);return o.onChange(a=>i[s]=a),e.value[s]=o,o};return Lb(t),{motionValues:e,get:n,stop:t}}function r_(e){return Array.isArray(e)}function xn(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function ua(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function i_(e){return{type:"spring",stiffness:550,damping:e===0?100:30,restDelta:.01,restSpeed:10}}function ha(){return{type:"keyframes",ease:"linear",duration:300}}function o_(e){return{type:"keyframes",duration:800,values:e}}const dh={default:i_,x:xn,y:xn,z:xn,rotate:xn,rotateX:xn,rotateY:xn,rotateZ:xn,scaleX:ua,scaleY:ua,scale:ua,backgroundColor:ha,color:ha,opacity:ha};function Dp(e,t){let n;return r_(t)?n=o_:n=dh[e]||dh.default,{to:t,...n(t)}}const ph={...Mr,transform:Math.round},Rp={color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,size:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,rotate:Cn,rotateX:Cn,rotateY:Cn,rotateZ:Cn,scale:ti,scaleX:ti,scaleY:ti,scaleZ:ti,skew:Cn,skewX:Cn,skewY:Cn,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:Xs,originX:ah,originY:ah,originZ:W,zIndex:ph,filter:rc,WebkitFilter:rc,fillOpacity:Xs,strokeOpacity:Xs,numOctaves:ph},hl=e=>Rp[e];function Np(e,t){return t&&typeof e=="number"&&t.transform?t.transform(e):e}function a_(e,t){let n=hl(e);return n!==rc&&(n=Pr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const c_={linear:wp,easeIn:ll,easeInOut:bp,easeOut:CE,circIn:Ep,circInOut:xE,circOut:_p,backIn:ul,backInOut:DE,backOut:OE,anticipate:RE,bounceIn:kE,bounceInOut:FE,bounceOut:Pi};function gh(e){if(Array.isArray(e)){const[t,n,s,r]=e;return JE(t,n,s,r)}else if(typeof e=="string")return c_[e];return e}function l_(e){return Array.isArray(e)&&typeof e[0]!="number"}function mh(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Pr.test(t)&&!t.startsWith("url("))}function u_(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function h_({ease:e,times:t,delay:n,...s}){const r={...s};return t&&(r.offset=t),e&&(r.ease=l_(e)?e.map(gh):gh(e)),n&&(r.elapsed=-n),r}function f_(e,t,n){return Array.isArray(t.to)&&(e.duration||(e.duration=800)),u_(t),d_(e)||(e={...e,...Dp(n,t.to)}),{...t,...h_(e)}}function d_({delay:e,repeat:t,repeatType:n,repeatDelay:s,from:r,...i}){return!!Object.keys(i).length}function p_(e,t){return e[t]||e.default||e}function g_(e,t,n,s,r){const i=p_(s,e);let o=i.from===null||i.from===void 0?t.get():i.from;const a=mh(e,n);o==="none"&&a&&typeof n=="string"&&(o=a_(e,n));const c=mh(e,o);function l(h){const f={from:o,to:n,velocity:s.velocity?s.velocity:t.getVelocity(),onUpdate:g=>t.set(g)};return i.type==="inertia"||i.type==="decay"?qE({...f,...i}):Ip({...f_(i,f,e),onUpdate:g=>{f.onUpdate(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s.onComplete&&s.onComplete(),r&&r(),h&&h()}})}function u(h){return t.set(n),s.onComplete&&s.onComplete(),r&&r(),h&&h(),{stop:()=>{}}}return!c||!a||i.type===!1?u:l}function m_(){const{motionValues:e,stop:t,get:n}=s_();return{motionValues:e,stop:t,push:(r,i,o,a={},c)=>{const l=o[r],u=n(r,l,o);if(a&&a.immediate){u.set(i);return}const h=g_(r,u,i,a,c);u.start(h)}}}function y_(e,t={},{motionValues:n,push:s,stop:r}=m_()){const i=ft(t),o=yt(!1);We(n,h=>{o.value=Object.values(h).filter(f=>f.isAnimating()).length>0},{immediate:!0,deep:!0});const a=h=>{if(!i||!i[h])throw new Error(`The variant ${h} does not exist.`);return i[h]},c=h=>(typeof h=="string"&&(h=a(h)),Promise.all(Object.entries(h).map(([f,g])=>{if(f!=="transition")return new Promise(v=>s(f,g,e,h.transition||Dp(f,h[f]),v))}).filter(Boolean)));return{isAnimating:o,apply:c,set:h=>{const f=Ya(h)?h:a(h);Object.entries(f).forEach(([g,v])=>{g!=="transition"&&s(g,v,e,{immediate:!0})})},leave:async h=>{let f;if(i&&(i.leave&&(f=i.leave),!i.leave&&i.initial&&(f=i.initial)),!f){h();return}await c(f),h()},stop:r}}const fl=typeof window<"u",v_=()=>fl&&window.onpointerdown===null,w_=()=>fl&&window.ontouchstart===null,b_=()=>fl&&window.onmousedown===null;function E_({target:e,state:t,variants:n,apply:s}){const r=ft(n),i=yt(!1),o=yt(!1),a=yt(!1),c=we(()=>{let u=[];return r&&(r.hovered&&(u=[...u,...Object.keys(r.hovered)]),r.tapped&&(u=[...u,...Object.keys(r.tapped)]),r.focused&&(u=[...u,...Object.keys(r.focused)])),u}),l=we(()=>{const u={};Object.assign(u,t.value),i.value&&r.hovered&&Object.assign(u,r.hovered),o.value&&r.tapped&&Object.assign(u,r.tapped),a.value&&r.focused&&Object.assign(u,r.focused);for(const h in u)c.value.includes(h)||delete u[h];return u});r.hovered&&(wt(e,"mouseenter",()=>i.value=!0),wt(e,"mouseleave",()=>{i.value=!1,o.value=!1}),wt(e,"mouseout",()=>{i.value=!1,o.value=!1})),r.tapped&&(b_()&&(wt(e,"mousedown",()=>o.value=!0),wt(e,"mouseup",()=>o.value=!1)),v_()&&(wt(e,"pointerdown",()=>o.value=!0),wt(e,"pointerup",()=>o.value=!1)),w_()&&(wt(e,"touchstart",()=>o.value=!0),wt(e,"touchend",()=>o.value=!1))),r.focused&&(wt(e,"focus",()=>a.value=!0),wt(e,"blur",()=>a.value=!1)),We(l,s)}function __({set:e,target:t,variants:n,variant:s}){const r=ft(n);We(()=>t,()=>{r&&(r.initial&&e("initial"),r.enter&&(s.value="enter"))},{immediate:!0,flush:"pre"})}function T_({state:e,apply:t}){We(e,n=>{n&&t(n)},{immediate:!0})}function I_({target:e,variants:t,variant:n}){const s=ft(t);s&&(s.visible||s.visibleOnce)&&jb(e,([{isIntersecting:r}])=>{s.visible?r?n.value="visible":n.value="initial":s.visibleOnce&&(r&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function A_(e,t={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){t.lifeCycleHooks&&__(e),t.syncVariants&&T_(e),t.visibilityHooks&&I_(e),t.eventListeners&&E_(e)}function Mp(e={}){const t=nn({...e}),n=yt({});return We(t,()=>{const s={};for(const[r,i]of Object.entries(t)){const o=hl(r),a=Np(i,o);s[r]=a}n.value=s},{immediate:!0,deep:!0}),{state:t,style:n}}function dl(e,t){We(()=>Qs(e),n=>{n&&t(n)},{immediate:!0})}const S_={x:"translateX",y:"translateY",z:"translateZ"};function Pp(e={},t=!0){const n=nn({...e}),s=yt("");return We(n,r=>{let i="",o=!1;if(t&&(r.x||r.y||r.z)){const a=[r.x||0,r.y||0,r.z||0].map(W.transform).join(",");i+=`translate3d(${a}) `,o=!0}for(const[a,c]of Object.entries(r)){if(t&&(a==="x"||a==="y"||a==="z"))continue;const l=hl(a),u=Np(c,l);i+=`${S_[a]||a}(${u}) `}t&&!o&&(i+="translateZ(0px) "),s.value=i.trim()},{immediate:!0,deep:!0}),{state:n,transform:s}}const C_=["","X","Y","Z"],x_=["perspective","translate","scale","rotate","skew"],kp=["transformPerspective","x","y","z"];x_.forEach(e=>{C_.forEach(t=>{const n=e+t;kp.push(n)})});const O_=new Set(kp);function pl(e){return O_.has(e)}const D_=new Set(["originX","originY","originZ"]);function Fp(e){return D_.has(e)}function R_(e){const t={},n={};return Object.entries(e).forEach(([s,r])=>{pl(s)||Fp(s)?t[s]=r:n[s]=r}),{transform:t,style:n}}function Lp(e){const{transform:t,style:n}=R_(e),{transform:s}=Pp(t),{style:r}=Mp(n);return s.value&&(r.value.transform=s.value),r.value}function N_(e,t){let n,s;const{state:r,style:i}=Mp();return dl(e,o=>{s=o;for(const a of Object.keys(Rp))o.style[a]===null||o.style[a]===""||pl(a)||Fp(a)||(r[a]=o.style[a]);n&&Object.entries(n).forEach(([a,c])=>o.style[a]=c),t&&t(r)}),We(i,o=>{if(!s){n=o;return}for(const a in o)s.style[a]=o[a]},{immediate:!0}),{style:r}}function M_(e){const t=e.trim().split(/\) |\)/);if(t.length===1)return{};const n=s=>s.endsWith("px")||s.endsWith("deg")?parseFloat(s):isNaN(Number(s))?Number(s):s;return t.reduce((s,r)=>{if(!r)return s;const[i,o]=r.split("("),c=o.split(",").map(u=>n(u.endsWith(")")?u.replace(")",""):u.trim())),l=c.length===1?c[0]:c;return{...s,[i]:l}},{})}function P_(e,t){Object.entries(M_(t)).forEach(([n,s])=>{const r=["x","y","z"];if(n==="translate3d"){if(s===0){r.forEach(i=>e[i]=0);return}s.forEach((i,o)=>e[r[o]]=i);return}if(s=parseFloat(s),n==="translateX"){e.x=s;return}if(n==="translateY"){e.y=s;return}if(n==="translateZ"){e.z=s;return}e[n]=s})}function k_(e,t){let n,s;const{state:r,transform:i}=Pp();return dl(e,o=>{s=o,o.style.transform&&P_(r,o.style.transform),n&&(o.style.transform=n),t&&t(r)}),We(i,o=>{if(!s){n=o;return}s.style.transform=o},{immediate:!0}),{transform:r}}function F_(e,t){const n=nn({}),s=o=>Object.entries(o).forEach(([a,c])=>n[a]=c),{style:r}=N_(e,s),{transform:i}=k_(e,s);return We(n,o=>{Object.entries(o).forEach(([a,c])=>{const l=pl(a)?i:r;l[a]&&l[a]===c||(l[a]=c)})},{immediate:!0,deep:!0}),dl(e,()=>t&&s(t)),{motionProperties:n,style:r,transform:i}}function L_(e={}){const t=ft(e),n=yt();return{state:we(()=>{if(n.value)return t[n.value]}),variant:n}}function $p(e,t={},n){const{motionProperties:s}=F_(e),{variant:r,state:i}=L_(t),o=y_(s,t),a={target:e,variant:r,variants:t,state:i,motionProperties:s,...o};return A_(a,n),a}const $_=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"];function V_(e,t){const n=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};n&&(n.variants&&Ya(n.variants)&&(t.value={...t.value,...n.variants}),$_.forEach(s=>{if(s==="delay"){if(n&&n[s]&&typeof n[s]=="number"){const r=n[s];t&&t.value&&(t.value.enter&&(t.value.enter.transition||(t.value.enter.transition={}),t.value.enter.transition={delay:r,...t.value.enter.transition}),t.value.visible&&(t.value.visible.transition||(t.value.visible.transition={}),t.value.visible.transition={delay:r,...t.value.visible.transition}),t.value.visibleOnce&&(t.value.visibleOnce.transition||(t.value.visibleOnce.transition={}),t.value.visibleOnce.transition={delay:r,...t.value.visibleOnce.transition}))}return}s==="visible-once"&&(s="visibleOnce"),n&&n[s]&&Ya(n[s])&&(t.value[s]=n[s])}))}function fa(e){return{created:(n,s,r)=>{const i=s.value&&typeof s.value=="string"?s.value:r.key;i&&la[i]&&la[i].stop();const o=yt(e||{});typeof s.value=="object"&&(o.value=s.value),V_(r,o);const a=$p(n,o);n.motionInstance=a,i&&(la[i]=a)},getSSRProps(n,s){let{initial:r}=n.value||s&&(s==null?void 0:s.props)||{};r=ft(r);const i=Mb((e==null?void 0:e.initial)||{},r||{});return!i||Object.keys(i).length===0?void 0:{style:Lp(i)}}}}const j_={initial:{opacity:0},enter:{opacity:1}},B_={initial:{opacity:0},visible:{opacity:1}},U_={initial:{opacity:0},visibleOnce:{opacity:1}},H_={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},z_={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},q_={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},K_={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},W_={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},G_={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},Q_={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},Y_={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},X_={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},J_={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},Z_={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},eT={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},tT={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},nT={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},sT={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rT={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},iT={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},oT={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},aT={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},cT={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},lT={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},uT={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},hT={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},fT={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},dT={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},pT={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},gT={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},ic={__proto__:null,fade:j_,fadeVisible:B_,fadeVisibleOnce:U_,pop:H_,popVisible:z_,popVisibleOnce:q_,rollBottom:tT,rollLeft:K_,rollRight:Q_,rollTop:J_,rollVisibleBottom:nT,rollVisibleLeft:W_,rollVisibleOnceBottom:sT,rollVisibleOnceLeft:G_,rollVisibleOnceRight:X_,rollVisibleOnceTop:eT,rollVisibleRight:Y_,rollVisibleTop:Z_,slideBottom:dT,slideLeft:rT,slideRight:aT,slideTop:uT,slideVisibleBottom:pT,slideVisibleLeft:iT,slideVisibleOnceBottom:gT,slideVisibleOnceLeft:oT,slideVisibleOnceRight:lT,slideVisibleOnceTop:fT,slideVisibleRight:cT,slideVisibleTop:hT},mT=Yc({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(e){var a;const t=x1(),n=nn({});if(!e.is&&!t.default)return()=>Mi("div",{});const s=we(()=>{let c;return e.preset&&(c=ic[e.preset]),c}),r=we(()=>({initial:e.initial,enter:e.enter,leave:e.leave,visible:e.visible,visibleOnce:e.visibleOnce,hovered:e.hovered,tapped:e.tapped,focused:e.focused})),i=we(()=>{const c={...r.value,...s.value||{},...e.variants||{}};return e.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(e.delay)),c}),o=we(()=>{if(!e.is)return;let c=e.is;return typeof o.value=="string"&&!gw(c)&&(c=Pd(c)),c});if(((a=process==null?void 0:process.env)==null?void 0:a.NODE_ENV)==="development"||process!=null&&process.dev){const c=l=>{var u;(u=l.variants)!=null&&u.initial&&l.set("initial"),setTimeout(()=>{var h,f,g;(h=l.variants)!=null&&h.enter&&l.apply("enter"),(f=l.variants)!=null&&f.visible&&l.apply("visible"),(g=l.variants)!=null&&g.visibleOnce&&l.apply("visibleOnce")},10)};Nd(()=>Object.entries(n).forEach(([l,u])=>c(u)))}return{slots:t,component:o,motionConfig:i,instances:n}},render({slots:e,motionConfig:t,instances:n,component:s}){var a;const r=Lp(t.initial||{}),i=(c,l)=>(c.props||(c.props={}),c.props.style=r,c.props.onVnodeMounted=({el:u})=>{const h=$p(u,t);n[l]=h},c);if(s){const c=Mi(s,void 0,e);return i(c,0),c}return(((a=e.default)==null?void 0:a.call(e))||[]).map((c,l)=>i(c,l))}});function yT(e){const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",s=new RegExp(t.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(s,r=>n.charAt(t.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const vT={install(e,t){if(e.directive("motion",fa()),e.component("Motion",mT),!t||t&&!t.excludePresets)for(const n in ic){const s=ic[n];e.directive(`motion-${yT(n)}`,fa(s))}if(t&&t.directives)for(const n in t.directives){const s=t.directives[n];!s.initial&&__DEV__&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),e.directive(`motion-${n}`,fa(s))}}},gl=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},wT={};function bT(e,t){const n=Pd("RouterView");return Be(),qd(n)}const ET=gl(wT,[["render",bT]]);/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const rs=typeof window<"u";function _T(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ie=Object.assign;function da(e,t){const n={};for(const s in t){const r=t[s];n[s]=Ct(r)?r.map(e):e(r)}return n}const Zs=()=>{},Ct=Array.isArray,TT=/\/$/,IT=e=>e.replace(TT,"");function pa(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=xT(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function AT(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ST(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&ys(t.matched[s],n.matched[r])&&Vp(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ys(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Vp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!CT(e[n],t[n]))return!1;return!0}function CT(e,t){return Ct(e)?vh(e,t):Ct(t)?vh(t,e):e===t}function vh(e,t){return Ct(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function xT(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var gr;(function(e){e.pop="pop",e.push="push"})(gr||(gr={}));var er;(function(e){e.back="back",e.forward="forward",e.unknown=""})(er||(er={}));function OT(e){if(!e)if(rs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),IT(e)}const DT=/^[^#]+#/;function RT(e,t){return e.replace(DT,"#")+t}function NT(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const vo=()=>({left:window.pageXOffset,top:window.pageYOffset});function MT(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=NT(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function wh(e,t){return(history.state?history.state.position-t:-1)+e}const oc=new Map;function PT(e,t){oc.set(e,t)}function kT(e){const t=oc.get(e);return oc.delete(e),t}let FT=()=>location.protocol+"//"+location.host;function jp(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),yh(c,"")}return yh(n,e)+s+r}function LT(e,t,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const g=jp(e,location),v=n.value,T=t.value;let x=0;if(f){if(n.value=g,t.value=f,o&&o===v){o=null;return}x=T?f.position-T.position:0}else s(g);r.forEach(S=>{S(n.value,v,{delta:x,type:gr.pop,direction:x?x>0?er.forward:er.back:er.unknown})})};function c(){o=n.value}function l(f){r.push(f);const g=()=>{const v=r.indexOf(f);v>-1&&r.splice(v,1)};return i.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(ie({},f.state,{scroll:vo()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function bh(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?vo():null}}function $T(e){const{history:t,location:n}=window,s={value:jp(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:FT()+e+c;try{t[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(c,l){const u=ie({},t.state,bh(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=ie({},r.value,t.state,{forward:c,scroll:vo()});i(u.current,u,!0);const h=ie({},bh(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function VT(e){e=OT(e);const t=$T(e),n=LT(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ie({location:"",base:e,go:s,createHref:RT.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function jT(e){return typeof e=="string"||e&&typeof e=="object"}function Bp(e){return typeof e=="string"||typeof e=="symbol"}const an={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Up=Symbol("");var Eh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Eh||(Eh={}));function vs(e,t){return ie(new Error,{type:e,[Up]:!0},t)}function qt(e,t){return e instanceof Error&&Up in e&&(t==null||!!(e.type&t))}const _h="[^/]+?",BT={sensitive:!1,strict:!1,start:!0,end:!0},UT=/[.+*?^${}()[\]/\\]/g;function HT(e,t){const n=ie({},BT,t),s=[];let r=n.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(UT,"\\$&"),g+=40;else if(f.type===1){const{value:v,repeatable:T,optional:x,regexp:S}=f;i.push({name:v,repeatable:T,optional:x});const O=S||_h;if(O!==_h){g+=10;try{new RegExp(`(${O})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${v}" (${O}): `+A.message)}}let N=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;h||(N=x&&l.length<2?`(?:/${N})`:"/"+N),x&&(N+="?"),r+=N,g+=20,x&&(g+=-8),T&&(g+=-20),O===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",v=i[f-1];h[v.name]=g&&v.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:v,repeatable:T,optional:x}=g,S=v in l?l[v]:"";if(Ct(S)&&!T)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const O=Ct(S)?S.join("/"):S;if(!O)if(x)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=O}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function zT(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function qT(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=zT(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Th(s))return 1;if(Th(r))return-1}return r.length-s.length}function Th(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const KT={type:0,value:""},WT=/[a-zA-Z0-9_]/;function GT(e){if(!e)return[[]];if(e==="/")return[[KT]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:WT.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function QT(e,t,n){const s=HT(GT(e.path),n),r=ie(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function YT(e,t){const n=[],s=new Map;t=Sh({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function i(u,h,f){const g=!f,v=XT(u);v.aliasOf=f&&f.record;const T=Sh(t,u),x=[v];if("alias"in u){const N=typeof u.alias=="string"?[u.alias]:u.alias;for(const A of N)x.push(ie({},v,{components:f?f.record.components:v.components,path:A,aliasOf:f?f.record:v}))}let S,O;for(const N of x){const{path:A}=N;if(h&&A[0]!=="/"){const z=h.record.path,X=z[z.length-1]==="/"?"":"/";N.path=h.record.path+(A&&X+A)}if(S=QT(N,h,T),f?f.alias.push(S):(O=O||S,O!==S&&O.alias.push(S),g&&u.name&&!Ah(S)&&o(u.name)),v.children){const z=v.children;for(let X=0;X<z.length;X++)i(z[X],S,f&&f.children[X])}f=f||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&c(S)}return O?()=>{o(O)}:Zs}function o(u){if(Bp(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&qT(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Hp(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Ah(u)&&s.set(u.record.name,u)}function l(u,h){let f,g={},v,T;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw vs(1,{location:u});T=f.record.name,g=ie(Ih(h.params,f.keys.filter(O=>!O.optional).map(O=>O.name)),u.params&&Ih(u.params,f.keys.map(O=>O.name))),v=f.stringify(g)}else if("path"in u)v=u.path,f=n.find(O=>O.re.test(v)),f&&(g=f.parse(v),T=f.record.name);else{if(f=h.name?s.get(h.name):n.find(O=>O.re.test(h.path)),!f)throw vs(1,{location:u,currentLocation:h});T=f.record.name,g=ie({},h.params,u.params),v=f.stringify(g)}const x=[];let S=f;for(;S;)x.unshift(S.record),S=S.parent;return{name:T,path:v,params:g,matched:x,meta:ZT(x)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Ih(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function XT(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:JT(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function JT(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Ah(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ZT(e){return e.reduce((t,n)=>ie(t,n.meta),{})}function Sh(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Hp(e,t){return t.children.some(n=>n===e||Hp(e,n))}const zp=/#/g,eI=/&/g,tI=/\//g,nI=/=/g,sI=/\?/g,qp=/\+/g,rI=/%5B/g,iI=/%5D/g,Kp=/%5E/g,oI=/%60/g,Wp=/%7B/g,aI=/%7C/g,Gp=/%7D/g,cI=/%20/g;function ml(e){return encodeURI(""+e).replace(aI,"|").replace(rI,"[").replace(iI,"]")}function lI(e){return ml(e).replace(Wp,"{").replace(Gp,"}").replace(Kp,"^")}function ac(e){return ml(e).replace(qp,"%2B").replace(cI,"+").replace(zp,"%23").replace(eI,"%26").replace(oI,"`").replace(Wp,"{").replace(Gp,"}").replace(Kp,"^")}function uI(e){return ac(e).replace(nI,"%3D")}function hI(e){return ml(e).replace(zp,"%23").replace(sI,"%3F")}function fI(e){return e==null?"":hI(e).replace(tI,"%2F")}function Fi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function dI(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(qp," "),o=i.indexOf("="),a=Fi(o<0?i:i.slice(0,o)),c=o<0?null:Fi(i.slice(o+1));if(a in t){let l=t[a];Ct(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function Ch(e){let t="";for(let n in e){const s=e[n];if(n=uI(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ct(s)?s.map(i=>i&&ac(i)):[s&&ac(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function pI(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Ct(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const gI=Symbol(""),xh=Symbol(""),yl=Symbol(""),Qp=Symbol(""),cc=Symbol("");function Ls(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ln(e,t,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(vs(4,{from:n,to:t})):h instanceof Error?a(h):jT(h)?a(vs(2,{from:t,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=e.call(s&&s.instances[r],t,n,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function ga(e,t,n,s){const r=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(mI(a)){const l=(a.__vccOpts||a)[t];l&&r.push(ln(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=_T(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&ln(f,n,s,i,o)()}))}}return r}function mI(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Oh(e){const t=Qt(yl),n=Qt(Qp),s=we(()=>t.resolve(ft(e.to))),r=we(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(ys.bind(null,u));if(f>-1)return f;const g=Dh(c[l-2]);return l>1&&Dh(u)===g&&h[h.length-1].path!==g?h.findIndex(ys.bind(null,c[l-2])):f}),i=we(()=>r.value>-1&&bI(n.params,s.value.params)),o=we(()=>r.value>-1&&r.value===n.matched.length-1&&Vp(n.params,s.value.params));function a(c={}){return wI(c)?t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(Zs):Promise.resolve()}return{route:s,href:we(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const yI=Yc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Oh,setup(e,{slots:t}){const n=nn(Oh(e)),{options:s}=Qt(yl),r=we(()=>({[Rh(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Rh(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Mi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),vI=yI;function wI(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function bI(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ct(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Dh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Rh=(e,t,n)=>e??t??n,EI=Yc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Qt(cc),r=we(()=>e.route||s.value),i=Qt(xh,0),o=we(()=>{let l=ft(i);const{matched:u}=r.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=we(()=>r.value.matched[o.value]);gi(xh,we(()=>o.value+1)),gi(gI,a),gi(cc,r);const c=yt();return We(()=>[c.value,a.value,e.name],([l,u,h],[f,g,v])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!ys(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(T=>T(l))},{flush:"post"}),()=>{const l=r.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return Nh(n.default,{Component:f,route:l});const g=h.props[u],v=g?g===!0?l.params:typeof g=="function"?g(l):g:null,x=Mi(f,ie({},v,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return Nh(n.default,{Component:x,route:l})||x}}});function Nh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const _I=EI;function TI(e){const t=YT(e.routes,e),n=e.parseQuery||dI,s=e.stringifyQuery||Ch,r=e.history,i=Ls(),o=Ls(),a=Ls(),c=Gw(an);let l=an;rs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=da.bind(null,w=>""+w),h=da.bind(null,fI),f=da.bind(null,Fi);function g(w,F){let M,$;return Bp(w)?(M=t.getRecordMatcher(w),$=F):$=w,t.addRoute($,M)}function v(w){const F=t.getRecordMatcher(w);F&&t.removeRoute(F)}function T(){return t.getRoutes().map(w=>w.record)}function x(w){return!!t.getRecordMatcher(w)}function S(w,F){if(F=ie({},F||c.value),typeof w=="string"){const m=pa(n,w,F.path),y=t.resolve({path:m.path},F),b=r.createHref(m.fullPath);return ie(m,y,{params:f(y.params),hash:Fi(m.hash),redirectedFrom:void 0,href:b})}let M;if("path"in w)M=ie({},w,{path:pa(n,w.path,F.path).path});else{const m=ie({},w.params);for(const y in m)m[y]==null&&delete m[y];M=ie({},w,{params:h(m)}),F.params=h(F.params)}const $=t.resolve(M,F),se=w.hash||"";$.params=u(f($.params));const d=AT(s,ie({},w,{hash:lI(se),path:$.path})),p=r.createHref(d);return ie({fullPath:d,hash:se,query:s===Ch?pI(w.query):w.query||{}},$,{redirectedFrom:void 0,href:p})}function O(w){return typeof w=="string"?pa(n,w,c.value.path):ie({},w)}function N(w,F){if(l!==w)return vs(8,{from:F,to:w})}function A(w){return ge(w)}function z(w){return A(ie(O(w),{replace:!0}))}function X(w){const F=w.matched[w.matched.length-1];if(F&&F.redirect){const{redirect:M}=F;let $=typeof M=="function"?M(w):M;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=O($):{path:$},$.params={}),ie({query:w.query,hash:w.hash,params:"path"in $?{}:w.params},$)}}function ge(w,F){const M=l=S(w),$=c.value,se=w.state,d=w.force,p=w.replace===!0,m=X(M);if(m)return ge(ie(O(m),{state:typeof m=="object"?ie({},se,m.state):se,force:d,replace:p}),F||M);const y=M;y.redirectedFrom=F;let b;return!d&&ST(s,$,M)&&(b=vs(16,{to:y,from:$}),Ot($,$,!0,!1)),(b?Promise.resolve(b):pt(y,$)).catch(E=>qt(E)?qt(E,2)?E:rn(E):ne(E,y,$)).then(E=>{if(E){if(qt(E,2))return ge(ie({replace:p},O(E.to),{state:typeof E.to=="object"?ie({},se,E.to.state):se,force:d}),F||y)}else E=Bt(y,$,!0,p,se);return xt(y,$,E),E})}function $e(w,F){const M=N(w,F);return M?Promise.reject(M):Promise.resolve()}function Te(w){const F=Zn.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(w):w()}function pt(w,F){let M;const[$,se,d]=II(w,F);M=ga($.reverse(),"beforeRouteLeave",w,F);for(const m of $)m.leaveGuards.forEach(y=>{M.push(ln(y,w,F))});const p=$e.bind(null,w,F);return M.push(p),Ve(M).then(()=>{M=[];for(const m of i.list())M.push(ln(m,w,F));return M.push(p),Ve(M)}).then(()=>{M=ga(se,"beforeRouteUpdate",w,F);for(const m of se)m.updateGuards.forEach(y=>{M.push(ln(y,w,F))});return M.push(p),Ve(M)}).then(()=>{M=[];for(const m of w.matched)if(m.beforeEnter&&!F.matched.includes(m))if(Ct(m.beforeEnter))for(const y of m.beforeEnter)M.push(ln(y,w,F));else M.push(ln(m.beforeEnter,w,F));return M.push(p),Ve(M)}).then(()=>(w.matched.forEach(m=>m.enterCallbacks={}),M=ga(d,"beforeRouteEnter",w,F),M.push(p),Ve(M))).then(()=>{M=[];for(const m of o.list())M.push(ln(m,w,F));return M.push(p),Ve(M)}).catch(m=>qt(m,8)?m:Promise.reject(m))}function xt(w,F,M){for(const $ of a.list())Te(()=>$(w,F,M))}function Bt(w,F,M,$,se){const d=N(w,F);if(d)return d;const p=F===an,m=rs?history.state:{};M&&($||p?r.replace(w.fullPath,ie({scroll:p&&m&&m.scroll},se)):r.push(w.fullPath,se)),c.value=w,Ot(w,F,M,p),rn()}let gt;function Ut(){gt||(gt=r.listen((w,F,M)=>{if(!Gr.listening)return;const $=S(w),se=X($);if(se){ge(ie(se,{replace:!0}),$).catch(Zs);return}l=$;const d=c.value;rs&&PT(wh(d.fullPath,M.delta),vo()),pt($,d).catch(p=>qt(p,12)?p:qt(p,2)?(ge(p.to,$).then(m=>{qt(m,20)&&!M.delta&&M.type===gr.pop&&r.go(-1,!1)}).catch(Zs),Promise.reject()):(M.delta&&r.go(-M.delta,!1),ne(p,$,d))).then(p=>{p=p||Bt($,d,!1),p&&(M.delta&&!qt(p,8)?r.go(-M.delta,!1):M.type===gr.pop&&qt(p,20)&&r.go(-1,!1)),xt($,d,p)}).catch(Zs)}))}let Ht=Ls(),Ie=Ls(),ce;function ne(w,F,M){rn(w);const $=Ie.list();return $.length?$.forEach(se=>se(w,F,M)):console.error(w),Promise.reject(w)}function zt(){return ce&&c.value!==an?Promise.resolve():new Promise((w,F)=>{Ht.add([w,F])})}function rn(w){return ce||(ce=!w,Ut(),Ht.list().forEach(([F,M])=>w?M(w):F()),Ht.reset()),w}function Ot(w,F,M,$){const{scrollBehavior:se}=e;if(!rs||!se)return Promise.resolve();const d=!M&&kT(wh(w.fullPath,0))||($||!M)&&history.state&&history.state.scroll||null;return _d().then(()=>se(w,F,d)).then(p=>p&&MT(p)).catch(p=>ne(p,w,F))}const Ze=w=>r.go(w);let Jn;const Zn=new Set,Gr={currentRoute:c,listening:!0,addRoute:g,removeRoute:v,hasRoute:x,getRoutes:T,resolve:S,options:e,push:A,replace:z,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ie.add,isReady:zt,install(w){const F=this;w.component("RouterLink",vI),w.component("RouterView",_I),w.config.globalProperties.$router=F,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(c)}),rs&&!Jn&&c.value===an&&(Jn=!0,A(r.location).catch(se=>{}));const M={};for(const se in an)M[se]=we(()=>c.value[se]);w.provide(yl,F),w.provide(Qp,nn(M)),w.provide(cc,c);const $=w.unmount;Zn.add(w),w.unmount=function(){Zn.delete(w),Zn.size<1&&(l=an,gt&&gt(),gt=null,c.value=an,Jn=!1,ce=!1),$()}}};function Ve(w){return w.reduce((F,M)=>F.then(()=>Te(M)),Promise.resolve())}return Gr}function II(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>ys(l,a))?s.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(l=>ys(l,c))||r.push(c))}return[n,s,r]}var AI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P,vl=vl||{},H=AI||self;function wo(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function kr(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function SI(e){return Object.prototype.hasOwnProperty.call(e,ma)&&e[ma]||(e[ma]=++CI)}var ma="closure_uid_"+(1e9*Math.random()>>>0),CI=0;function xI(e,t,n){return e.call.apply(e.bind,arguments)}function OI(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ge(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=xI:Ge=OI,Ge.apply(null,arguments)}function si(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function Ne(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(s,o)}}function Tn(){this.s=this.s,this.o=this.o}var DI=0;Tn.prototype.s=!1;Tn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),DI!=0)&&SI(this)};Tn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wl(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function Mh(e,t){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(wo(s)){const r=e.length||0,i=s.length||0;e.length=r+i;for(let o=0;o<i;o++)e[r+o]=s[o]}else e.push(s)}}function Qe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var RI=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{H.addEventListener("test",()=>{},t),H.removeEventListener("test",()=>{},t)}catch{}return e}();function mr(e){return/^[\s\xa0]*$/.test(e)}function bo(){var e=H.navigator;return e&&(e=e.userAgent)?e:""}function Pt(e){return bo().indexOf(e)!=-1}function bl(e){return bl[" "](e),e}bl[" "]=function(){};function NI(e,t){var n=IA;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var MI=Pt("Opera"),ws=Pt("Trident")||Pt("MSIE"),Xp=Pt("Edge"),lc=Xp||ws,Jp=Pt("Gecko")&&!(bo().toLowerCase().indexOf("webkit")!=-1&&!Pt("Edge"))&&!(Pt("Trident")||Pt("MSIE"))&&!Pt("Edge"),PI=bo().toLowerCase().indexOf("webkit")!=-1&&!Pt("Edge");function Zp(){var e=H.document;return e?e.documentMode:void 0}var uc;e:{var ya="",va=function(){var e=bo();if(Jp)return/rv:([^\);]+)(\)|;)/.exec(e);if(Xp)return/Edge\/([\d\.]+)/.exec(e);if(ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(PI)return/WebKit\/(\S+)/.exec(e);if(MI)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(va&&(ya=va?va[1]:""),ws){var wa=Zp();if(wa!=null&&wa>parseFloat(ya)){uc=String(wa);break e}}uc=ya}var hc;if(H.document&&ws){var Ph=Zp();hc=Ph||parseInt(uc,10)||void 0}else hc=void 0;var kI=hc;function yr(e,t){if(Qe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jp){e:{try{bl(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:FI[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yr.$.h.call(this)}}Ne(yr,Qe);var FI={2:"touch",3:"pen",4:"mouse"};yr.prototype.h=function(){yr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Fr="closure_listenable_"+(1e6*Math.random()|0),LI=0;function $I(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.la=r,this.key=++LI,this.fa=this.ia=!1}function Eo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function El(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function VI(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function eg(e){const t={};for(const n in e)t[n]=e[n];return t}const kh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tg(e,t){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)e[n]=s[n];for(let i=0;i<kh.length;i++)n=kh[i],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function _o(e){this.src=e,this.g={},this.h=0}_o.prototype.add=function(e,t,n,s,r){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=dc(e,t,s,r);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new $I(t,this.src,i,!!s,r),t.ia=n,e.push(t)),t};function fc(e,t){var n=t.type;if(n in e.g){var s=e.g[n],r=Yp(s,t),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Eo(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function dc(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==s)return r}return-1}var _l="closure_lm_"+(1e6*Math.random()|0),ba={};function ng(e,t,n,s,r){if(s&&s.once)return rg(e,t,n,s,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)ng(e,t[i],n,s,r);return null}return n=Al(n),e&&e[Fr]?e.O(t,n,kr(s)?!!s.capture:!!s,r):sg(e,t,n,!1,s,r)}function sg(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=kr(r)?!!r.capture:!!r,a=Il(e);if(a||(e[_l]=a=new _o(e)),n=a.add(t,n,s,o,i),n.proxy)return n;if(s=jI(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)RI||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(og(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jI(){function e(n){return t.call(e.src,e.listener,n)}const t=BI;return e}function rg(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)rg(e,t[i],n,s,r);return null}return n=Al(n),e&&e[Fr]?e.P(t,n,kr(s)?!!s.capture:!!s,r):sg(e,t,n,!0,s,r)}function ig(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)ig(e,t[i],n,s,r);else s=kr(s)?!!s.capture:!!s,n=Al(n),e&&e[Fr]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=dc(i,n,s,r),-1<n&&(Eo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Il(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dc(t,n,s,r)),(n=-1<e?t[e]:null)&&Tl(n))}function Tl(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Fr])fc(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(og(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Il(t))?(fc(n,e),n.h==0&&(n.src=null,t[_l]=null)):Eo(e)}}}function og(e){return e in ba?ba[e]:ba[e]="on"+e}function BI(e,t){if(e.fa)e=!0;else{t=new yr(t,this);var n=e.listener,s=e.la||e.src;e.ia&&Tl(e),e=n.call(s,t)}return e}function Il(e){return e=e[_l],e instanceof _o?e:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function Al(e){return typeof e=="function"?e:(e[Ea]||(e[Ea]=function(t){return e.handleEvent(t)}),e[Ea])}function De(){Tn.call(this),this.i=new _o(this),this.S=this,this.J=null}Ne(De,Tn);De.prototype[Fr]=!0;De.prototype.removeEventListener=function(e,t,n,s){ig(this,e,t,n,s)};function Fe(e,t){var n,s=e.J;if(s)for(n=[];s;s=s.J)n.push(s);if(e=e.S,s=t.type||t,typeof t=="string")t=new Qe(t,e);else if(t instanceof Qe)t.target=t.target||e;else{var r=t;t=new Qe(s,e),tg(t,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];r=ri(o,s,!0,t)&&r}if(o=t.g=e,r=ri(o,s,!0,t)&&r,r=ri(o,s,!1,t)&&r,n)for(i=0;i<n.length;i++)o=t.g=n[i],r=ri(o,s,!1,t)&&r}De.prototype.N=function(){if(De.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)Eo(n[s]);delete e.g[t],e.h--}}this.J=null};De.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};De.prototype.P=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function ri(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&fc(e.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var Sl=H.JSON.stringify;class UI{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function HI(){var e=Cl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class zI{constructor(){this.h=this.g=null}add(t,n){const s=ag.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var ag=new UI(()=>new qI,e=>e.reset());class qI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function KI(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function WI(e){H.setTimeout(()=>{throw e},0)}let vr,wr=!1,Cl=new zI,cg=()=>{const e=H.Promise.resolve(void 0);vr=()=>{e.then(GI)}};var GI=()=>{for(var e;e=HI();){try{e.h.call(e.g)}catch(n){WI(n)}var t=ag;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wr=!1};function To(e,t){De.call(this),this.h=e||1,this.g=t||H,this.j=Ge(this.qb,this),this.l=Date.now()}Ne(To,De);P=To.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(xl(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}P.N=function(){To.$.N.call(this),xl(this),delete this.g};function Ol(e,t,n){if(typeof e=="function")n&&(e=Ge(e,n));else if(e&&typeof e.handleEvent=="function")e=Ge(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:H.setTimeout(e,t||0)}function lg(e){e.g=Ol(()=>{e.g=null,e.i&&(e.i=!1,lg(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class QI extends Tn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:lg(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(e){Tn.call(this),this.h=e,this.g={}}Ne(br,Tn);var Fh=[];function ug(e,t,n,s){Array.isArray(n)||(n&&(Fh[0]=n.toString()),n=Fh);for(var r=0;r<n.length;r++){var i=ng(t,n[r],s||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function hg(e){El(e.g,function(t,n){this.g.hasOwnProperty(n)&&Tl(t)},e),e.g={}}br.prototype.N=function(){br.$.N.call(this),hg(this)};br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Io(){this.g=!0}Io.prototype.Ea=function(){this.g=!1};function YI(e,t,n,s,r,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function XI(e,t,n,s,r,i,o){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+`
`+n+`
`+i+" "+o})}function os(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+ZI(e,n)+(s?" "+s:"")})}function JI(e,t){e.info(function(){return"TIMEOUT: "+t})}Io.prototype.info=function(){};function ZI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Sl(n)}catch{return t}}var Yn={},Lh=null;function Ao(){return Lh=Lh||new De}Yn.Ta="serverreachability";function fg(e){Qe.call(this,Yn.Ta,e)}Ne(fg,Qe);function Er(e){const t=Ao();Fe(t,new fg(t))}Yn.STAT_EVENT="statevent";function dg(e,t){Qe.call(this,Yn.STAT_EVENT,e),this.stat=t}Ne(dg,Qe);function Xe(e){const t=Ao();Fe(t,new dg(t,e))}Yn.Ua="timingevent";function pg(e,t){Qe.call(this,Yn.Ua,e),this.size=t}Ne(pg,Qe);function Lr(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){e()},t)}var So={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dl(){}Dl.prototype.h=null;function $h(e){return e.h||(e.h=e.i())}function mg(){}var $r={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rl(){Qe.call(this,"d")}Ne(Rl,Qe);function Nl(){Qe.call(this,"c")}Ne(Nl,Qe);var pc;function Co(){}Ne(Co,Dl);Co.prototype.g=function(){return new XMLHttpRequest};Co.prototype.i=function(){return{}};pc=new Co;function Vr(e,t,n,s){this.l=e,this.j=t,this.m=n,this.W=s||1,this.U=new br(this),this.P=eA,e=lc?125:void 0,this.V=new To(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yg}function yg(){this.i=null,this.g="",this.h=!1}var eA=45e3,gc={},Li={};P=Vr.prototype;P.setTimeout=function(e){this.P=e};function mc(e,t,n){e.L=1,e.v=Oo(en(t)),e.s=n,e.S=!0,vg(e,null)}function vg(e,t){e.G=Date.now(),jr(e),e.A=en(e.v);var n=e.A,s=e.W;Array.isArray(s)||(s=[String(s)]),Sg(n.i,"t",s),e.C=0,n=e.l.J,e.h=new yg,e.g=Wg(e.l,n?t:null,!e.s),0<e.O&&(e.M=new QI(Ge(e.Pa,e,e.g),e.O)),ug(e.U,e.g,"readystatechange",e.nb),t=e.I?eg(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Er(),YI(e.j,e.u,e.A,e.m,e.W,e.s)}P.nb=function(e){e=e.target;const t=this.M;t&&kt(e)==3?t.l():this.Pa(e)};P.Pa=function(e){try{if(e==this.g)e:{const u=kt(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||lc||this.g&&(this.h.h||this.g.ja()||Uh(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?Er(3):Er(2)),xo(this);var n=this.g.da();this.ca=n;t:if(wg(this)){var s=Uh(this.g);e="";var r=s.length,i=kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),tr(this);var o="";break t}this.h.i=new H.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:i&&t==r-1});s.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,XI(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mr(a)){var l=a;break t}}l=null}if(n=l)os(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yc(this,n);else{this.i=!1,this.o=3,Xe(12),kn(this),tr(this);break e}}this.S?(bg(this,u,o),lc&&this.i&&u==3&&(ug(this.U,this.V,"tick",this.mb),this.V.start())):(os(this.j,this.m,o,null),yc(this,o)),u==4&&kn(this),this.i&&!this.J&&(u==4?Hg(this.l,this):(this.i=!1,jr(this)))}else EA(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Xe(12)):(this.o=0,Xe(13)),kn(this),tr(this)}}}catch{}finally{}};function wg(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function bg(e,t,n){let s=!0,r;for(;!e.J&&e.C<n.length;)if(r=tA(e,n),r==Li){t==4&&(e.o=4,Xe(14),s=!1),os(e.j,e.m,null,"[Incomplete Response]");break}else if(r==gc){e.o=4,Xe(15),os(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else os(e.j,e.m,r,null),yc(e,r);wg(e)&&r!=Li&&r!=gc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Xe(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$l(t),t.M=!0,Xe(11))):(os(e.j,e.m,n,"[Invalid Chunked Response]"),kn(e),tr(e))}P.mb=function(){if(this.g){var e=kt(this.g),t=this.g.ja();this.C<t.length&&(xo(this),bg(this,e,t),this.i&&e!=4&&jr(this))}};function tA(e,t){var n=e.C,s=t.indexOf(`
`,n);return s==-1?Li:(n=Number(t.substring(n,s)),isNaN(n)?gc:(s+=1,s+n>t.length?Li:(t=t.slice(s,s+n),e.C=s+n,t)))}P.cancel=function(){this.J=!0,kn(this)};function jr(e){e.Y=Date.now()+e.P,Eg(e,e.P)}function Eg(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Lr(Ge(e.lb,e),t)}function xo(e){e.B&&(H.clearTimeout(e.B),e.B=null)}P.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(JI(this.j,this.A),this.L!=2&&(Er(),Xe(17)),kn(this),this.o=2,tr(this)):Eg(this,this.Y-e)};function tr(e){e.l.H==0||e.J||Hg(e.l,e)}function kn(e){xo(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,xl(e.V),hg(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function yc(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||vc(n.i,e))){if(!e.K&&vc(n.i,e)&&n.H==3){try{var s=n.Ja.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)ji(n),No(n);else break e;Ll(n),Xe(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Lr(Ge(n.ib,n),6e3));if(1>=Og(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fn(n,11)}else if((e.K||n.g==e)&&ji(n),!mr(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=e.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=s.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Ml(i,i.h),i.h=null))}if(s.F){const T=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(s.Da=T,de(s.I,s.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=e;if(s.wa=Kg(s,s.J?s.pa:null,s.Y),o.K){Dg(s.i,o);var a=o,c=s.L;c&&a.setTimeout(c),a.B&&(xo(a),jr(a)),s.g=o}else Bg(s);0<n.j.length&&Mo(n)}else l[0]!="stop"&&l[0]!="close"||Fn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Fn(n,7):Fl(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Er(4)}catch{}}function nA(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(wo(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function sA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(wo(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}function _g(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(wo(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=sA(e),s=nA(e),r=s.length,i=0;i<r;i++)t.call(void 0,s[i],n&&n[i],e)}var Tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function jn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jn){this.h=e.h,$i(this,e.j),this.s=e.s,this.g=e.g,Vi(this,e.m),this.l=e.l;var t=e.i,n=new _r;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Vh(this,n),this.o=e.o}else e&&(t=String(e).match(Tg))?(this.h=!1,$i(this,t[1]||"",!0),this.s=Hs(t[2]||""),this.g=Hs(t[3]||"",!0),Vi(this,t[4]),this.l=Hs(t[5]||"",!0),Vh(this,t[6]||"",!0),this.o=Hs(t[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}jn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zs(t,jh,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(zs(t,jh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(zs(n,n.charAt(0)=="/"?aA:oA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zs(n,lA)),e.join("")};function en(e){return new jn(e)}function $i(e,t,n){e.j=n?Hs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vh(e,t,n){t instanceof _r?(e.i=t,uA(e.i,e.h)):(n||(t=zs(t,cA)),e.i=new _r(t,e.h))}function de(e,t,n){e.i.set(t,n)}function Oo(e){return de(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,iA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var jh=/[#\/\?@]/g,oA=/[#\?:]/g,aA=/[#\?]/g,cA=/[#\?@]/g,lA=/#/g;function _r(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function In(e){e.g||(e.g=new Map,e.h=0,e.i&&rA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}P=_r.prototype;P.add=function(e,t){In(this),this.i=null,e=Ds(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Ig(e,t){In(e),t=Ds(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ag(e,t){return In(e),t=Ds(e,t),e.g.has(t)}P.forEach=function(e,t){In(this),this.g.forEach(function(n,s){n.forEach(function(r){e.call(t,r,s,this)},this)},this)};P.ta=function(){In(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const r=e[s];for(let i=0;i<r.length;i++)n.push(t[s])}return n};P.Z=function(e){In(this);let t=[];if(typeof e=="string")Ag(this,e)&&(t=t.concat(this.g.get(Ds(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};P.set=function(e,t){return In(this),this.i=null,e=Ds(this,e),Ag(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};P.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Sg(e,t,n){Ig(e,t),0<n.length&&(e.i=null,e.g.set(Ds(e,t),wl(n)),e.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),e.push(r)}}return this.i=e.join("&")};function Ds(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function uA(e,t){t&&!e.j&&(In(e),e.i=null,e.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Ig(this,s),Sg(this,r,n))},e)),e.j=t}var hA=class{constructor(e,t){this.g=e,this.map=t}};function Cg(e){this.l=e||fA,H.PerformanceNavigationTiming?(e=H.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fA=10;function xg(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Og(e){return e.h?1:e.g?e.g.size:0}function vc(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ml(e,t){e.g?e.g.add(t):e.h=t}function Dg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Cg.prototype.cancel=function(){if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Rg(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return wl(e.i)}var dA=class{stringify(e){return H.JSON.stringify(e,void 0)}parse(e){return H.JSON.parse(e,void 0)}};function pA(){this.g=new dA}function gA(e,t,n){const s=n||"";try{_g(e,function(r,i){let o=r;kr(r)&&(o=Sl(r)),t.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw t.push(s+"type="+encodeURIComponent("_badmap")),r}}function mA(e,t){const n=new Io;if(H.Image){const s=new Image;s.onload=si(ii,n,s,"TestLoadImage: loaded",!0,t),s.onerror=si(ii,n,s,"TestLoadImage: error",!1,t),s.onabort=si(ii,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=si(ii,n,s,"TestLoadImage: timeout",!1,t),H.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function ii(e,t,n,s,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(s)}catch{}}function Br(e){this.l=e.fc||null,this.j=e.ob||!1}Ne(Br,Dl);Br.prototype.g=function(){return new Do(this.l,this.j)};Br.prototype.i=function(e){return function(){return e}}({});function Do(e,t){De.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Pl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(Do,De);var Pl=0;P=Do.prototype;P.open=function(e,t){if(this.readyState!=Pl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tr(this)};P.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||H).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=Pl};P.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ng(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Ng(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}P.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ur(this):Tr(this),this.readyState==3&&Ng(this)}};P.Za=function(e){this.g&&(this.response=this.responseText=e,Ur(this))};P.Ya=function(e){this.g&&(this.response=e,Ur(this))};P.ka=function(){this.g&&Ur(this)};function Ur(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tr(e)}P.setRequestHeader=function(e,t){this.v.append(e,t)};P.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Tr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var yA=H.JSON.parse;function ve(e){De.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mg,this.L=this.M=!1}Ne(ve,De);var Mg="",vA=/^https?$/i,wA=["POST","PUT"];P=ve.prototype;P.Oa=function(e){this.M=e};P.ha=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pc.g(),this.C=this.u?$h(this.u):$h(pc),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){Bh(this,i);return}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=H.FormData&&e instanceof H.FormData,!(0<=Yp(wA,t))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fg(this),0<this.B&&((this.L=bA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=Ol(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Bh(this,i)}};function bA(e){return ws&&typeof e.timeout=="number"&&e.ontimeout!==void 0}P.ua=function(){typeof vl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))};function Bh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pg(e),Ro(e)}function Pg(e){e.F||(e.F=!0,Fe(e,"complete"),Fe(e,"error"))}P.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fe(this,"complete"),Fe(this,"abort"),Ro(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ro(this,!0)),ve.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?kg(this):this.kb())};P.kb=function(){kg(this)};function kg(e){if(e.h&&typeof vl<"u"&&(!e.C[1]||kt(e)!=4||e.da()!=2)){if(e.v&&kt(e)==4)Ol(e.La,0,e);else if(Fe(e,"readystatechange"),kt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=o===0){var r=String(e.I).match(Tg)[1]||null;!r&&H.self&&H.self.location&&(r=H.self.location.protocol.slice(0,-1)),s=!vA.test(r?r.toLowerCase():"")}n=s}if(n)Fe(e,"complete"),Fe(e,"success");else{e.m=6;try{var i=2<kt(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",Pg(e)}}finally{Ro(e)}}}}function Ro(e,t){if(e.g){Fg(e);const n=e.g,s=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Fe(e,"ready");try{n.onreadystatechange=s}catch{}}}function Fg(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(H.clearTimeout(e.A),e.A=null)}P.isActive=function(){return!!this.g};function kt(e){return e.g?e.g.readyState:0}P.da=function(){try{return 2<kt(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),yA(t)}};function Uh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function EA(e){const t={};e=(e.g&&2<=kt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<e.length;s++){if(mr(e[s]))continue;var n=KI(e[s]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[r]||[];t[r]=i,i.push(n)}VI(t,function(s){return s.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Lg(e){let t="";return El(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function kl(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Lg(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):de(e,t,n))}function $s(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $g(e){this.Ga=0,this.j=[],this.l=new Io,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$s("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$s("baseRetryDelayMs",5e3,e),this.hb=$s("retryDelaySeedMs",1e4,e),this.eb=$s("forwardChannelMaxRetries",2,e),this.xa=$s("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Cg(e&&e.concurrentRequestLimit),this.Ja=new pA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=$g.prototype;P.ra=8;P.H=1;function Fl(e){if(Vg(e),e.H==3){var t=e.W++,n=en(e.I);if(de(n,"SID",e.K),de(n,"RID",t),de(n,"TYPE","terminate"),Hr(e,n),t=new Vr(e,e.l,t),t.L=2,t.v=Oo(en(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&H.Image&&(new Image().src=t.v,n=!0),n||(t.g=Wg(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jr(t)}qg(e)}function No(e){e.g&&($l(e),e.g.cancel(),e.g=null)}function Vg(e){No(e),e.u&&(H.clearTimeout(e.u),e.u=null),ji(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&H.clearTimeout(e.m),e.m=null)}function Mo(e){if(!xg(e.i)&&!e.m){e.m=!0;var t=e.Na;vr||cg(),wr||(vr(),wr=!0),Cl.add(t,e),e.C=0}}function _A(e,t){return Og(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Lr(Ge(e.Na,e,t),zg(e,e.C)),e.C++,!0)}P.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new Vr(this,this.l,e);let i=this.s;if(this.U&&(i?(i=eg(i),tg(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=jg(this,r,t),n=en(this.I),de(n,"RID",e),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),Hr(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lg(i)))+"&"+t:this.o&&kl(n,this.o,i)),Ml(this.i,r),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",t),de(n,"SID","null"),r.aa=!0,mc(r,n,null)):mc(r,n,t),this.H=2}}else this.H==3&&(e?Hh(this,e):this.j.length==0||xg(this.i)||Hh(this))};function Hh(e,t){var n;t?n=t.m:n=e.W++;const s=en(e.I);de(s,"SID",e.K),de(s,"RID",n),de(s,"AID",e.V),Hr(e,s),e.o&&e.s&&kl(s,e.o,e.s),n=new Vr(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=jg(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ml(e.i,n),mc(n,s,t)}function Hr(e,t){e.na&&El(e.na,function(n,s){de(t,s,n)}),e.h&&_g({},function(n,s){de(t,s,n)})}function jg(e,t,n){n=Math.min(e.j.length,n);var s=e.h?Ge(e.h.Va,e.h,e):null;e:{var r=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].g;const u=r[c].map;if(l-=i,0>l)i=Math.max(0,r[c].g-100),a=!1;else try{gA(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,s}function Bg(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vr||cg(),wr||(vr(),wr=!0),Cl.add(t,e),e.A=0}}function Ll(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Lr(Ge(e.Ma,e),zg(e,e.A)),e.A++,!0)}P.Ma=function(){if(this.u=null,Ug(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Lr(Ge(this.jb,this),e)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xe(10),No(this),Ug(this))};function $l(e){e.B!=null&&(H.clearTimeout(e.B),e.B=null)}function Ug(e){e.g=new Vr(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=en(e.wa);de(t,"RID","rpc"),de(t,"SID",e.K),de(t,"AID",e.V),de(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&de(t,"TO",e.qa),de(t,"TYPE","xmlhttp"),Hr(e,t),e.o&&e.s&&kl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Oo(en(t)),n.s=null,n.S=!0,vg(n,e)}P.ib=function(){this.v!=null&&(this.v=null,No(this),Ll(this),Xe(19))};function ji(e){e.v!=null&&(H.clearTimeout(e.v),e.v=null)}function Hg(e,t){var n=null;if(e.g==t){ji(e),$l(e),e.g=null;var s=2}else if(vc(e.i,t))n=t.F,Dg(e.i,t),s=1;else return;if(e.H!=0){if(t.i)if(s==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;s=Ao(),Fe(s,new pg(s,n)),Mo(e)}else Bg(e);else if(r=t.o,r==3||r==0&&0<t.ca||!(s==1&&_A(e,t)||s==2&&Ll(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Fn(e,5);break;case 4:Fn(e,10);break;case 3:Fn(e,6);break;default:Fn(e,2)}}}function zg(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Fn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var s=Ge(e.pb,e);n||(n=new jn("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||$i(n,"https"),Oo(n)),mA(n.toString(),s)}else Xe(2);e.H=0,e.h&&e.h.za(t),qg(e),Vg(e)}P.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xe(2)):(this.l.info("Failed to ping google.com"),Xe(1))};function qg(e){if(e.H=0,e.ma=[],e.h){const t=Rg(e.i);(t.length!=0||e.j.length!=0)&&(Mh(e.ma,t),Mh(e.ma,e.j),e.i.i.length=0,wl(e.j),e.j.length=0),e.h.ya()}}function Kg(e,t,n){var s=n instanceof jn?en(n):new jn(n);if(s.g!="")t&&(s.g=t+"."+s.g),Vi(s,s.m);else{var r=H.location;s=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var i=new jn(null);s&&$i(i,s),t&&(i.g=t),r&&Vi(i,r),n&&(i.l=n),s=i}return n=e.F,t=e.Da,n&&t&&de(s,n,t),de(s,"VER",e.ra),Hr(e,s),s}function Wg(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ve(new Br({ob:!0})):new ve(e.va),t.Oa(e.J),t}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function Gg(){}P=Gg.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function Bi(){if(ws&&!(10<=Number(kI)))throw Error("Environmental error: no available transport.")}Bi.prototype.g=function(e,t){return new dt(e,t)};function dt(e,t){De.call(this),this.g=new $g(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!mr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mr(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Rs(this)}Ne(dt,De);dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xe(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Kg(e,null,e.Y),Mo(e)};dt.prototype.close=function(){Fl(this.g)};dt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Sl(e),e=n);t.j.push(new hA(t.fb++,e)),t.H==3&&Mo(t)};dt.prototype.N=function(){this.g.h=null,delete this.j,Fl(this.g),delete this.g,dt.$.N.call(this)};function Qg(e){Rl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ne(Qg,Rl);function Yg(){Nl.call(this),this.status=1}Ne(Yg,Nl);function Rs(e){this.g=e}Ne(Rs,Gg);Rs.prototype.Ba=function(){Fe(this.g,"a")};Rs.prototype.Aa=function(e){Fe(this.g,new Qg(e))};Rs.prototype.za=function(e){Fe(this.g,new Yg)};Rs.prototype.ya=function(){Fe(this.g,"b")};function TA(){this.blockSize=-1}function Vt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(Vt,TA);Vt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function _a(e,t,n){n||(n=0);var s=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)s[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var i=e.g[3],o=t+(i^n&(r^i))+s[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(r^t&(n^r))+s[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=r+(n^i&(t^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(t^r&(i^t))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(i^n&(r^i))+s[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(r^t&(n^r))+s[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=r+(n^i&(t^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(t^r&(i^t))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(i^n&(r^i))+s[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(r^t&(n^r))+s[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=r+(n^i&(t^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(t^r&(i^t))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(i^n&(r^i))+s[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(r^t&(n^r))+s[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=r+(n^i&(t^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(t^r&(i^t))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=t+(r^i&(n^r))+s[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(t^n))+s[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(i^t))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^i&(n^r))+s[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(t^n))+s[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(i^t))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^i&(n^r))+s[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(t^n))+s[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(i^t))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(r^i&(n^r))+s[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(t^n))+s[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=r+(t^n&(i^t))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=t+(n^r^i)+s[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^r)+s[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=r+(i^t^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^t)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^i)+s[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^r)+s[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=r+(i^t^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^t)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^i)+s[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^r)+s[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=r+(i^t^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^t)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(n^r^i)+s[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^r)+s[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=r+(i^t^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^t)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=t+(r^(n|~i))+s[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~r))+s[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=r+(t^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~t))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~i))+s[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~r))+s[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=r+(t^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~t))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~i))+s[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~r))+s[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=r+(t^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~t))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=t+(r^(n|~i))+s[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~r))+s[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=r+(t^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+i&4294967295}Vt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,s=this.m,r=this.h,i=0;i<t;){if(r==0)for(;i<=n;)_a(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[r++]=e.charCodeAt(i++),r==this.blockSize){_a(this,s),r=0;break}}else for(;i<t;)if(s[r++]=e[i++],r==this.blockSize){_a(this,s),r=0;break}}this.h=r,this.i+=t};Vt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};function oe(e,t){this.h=t;for(var n=[],s=!0,r=e.length-1;0<=r;r--){var i=e[r]|0;s&&i==t||(n[r]=i,s=!1)}this.g=n}var IA={};function Vl(e){return-128<=e&&128>e?NI(e,function(t){return new oe([t|0],0>t?-1:0)}):new oe([e|0],0>e?-1:0)}function Ft(e){if(isNaN(e)||!isFinite(e))return hs;if(0>e)return ke(Ft(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=wc;return new oe(t,0)}function Xg(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ke(Xg(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ft(Math.pow(t,8)),s=hs,r=0;r<e.length;r+=8){var i=Math.min(8,e.length-r),o=parseInt(e.substring(r,r+i),t);8>i?(i=Ft(Math.pow(t,i)),s=s.R(i).add(Ft(o))):(s=s.R(n),s=s.add(Ft(o)))}return s}var wc=4294967296,hs=Vl(0),bc=Vl(1),zh=Vl(16777216);P=oe.prototype;P.ea=function(){if(mt(this))return-ke(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.D(n);e+=(0<=s?s:wc+s)*t,t*=wc}return e};P.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Gt(this))return"0";if(mt(this))return"-"+ke(this).toString(e);for(var t=Ft(Math.pow(e,6)),n=this,s="";;){var r=Hi(n,t).g;n=Ui(n,r.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=r,Gt(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};P.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Gt(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function mt(e){return e.h==-1}P.X=function(e){return e=Ui(this,e),mt(e)?-1:Gt(e)?0:1};function ke(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new oe(n,~e.h).add(bc)}P.abs=function(){return mt(this)?ke(this):this};P.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,r=0;r<=t;r++){var i=s+(this.D(r)&65535)+(e.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new oe(n,n[n.length-1]&-2147483648?-1:0)};function Ui(e,t){return e.add(ke(t))}P.R=function(e){if(Gt(this)||Gt(e))return hs;if(mt(this))return mt(e)?ke(this).R(ke(e)):ke(ke(this).R(e));if(mt(e))return ke(this.R(ke(e)));if(0>this.X(zh)&&0>e.X(zh))return Ft(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<e.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=e.D(r)>>>16,c=e.D(r)&65535;n[2*s+2*r]+=o*c,oi(n,2*s+2*r),n[2*s+2*r+1]+=i*c,oi(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,oi(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,oi(n,2*s+2*r+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new oe(n,0)};function oi(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vs(e,t){this.g=e,this.h=t}function Hi(e,t){if(Gt(t))throw Error("division by zero");if(Gt(e))return new Vs(hs,hs);if(mt(e))return t=Hi(ke(e),t),new Vs(ke(t.g),ke(t.h));if(mt(t))return t=Hi(e,ke(t)),new Vs(ke(t.g),t.h);if(30<e.g.length){if(mt(e)||mt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bc,s=t;0>=s.X(e);)n=qh(n),s=qh(s);var r=ns(n,1),i=ns(s,1);for(s=ns(s,2),n=ns(n,2);!Gt(s);){var o=i.add(s);0>=o.X(e)&&(r=r.add(n),i=o),s=ns(s,1),n=ns(n,1)}return t=Ui(e,r.R(t)),new Vs(r,t)}for(r=hs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=Ft(n),o=i.R(t);mt(o)||0<o.X(e);)n-=s,i=Ft(n),o=i.R(t);Gt(i)&&(i=bc),r=r.add(i),e=Ui(e,o)}return new Vs(r,e)}P.gb=function(e){return Hi(this,e).h};P.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)&e.D(s);return new oe(n,this.h&e.h)};P.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)|e.D(s);return new oe(n,this.h|e.h)};P.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)^e.D(s);return new oe(n,this.h^e.h)};function qh(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.D(s)<<1|e.D(s-1)>>>31;return new oe(n,e.h)}function ns(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,r=[],i=0;i<s;i++)r[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new oe(r,e.h)}Bi.prototype.createWebChannel=Bi.prototype.g;dt.prototype.send=dt.prototype.u;dt.prototype.open=dt.prototype.m;dt.prototype.close=dt.prototype.close;So.NO_ERROR=0;So.TIMEOUT=8;So.HTTP_ERROR=6;gg.COMPLETE="complete";mg.EventType=$r;$r.OPEN="a";$r.CLOSE="b";$r.ERROR="c";$r.MESSAGE="d";De.prototype.listen=De.prototype.O;ve.prototype.listenOnce=ve.prototype.P;ve.prototype.getLastError=ve.prototype.Sa;ve.prototype.getLastErrorCode=ve.prototype.Ia;ve.prototype.getStatus=ve.prototype.da;ve.prototype.getResponseJson=ve.prototype.Wa;ve.prototype.getResponseText=ve.prototype.ja;ve.prototype.send=ve.prototype.ha;ve.prototype.setWithCredentials=ve.prototype.Oa;Vt.prototype.digest=Vt.prototype.l;Vt.prototype.reset=Vt.prototype.reset;Vt.prototype.update=Vt.prototype.j;oe.prototype.add=oe.prototype.add;oe.prototype.multiply=oe.prototype.R;oe.prototype.modulo=oe.prototype.gb;oe.prototype.compare=oe.prototype.X;oe.prototype.toNumber=oe.prototype.ea;oe.prototype.toString=oe.prototype.toString;oe.prototype.getBits=oe.prototype.D;oe.fromNumber=Ft;oe.fromString=Xg;var AA=function(){return new Bi},SA=function(){return Ao()},Ta=So,CA=gg,xA=Yn,Kh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},OA=Br,ai=mg,DA=ve,RA=oe;const Wh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new Cc("@firebase/firestore");function Gh(){return Wn.logLevel}function B(e,...t){if(Wn.logLevel<=re.DEBUG){const n=t.map(jl);Wn.debug(`Firestore (${Ns}): ${e}`,...n)}}function Gn(e,...t){if(Wn.logLevel<=re.ERROR){const n=t.map(jl);Wn.error(`Firestore (${Ns}): ${e}`,...n)}}function zi(e,...t){if(Wn.logLevel<=re.WARN){const n=t.map(jl);Wn.warn(`Firestore (${Ns}): ${e}`,...n)}}function jl(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e="Unexpected state"){const t=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+e;throw Gn(t),new Error(t)}function Re(e,t){e||J()}function pe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends _n{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}}class MA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PA{constructor(t){this.t=t,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bn,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Re(typeof s.accessToken=="string"),new Jg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new Ue(t)}}class kA{constructor(t,n,s){this.h=t,this.l=n,this.m=s,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class FA{constructor(t,n,s){this.h=t,this.l=n,this.m=s}getToken(){return Promise.resolve(new kA(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $A{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const s=i=>{i.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>s(i))};const r=i=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Re(typeof n.token=="string"),this.T=n.token,new LA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const r=VA(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=t.charAt(r[i]%t.length))}return s}}function he(e,t){return e<t?-1:e>t?1:0}function bs(e,t,n){return e.length===t.length&&e.every((s,r)=>n(s,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new U(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new U(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xe.fromMillis(Date.now())}static fromDate(t){return xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new xe(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?he(this.nanoseconds,t.nanoseconds):he(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.timestamp=t}static fromTimestamp(t){return new me(t)}static min(){return new me(new xe(0,0))}static max(){return new me(new xe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s){n===void 0?n=0:n>t.length&&J(),s===void 0?s=t.length-n:s>t.length-n&&J(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ir.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ir?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let r=0;r<s;r++){const i=t.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ye extends Ir{construct(t,n,s){return new ye(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new U(I.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Ir{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return jA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qe(["__name__"])}static fromServerFormat(t){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new U(I.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new U(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new U(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(ye.fromString(t))}static fromName(t){return new Q(ye.fromString(t).popFirst(5))}static empty(){return new Q(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ye.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new ye(t.slice()))}}function BA(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=me.fromTimestamp(s===1e9?new xe(n+1,0):new xe(n,s));return new wn(r,Q.empty(),t)}function UA(e){return new wn(e.readTime,e.key,-1)}class wn{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new wn(me.min(),Q.empty(),-1)}static max(){return new wn(me.max(),Q.empty(),-1)}}function HA(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:he(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==zA)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new C((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):C.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):C.reject(n)}static resolve(t){return new C((n,s)=>{n(t)})}static reject(t){return new C((n,s)=>{s(t)})}static waitFor(t){return new C((n,s)=>{let r=0,i=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(t){let n=C.resolve(!1);for(const s of t)n=n.next(r=>r?C.resolve(r):s());return n}static forEach(t,n){const s=[];return t.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(t,n){return new C((s,r)=>{const i=t.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(t[l]).next(u=>{o[l]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(t,n){return new C((s,r)=>{const i=()=>{t()===!0?n().next(()=>{i()},r):s()};i()})}}function Po(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}tm.ct=-1;function Bl(e){return e==null}function qi(e){return e===0&&1/e==-1/0}function KA(e){return typeof e=="number"&&Number.isInteger(e)&&!qi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t,n){this.comparator=t,this.root=n||Me.EMPTY}insert(t,n){return new at(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Me.BLACK,null,null))}remove(t){return new at(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Me.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ci(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ci(this.root,t,this.comparator,!1)}getReverseIterator(){return new ci(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ci(this.root,t,this.comparator,!0)}}class ci{constructor(t,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?s(t.key,n):1,n&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Me{constructor(t,n,s,r,i){this.key=t,this.value=n,this.color=s??Me.RED,this.left=r??Me.EMPTY,this.right=i??Me.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,r,i){return new Me(t??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let r=this;const i=s(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Me.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Me.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const t=this.left.check();if(t!==this.right.check())throw J();return t+(this.isRed()?0:1)}}Me.EMPTY=null,Me.RED=!0,Me.BLACK=!1;Me.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,n,s,r){return this}insert(e,t,n){return new Me(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.comparator=t,this.data=new at(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yh(this.data.getIterator())}getIteratorFrom(t){return new Yh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Je(this.comparator);return n.data=t,n}}class Yh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new It([])}unionWith(t){let n=new Je(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new It(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return bs(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new WA("Invalid base64 string: "+r):r}}(t);return new tn(n)}static fromUint8Array(t){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(t);return new tn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return he(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const GA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qn(e){if(Re(!!e),typeof e=="string"){let t=0;const n=GA.exec(e);if(Re(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ar(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sm(e){const t=e.mapValue.fields.__previous_value__;return Ul(t)?sm(t):t}function Ki(e){const t=Qn(e.mapValue.fields.__local_write_time__.timestampValue);return new xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t,n,s,r,i,o,a,c,l){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Wi{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Wi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Wi&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ul(e)?4:YA(e)?9007199254740991:10:J()}function jt(e,t){if(e===t)return!0;const n=Es(e);if(n!==Es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ki(e).isEqual(Ki(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Qn(s.timestampValue),o=Qn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Ar(s.bytesValue).isEqual(Ar(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return Pe(s.geoPointValue.latitude)===Pe(r.geoPointValue.latitude)&&Pe(s.geoPointValue.longitude)===Pe(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Pe(s.integerValue)===Pe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Pe(s.doubleValue),o=Pe(r.doubleValue);return i===o?qi(i)===qi(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return bs(e.arrayValue.values||[],t.arrayValue.values||[],jt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Qh(i)!==Qh(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!jt(i[a],o[a])))return!1;return!0}(e,t);default:return J()}}function Sr(e,t){return(e.values||[]).find(n=>jt(n,t))!==void 0}function _s(e,t){if(e===t)return 0;const n=Es(e),s=Es(t);if(n!==s)return he(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(e.booleanValue,t.booleanValue);case 2:return function(r,i){const o=Pe(r.integerValue||r.doubleValue),a=Pe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Xh(e.timestampValue,t.timestampValue);case 4:return Xh(Ki(e),Ki(t));case 5:return he(e.stringValue,t.stringValue);case 6:return function(r,i){const o=Ar(r),a=Ar(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=he(o[c],a[c]);if(l!==0)return l}return he(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,i){const o=he(Pe(r.latitude),Pe(i.latitude));return o!==0?o:he(Pe(r.longitude),Pe(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=_s(o[c],a[c]);if(l)return l}return he(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,i){if(r===li.mapValue&&i===li.mapValue)return 0;if(r===li.mapValue)return 1;if(i===li.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=he(a[u],l[u]);if(h!==0)return h;const f=_s(o[a[u]],c[l[u]]);if(f!==0)return f}return he(a.length,l.length)}(e.mapValue,t.mapValue);default:throw J()}}function Xh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return he(e,t);const n=Qn(e),s=Qn(t),r=he(n.seconds,s.seconds);return r!==0?r:he(n.nanos,s.nanos)}function Ts(e){return Ec(e)}function Ec(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const r=Qn(s);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ar(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Q.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Ec(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ec(s.fields[a])}`;return i+"}"}(e.mapValue):J();var t,n}function _c(e){return!!e&&"integerValue"in e}function Hl(e){return!!e&&"arrayValue"in e}function Ei(e){return!!e&&"mapValue"in e}function nr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=nr(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function YA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.value=t}static empty(){return new _t({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ei(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nr(n)}setAll(t){let n=qe.emptyPath(),s={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=nr(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(t){const n=this.field(t.popLast());Ei(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return jt(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=n.mapValue.fields[t.get(s)];Ei(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,s){zr(n,(r,i)=>t[r]=i);for(const r of s)delete t[r]}clone(){return new _t(nr(this.value))}}function rm(e){const t=[];return zr(e.fields,(n,s)=>{const r=new qe([n]);if(Ei(s)){const i=rm(s.mapValue).fields;if(i.length===0)t.push(r);else for(const o of i)t.push(r.child(o))}else t.push(r)}),new It(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t,n,s,r,i,o,a){this.key=t,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new bt(t,0,me.min(),me.min(),me.min(),_t.empty(),0)}static newFoundDocument(t,n,s,r){return new bt(t,1,n,me.min(),s,r,0)}static newNoDocument(t,n){return new bt(t,2,n,me.min(),me.min(),_t.empty(),0)}static newUnknownDocument(t,n){return new bt(t,3,n,me.min(),me.min(),_t.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,n){this.position=t,this.inclusive=n}}function Jh(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],o=e.position[r];if(i.field.isKeyField()?s=Q.comparator(Q.fromName(o.referenceValue),n.key):s=_s(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jt(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,n="asc"){this.field=t,this.dir=n}}function XA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{}class Ce extends im{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZA(t,n,s):n==="array-contains"?new nS(t,s):n==="in"?new sS(t,s):n==="not-in"?new rS(t,s):n==="array-contains-any"?new iS(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new eS(t,s):new tS(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_s(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends im{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new bn(t,n)}matches(t){return om(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function om(e){return e.op==="and"}function am(e){return JA(e)&&om(e)}function JA(e){for(const t of e.filters)if(t instanceof bn)return!1;return!0}function Tc(e){if(e instanceof Ce)return e.field.canonicalString()+e.op.toString()+Ts(e.value);if(am(e))return e.filters.map(t=>Tc(t)).join(",");{const t=e.filters.map(n=>Tc(n)).join(",");return`${e.op}(${t})`}}function cm(e,t){return e instanceof Ce?function(n,s){return s instanceof Ce&&n.op===s.op&&n.field.isEqual(s.field)&&jt(n.value,s.value)}(e,t):e instanceof bn?function(n,s){return s instanceof bn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&cm(i,s.filters[o]),!0):!1}(e,t):void J()}function lm(e){return e instanceof Ce?function(t){return`${t.field.canonicalString()} ${t.op} ${Ts(t.value)}`}(e):e instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(lm).join(" ,")+"}"}(e):"Filter"}class ZA extends Ce{constructor(t,n,s){super(t,n,s),this.key=Q.fromName(s.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class eS extends Ce{constructor(t,n){super(t,"in",n),this.keys=um("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tS extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=um("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function um(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Q.fromName(s.referenceValue))}class nS extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hl(n)&&Sr(n.arrayValue,this.value)}}class sS extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sr(this.value.arrayValue,n)}}class rS extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Sr(this.value.arrayValue,n)}}class iS extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Sr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n=null,s=[],r=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function ef(e,t=null,n=[],s=[],r=null,i=null,o=null){return new oS(e,t,n,s,r,i,o)}function zl(e){const t=pe(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Tc(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Bl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ts(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ts(s)).join(",")),t.dt=n}return t.dt}function ql(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!XA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zh(e.startAt,t.startAt)&&Zh(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function aS(e,t,n,s,r,i,o,a){return new ko(e,t,n,s,r,i,o,a)}function cS(e){return new ko(e)}function tf(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function lS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function uS(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function hS(e){return e.collectionGroup!==null}function fs(e){const t=pe(e);if(t.wt===null){t.wt=[];const n=uS(t),s=lS(t);if(n!==null&&s===null)n.isKeyField()||t.wt.push(new sr(n)),t.wt.push(new sr(qe.keyField(),"asc"));else{let r=!1;for(const i of t.explicitOrderBy)t.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new sr(qe.keyField(),i))}}}return t.wt}function Is(e){const t=pe(e);if(!t._t)if(t.limitType==="F")t._t=ef(t.path,t.collectionGroup,fs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of fs(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new sr(i.field,o))}const s=t.endAt?new Gi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gi(t.startAt.position,t.startAt.inclusive):null;t._t=ef(t.path,t.collectionGroup,n,t.filters,t.limit,s,r)}return t._t}function Ic(e,t,n){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hm(e,t){return ql(Is(e),Is(t))&&e.limitType===t.limitType}function fm(e){return`${zl(Is(e))}|lt:${e.limitType}`}function nf(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>lm(s)).join(", ")}]`),Bl(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ts(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ts(s)).join(",")),`Target(${n})`}(Is(e))}; limitType=${e.limitType})`}function Kl(e,t){return t.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Q.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,s){for(const r of fs(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Jh(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,fs(n),s)||n.endAt&&!function(r,i,o){const a=Jh(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,fs(n),s))}(e,t)}function fS(e){return(t,n)=>{let s=!1;for(const r of fs(e)){const i=dS(r,t,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function dS(e,t,n){const s=e.field.isKeyField()?Q.comparator(t.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?_s(a,c):J()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,(n,s)=>{for(const[r,i]of s)t(r,i)})}isEmpty(){return nm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new at(Q.comparator);function Qi(){return pS}const dm=new at(Q.comparator);function ui(...e){let t=dm;for(const n of e)t=t.insert(n.key,n);return t}function pm(e){let t=dm;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ln(){return rr()}function gm(){return rr()}function rr(){return new Ms(e=>e.toString(),(e,t)=>e.isEqual(t))}const gS=new at(Q.comparator),mS=new Je(Q.comparator);function He(...e){let t=mS;for(const n of e)t=t.add(n);return t}const yS=new Je(he);function vS(){return yS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qi(t)?"-0":t}}function ym(e){return{integerValue:""+e}}function wS(e,t){return KA(t)?ym(t):mm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this._=void 0}}function bS(e,t,n){return e instanceof Yi?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Ul(r)&&(r=sm(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,t):e instanceof Cr?wm(e,t):e instanceof xr?bm(e,t):function(s,r){const i=vm(s,r),o=sf(i)+sf(s.gt);return _c(i)&&_c(s.gt)?ym(o):mm(s.serializer,o)}(e,t)}function ES(e,t,n){return e instanceof Cr?wm(e,t):e instanceof xr?bm(e,t):n}function vm(e,t){return e instanceof Xi?_c(n=t)||function(s){return!!s&&"doubleValue"in s}(n)?t:{integerValue:0}:null;var n}class Yi extends Fo{}class Cr extends Fo{constructor(t){super(),this.elements=t}}function wm(e,t){const n=Em(t);for(const s of e.elements)n.some(r=>jt(r,s))||n.push(s);return{arrayValue:{values:n}}}class xr extends Fo{constructor(t){super(),this.elements=t}}function bm(e,t){let n=Em(t);for(const s of e.elements)n=n.filter(r=>!jt(r,s));return{arrayValue:{values:n}}}class Xi extends Fo{constructor(t,n){super(),this.serializer=t,this.gt=n}}function sf(e){return Pe(e.integerValue||e.doubleValue)}function Em(e){return Hl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function _S(e,t){return e.field.isEqual(t.field)&&function(n,s){return n instanceof Cr&&s instanceof Cr||n instanceof xr&&s instanceof xr?bs(n.elements,s.elements,jt):n instanceof Xi&&s instanceof Xi?jt(n.gt,s.gt):n instanceof Yi&&s instanceof Yi}(e.transform,t.transform)}class TS{constructor(t,n){this.version=t,this.transformResults=n}}class Yt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yt}static exists(t){return new Yt(void 0,t)}static updateTime(t){return new Yt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _i(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lo{}function _m(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Im(e.key,Yt.none()):new qr(e.key,e.data,Yt.none());{const n=e.data,s=_t.empty();let r=new Je(qe.comparator);for(let i of t.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Xn(e.key,s,new It(r.toArray()),Yt.none())}}function IS(e,t,n){e instanceof qr?function(s,r,i){const o=s.value.clone(),a=of(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Xn?function(s,r,i){if(!_i(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=of(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Tm(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function ir(e,t,n,s){return e instanceof qr?function(r,i,o,a){if(!_i(r.precondition,i))return o;const c=r.value.clone(),l=af(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(e,t,n,s):e instanceof Xn?function(r,i,o,a){if(!_i(r.precondition,i))return o;const c=af(r.fieldTransforms,a,i),l=i.data;return l.setAll(Tm(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(e,t,n,s):function(r,i,o){return _i(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,n)}function AS(e,t){let n=null;for(const s of e.fieldTransforms){const r=t.data.field(s.field),i=vm(s.transform,r||null);i!=null&&(n===null&&(n=_t.empty()),n.set(s.field,i))}return n||null}function rf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&bs(n,s,(r,i)=>_S(r,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qr extends Lo{constructor(t,n,s,r=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xn extends Lo{constructor(t,n,s,r,i=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Tm(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function of(e,t,n){const s=new Map;Re(e.length===n.length);for(let r=0;r<n.length;r++){const i=e[r],o=i.transform,a=t.data.field(i.field);s.set(i.field,ES(o,a,n[r]))}return s}function af(e,t,n){const s=new Map;for(const r of e){const i=r.transform,o=n.data.field(r.field);s.set(r.field,bS(i,o,t))}return s}class Im extends Lo{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SS extends Lo{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n,s,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(t.key)&&IS(i,t,s[r])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ir(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ir(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=gm();return this.mutations.forEach(r=>{const i=t.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=_m(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),He())}isEqual(t){return this.batchId===t.batchId&&bs(this.mutations,t.mutations,(n,s)=>rf(n,s))&&bs(this.baseMutations,t.baseMutations,(n,s)=>rf(n,s))}}class Wl{constructor(t,n,s,r){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(t,n,s){Re(t.mutations.length===s.length);let r=gS;const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Wl(t,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Z;function OS(e){switch(e){default:return J();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function DS(e){if(e===void 0)return Gn("GRPC error has no .code"),I.UNKNOWN;switch(e){case _e.OK:return I.OK;case _e.CANCELLED:return I.CANCELLED;case _e.UNKNOWN:return I.UNKNOWN;case _e.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case _e.INTERNAL:return I.INTERNAL;case _e.UNAVAILABLE:return I.UNAVAILABLE;case _e.UNAUTHENTICATED:return I.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case _e.NOT_FOUND:return I.NOT_FOUND;case _e.ALREADY_EXISTS:return I.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return I.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case _e.ABORTED:return I.ABORTED;case _e.OUT_OF_RANGE:return I.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return I.UNIMPLEMENTED;case _e.DATA_LOSS:return I.DATA_LOSS;default:return J()}}(Z=_e||(_e={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new RA([4294967295,4294967295],0);class RS{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ac(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function MS(e,t){return Ac(e,t.toTimestamp())}function ds(e){return Re(!!e),me.fromTimestamp(function(t){const n=Qn(t);return new xe(n.seconds,n.nanos)}(e))}function Am(e,t){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function PS(e){const t=ye.fromString(e);return Re(US(t)),t}function Sc(e,t){return Am(e.databaseId,t.path)}function kS(e){const t=PS(e);return t.length===4?ye.emptyPath():LS(t)}function FS(e){return new ye(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LS(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function cf(e,t,n){return{name:Sc(e,t),fields:n.value.mapValue.fields}}function $S(e,t){let n;if(t instanceof qr)n={update:cf(e,t.key,t.value)};else if(t instanceof Im)n={delete:Sc(e,t.key)};else if(t instanceof Xn)n={update:cf(e,t.key,t.data),updateMask:BS(t.fieldMask)};else{if(!(t instanceof SS))return J();n={verify:Sc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Yi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xi)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw J()}(0,s))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:MS(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:J()}(e,t.precondition)),n}function VS(e,t){return e&&e.length>0?(Re(t!==void 0),e.map(n=>function(s,r){let i=s.updateTime?ds(s.updateTime):ds(r);return i.isEqual(me.min())&&(i=ds(r)),new TS(i,s.transformResults||[])}(n,t))):[]}function jS(e){let t=kS(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Re(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=Sm(u);return h instanceof bn&&am(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new sr(is(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Bl(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,f=u.values||[];return new Gi(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,f=u.values||[];return new Gi(f,h)}(n.endAt)),aS(t,r,o,i,a,"F",c,l)}function Sm(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=is(t.unaryFilter.field);return Ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=is(t.unaryFilter.field);return Ce.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=is(t.unaryFilter.field);return Ce.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=is(t.unaryFilter.field);return Ce.create(i,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(e):e.fieldFilter!==void 0?function(t){return Ce.create(is(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(n=>Sm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(e):J()}function is(e){return qe.fromServerFormat(e.fieldPath)}function BS(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function US(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.fe=t}}function zS(e){const t=jS({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ic(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.rn=new KS}addToCollectionParentIndex(t,n){return this.rn.add(n),C.resolve()}getCollectionParents(t,n){return C.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return C.resolve()}deleteFieldIndex(t,n){return C.resolve()}getDocumentsMatchingTarget(t,n){return C.resolve(null)}getIndexType(t,n){return C.resolve(0)}getFieldIndexes(t,n){return C.resolve([])}getNextCollectionGroupToUpdate(t){return C.resolve(null)}getMinOffset(t,n){return C.resolve(wn.min())}getMinOffsetFromCollectionGroup(t,n){return C.resolve(wn.min())}updateCollectionGroup(t,n,s){return C.resolve()}updateIndexEntries(t,n){return C.resolve()}}class KS{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n]||new Je(ye.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(t){return(this.index[t]||new Je(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new As(0)}static Mn(){return new As(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.changes=new Ms(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,bt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?C.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n,s,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(s!==null&&ir(s.mutation,r,It.empty(),xe.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,He()).next(()=>s))}getLocalViewOfDocuments(t,n,s=He()){const r=Ln();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,s).next(i=>{let o=ui();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const s=Ln();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,He()))}populateOverlays(t,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(t,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,s,r){let i=Qi();const o=rr(),a=rr();return n.forEach((c,l)=>{const u=s.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Xn)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),ir(u.mutation,l,u.mutation.getFieldMask(),xe.now())):o.set(l.key,It.empty())}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new GS(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const s=rr();let r=new at((o,a)=>o-a),i=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=s.get(c)||It.empty();u=a.applyToLocalView(l,u),s.set(c,u);const h=(r.get(a.batchId)||He()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=gm();u.forEach(f=>{if(!i.has(f)){const g=_m(n.get(f),s.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return C.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s){return function(r){return Q.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s):this.getDocumentsMatchingCollectionQuery(t,n,s)}getNextDocuments(t,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,r-i.size):C.resolve(Ln());let a=-1,c=i;return o.next(l=>C.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?C.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(t,l,i)).next(()=>this.computeViews(t,c,l,He())).next(u=>({batchId:a,changes:pm(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(s=>{let r=ui();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,s){const r=n.collectionGroup;let i=ui();return this.indexManager.getCollectionParents(t,r).next(o=>C.forEach(o,a=>{const c=function(l,u){return new ko(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,r))).next(i=>{r.forEach((a,c)=>{const l=c.getKey();i.get(l)===null&&(i=i.insert(l,bt.newInvalidDocument(l)))});let o=ui();return i.forEach((a,c)=>{const l=r.get(a);l!==void 0&&ir(l.mutation,c,It.empty(),xe.now()),Kl(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return C.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:ds(s.createTime)}),C.resolve()}getNamedQuery(t,n){return C.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(s){return{name:s.name,query:zS(s.bundledQuery),readTime:ds(s.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.overlays=new at(Q.comparator),this.ls=new Map}getOverlay(t,n){return C.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ln();return C.forEach(n,r=>this.getOverlay(t,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((r,i)=>{this.we(t,n,i)}),C.resolve()}removeOverlaysForBatchId(t,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),C.resolve()}getOverlaysForCollection(t,n,s){const r=Ln(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return C.resolve(r)}getOverlaysForCollectionGroup(t,n,s,r){let i=new at((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=Ln(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ln(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return C.resolve(a)}we(t,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new xS(n,s));let i=this.ls.get(n);i===void 0&&(i=He(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.fs=new Je(Ae.ds),this.ws=new Je(Ae._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const s=new Ae(t,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.ys(new Ae(t,n))}ps(t,n){t.forEach(s=>this.removeReference(s,n))}Is(t){const n=new Q(new ye([])),s=new Ae(n,t),r=new Ae(n,t+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new Q(new ye([])),s=new Ae(n,t),r=new Ae(n,t+1);let i=He();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Ae(t,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ae{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return Q.comparator(t.key,n.key)||he(t.As,n.As)}static _s(t,n){return he(t.As,n.As)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Je(Ae.ds)}checkEmpty(t){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CS(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Ae(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(t,n){return C.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return C.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ae(n,0),r=new Ae(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Je(he);return n.forEach(r=>{const i=new Ae(r,0),o=new Ae(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),C.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,r=s.length+1;let i=s;Q.isDocumentKey(i)||(i=i.child(""));const o=new Ae(new Q(i),0);let a=new Je(he);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},o),C.resolve(this.Vs(a))}Vs(t){const n=[];return t.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Re(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return C.forEach(n.mutations,r=>{const i=new Ae(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=s})}Cn(t){}containsKey(t,n){const s=new Ae(n,0),r=this.Rs.firstAfterOrEqual(s);return C.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,C.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.Ds=t,this.docs=new at(Q.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return C.resolve(s?s.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(t,n){let s=Qi();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():bt.newInvalidDocument(r))}),C.resolve(s)}getDocumentsMatchingQuery(t,n,s,r){let i=Qi();const o=n.path,a=new Q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||HA(UA(u),s)<=0||(r.has(u.key)||Kl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return C.resolve(i)}getAllFromCollectionGroup(t,n,s,r){J()}Cs(t,n){return C.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new eC(this)}getSize(t){return C.resolve(this.size)}}class eC extends WS{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(t,r)):this.os.removeEntry(s)}),C.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.persistence=t,this.xs=new Ms(n=>zl(n),ql),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gl,this.targetCount=0,this.Ms=As.kn()}forEachTarget(t,n){return this.xs.forEach((s,r)=>n(r)),C.resolve()}getLastRemoteSnapshotVersion(t){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return C.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),C.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new As(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,C.resolve()}updateTargetData(t,n){return this.Fn(n),C.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(t,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),C.waitFor(i).next(()=>r)}getTargetCount(t){return C.resolve(this.targetCount)}getTargetData(t,n){const s=this.xs.get(n)||null;return C.resolve(s)}addMatchingKeys(t,n,s){return this.ks.gs(n,s),C.resolve()}removeMatchingKeys(t,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(t,o))}),C.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),C.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ks.Es(n);return C.resolve(s)}containsKey(t,n){return C.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n){this.$s={},this.overlays={},this.Os=new tm(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new tC(this),this.indexManager=new qS,this.remoteDocumentCache=function(s){return new ZS(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new HS(n),this.qs=new YS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new XS,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.$s[t.toKey()];return s||(s=new JS(n,this.referenceDelegate),this.$s[t.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,s){B("MemoryPersistence","Starting transaction:",t);const r=new sC(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(t,n){return C.or(Object.values(this.$s).map(s=>()=>s.containsKey(t,n)))}}class sC extends qA{constructor(t){super(),this.currentSequenceNumber=t}}class Ql{constructor(t){this.persistence=t,this.Qs=new Gl,this.js=null}static zs(t){return new Ql(t)}get Ws(){if(this.js)return this.js;throw J()}addReference(t,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),C.resolve()}removeReference(t,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),C.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),C.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,s=>{const r=Q.fromPath(s);return this.Hs(t,r).next(i=>{i||n.removeEntry(r,me.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return C.or([()=>C.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n,s,r){this.targetId=t,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(t,n){let s=He(),r=He();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yl(t,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,s,r){return this.Ki(t,n).next(i=>i||this.Gi(t,n,r,s)).next(i=>i||this.Qi(t,n))}Ki(t,n){if(tf(n))return C.resolve(null);let s=Is(n);return this.indexManager.getIndexType(t,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ic(n,null,"F"),s=Is(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(i=>{const o=He(...i);return this.Ui.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,s).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(t,Ic(n,null,"F")):this.Wi(t,l,n,c)}))})))}Gi(t,n,s,r){return tf(n)||r.isEqual(me.min())?this.Qi(t,n):this.Ui.getDocuments(t,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(t,n):(Gh()<=re.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nf(n)),this.Wi(t,o,n,BA(r,-1)))})}ji(t,n){let s=new Je(fS(t));return n.forEach((r,i)=>{Kl(t,i)&&(s=s.add(i))}),s}zi(t,n,s,r){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(t,n){return Gh()<=re.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",nf(n)),this.Ui.getDocumentsMatchingQuery(t,n,wn.min())}Wi(t,n,s,r){return this.Ui.getDocumentsMatchingQuery(t,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n,s,r){this.persistence=t,this.Hi=n,this.serializer=r,this.Ji=new at(he),this.Yi=new Ms(i=>zl(i),ql),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(s)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QS(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function oC(e,t,n,s){return new iC(e,t,n,s)}async function Cm(e,t){const n=pe(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=He();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(s,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}function aC(e,t){const n=pe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let f=C.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(a,g)).next(v=>{const T=c.docVersions.get(g);Re(T!==null),v.version.compareTo(T)<0&&(u.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),l.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,t,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=He();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(t))).next(()=>n.localDocuments.getDocuments(s,r))})}function cC(e){const t=pe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function lC(e,t){const n=pe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}class lf{constructor(){this.activeTargetIds=vS()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uC{constructor(){this.Hr=new lf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,s){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new lf,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi=null;function Ia(){return hi===null?hi=268435456+Math.round(2147483648*Math.random()):hi++,"0x"+hi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class pC extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,s,r,i){const o=Ia(),a=this.To(t,n);B("RestConnection",`Sending RPC '${t}' ${o}:`,a,s);const c={};return this.Eo(c,r,i),this.Ao(t,a,c,s).then(l=>(B("RestConnection",`Received RPC '${t}' ${o}: `,l),l),l=>{throw zi("RestConnection",`RPC '${t}' ${o} failed with error: `,l,"url: ",a,"request:",s),l})}vo(t,n,s,r,i,o){return this.Io(t,n,s,r,i)}Eo(t,n,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ns,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>t[i]=r),s&&s.headers.forEach((r,i)=>t[i]=r)}To(t,n){const s=fC[t];return`${this.mo}/v1/${n}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,s,r){const i=Ia();return new Promise((o,a)=>{const c=new DA;c.setWithCredentials(!0),c.listenOnce(CA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ta.NO_ERROR:const u=c.getResponseJson();B(je,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ta.TIMEOUT:B(je,`RPC '${t}' ${i} timed out`),a(new U(I.DEADLINE_EXCEEDED,"Request time out"));break;case Ta.HTTP_ERROR:const h=c.getStatus();if(B(je,`RPC '${t}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(x)>=0?x:I.UNKNOWN}(g.status);a(new U(v,g.message))}else a(new U(I.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(I.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{B(je,`RPC '${t}' ${i} completed.`)}});const l=JSON.stringify(r);B(je,`RPC '${t}' ${i} sending request:`,r),c.send(n,"POST",l,s,15)})}Ro(t,n,s){const r=Ia(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=AA(),a=SA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new OA({})),this.Eo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const u=i.join("");B(je,`Creating RPC '${t}' stream ${r}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,g=!1;const v=new dC({ro:x=>{g?B(je,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(f||(B(je,`Opening RPC '${t}' stream ${r} transport.`),h.open(),f=!0),B(je,`RPC '${t}' stream ${r} sending:`,x),h.send(x))},oo:()=>h.close()}),T=(x,S,O)=>{x.listen(S,N=>{try{O(N)}catch(A){setTimeout(()=>{throw A},0)}})};return T(h,ai.EventType.OPEN,()=>{g||B(je,`RPC '${t}' stream ${r} transport opened.`)}),T(h,ai.EventType.CLOSE,()=>{g||(g=!0,B(je,`RPC '${t}' stream ${r} transport closed`),v.wo())}),T(h,ai.EventType.ERROR,x=>{g||(g=!0,zi(je,`RPC '${t}' stream ${r} transport errored:`,x),v.wo(new U(I.UNAVAILABLE,"The operation could not be completed")))}),T(h,ai.EventType.MESSAGE,x=>{var S;if(!g){const O=x.data[0];Re(!!O);const N=O,A=N.error||((S=N[0])===null||S===void 0?void 0:S.error);if(A){B(je,`RPC '${t}' stream ${r} received error:`,A);const z=A.status;let X=function($e){const Te=_e[$e];if(Te!==void 0)return DS(Te)}(z),ge=A.message;X===void 0&&(X=I.INTERNAL,ge="Unknown error status: "+z+" with message "+A.message),g=!0,v.wo(new U(X,ge)),h.close()}else B(je,`RPC '${t}' stream ${r} received:`,O),v._o(O)}}),T(a,xA.STAT_EVENT,x=>{x.stat===Kh.PROXY?B(je,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===Kh.NOPROXY&&B(je,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function Aa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e){return new RS(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,s=1e3,r=1.5,i=6e4){this.ii=t,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&B("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n,s,r,i,o,a,c){this.ii=t,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xm(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{t(()=>{const r=new U(I.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(t,n){const s=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mC extends gC{constructor(t,n,s,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(Re(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=VS(t.writeResults,t.commitTime),s=ds(t.commitTime);return this.listener.cu(s,n)}return Re(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=FS(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>$S(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends class{}{constructor(t,n,s,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new U(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(t,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new U(I.UNKNOWN,r.toString())})}vo(t,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(t,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(I.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class vC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gn(n),this.mu=!1):B("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n,s,r,i){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{Wr(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=pe(a);c.vu.add(4),await Kr(c),c.bu.set("Unknown"),c.vu.delete(4),await Vo(c)}(this))})}),this.bu=new vC(s,r)}}async function Vo(e){if(Wr(e))for(const t of e.Ru)await t(!0)}async function Kr(e){for(const t of e.Ru)await t(!1)}function Wr(e){return pe(e).vu.size===0}async function Om(e,t,n){if(!Po(t))throw t;e.vu.add(1),await Kr(e),e.bu.set("Offline"),n||(n=()=>cC(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Vo(e)})}function Dm(e,t){return t().catch(n=>Om(e,n,t))}async function jo(e){const t=pe(e),n=En(t);let s=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;bC(t);)try{const r=await lC(t.localStore,s);if(r===null){t.Eu.length===0&&n.jo();break}s=r.batchId,EC(t,r)}catch(r){await Om(t,r)}Rm(t)&&Nm(t)}function bC(e){return Wr(e)&&e.Eu.length<10}function EC(e,t){e.Eu.push(t);const n=En(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Rm(e){return Wr(e)&&!En(e).Uo()&&e.Eu.length>0}function Nm(e){En(e).start()}async function _C(e){En(e).hu()}async function TC(e){const t=En(e);for(const n of e.Eu)t.uu(n.mutations)}async function IC(e,t,n){const s=e.Eu.shift(),r=Wl.from(s,t,n);await Dm(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await jo(e)}async function AC(e,t){t&&En(e).ou&&await async function(n,s){if(r=s.code,OS(r)&&r!==I.ABORTED){const i=n.Eu.shift();En(n).Qo(),await Dm(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await jo(n)}var r}(e,t),Rm(e)&&Nm(e)}async function hf(e,t){const n=pe(e);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const s=Wr(n);n.vu.add(3),await Kr(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Vo(n)}async function SC(e,t){const n=pe(e);t?(n.vu.delete(2),await Vo(n)):t||(n.vu.add(2),await Kr(n),n.bu.set("Unknown"))}function En(e){return e.Du||(e.Du=function(t,n,s){const r=pe(t);return r.fu(),new mC(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{uo:_C.bind(null,e),ao:AC.bind(null,e),au:TC.bind(null,e),cu:IC.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await jo(e)):(await e.Du.stop(),e.Eu.length>0&&(B("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n,s,r,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,s,r,i){const o=Date.now()+s,a=new Xl(t,n,o,r,i);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(e,t){if(Gn("AsyncQueue",`${t}: ${e}`),Po(e))return new U(I.UNAVAILABLE,`${t}: ${e}`);throw e}class CC{constructor(){this.queries=new Ms(t=>fm(t),hm),this.onlineState="Unknown",this.ku=new Set}}function xC(e){e.ku.forEach(t=>{t.next()})}class OC{constructor(t,n,s,r,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ms(a=>fm(a),hm),this._c=new Map,this.mc=new Set,this.gc=new at(Q.comparator),this.yc=new Map,this.Ic=new Gl,this.Tc={},this.Ec=new Map,this.Ac=As.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function DC(e,t,n){const s=PC(e);try{const r=await function(i,o){const a=pe(i),c=xe.now(),l=o.reduce((f,g)=>f.add(g.key),He());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Qi(),v=He();return a.Zi.getEntries(f,l).next(T=>{g=T,g.forEach((x,S)=>{S.isValidDocument()||(v=v.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(T=>{u=T;const x=[];for(const S of o){const O=AS(S,u.get(S.key).overlayedDocument);O!=null&&x.push(new Xn(S.key,O,rm(O.value.mapValue),Yt.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,x,o)}).next(T=>{h=T;const x=T.applyToLocalDocumentSet(u,v);return a.documentOverlayCache.saveOverlays(f,T.batchId,x)})}).then(()=>({batchId:h.batchId,changes:pm(u)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.Tc[i.currentUser.toKey()];c||(c=new at(he)),c=c.insert(o,a),i.Tc[i.currentUser.toKey()]=c}(s,r.batchId,n),await Bo(s,r.changes),await jo(s.remoteStore)}catch(r){const i=Mm(r,"Failed to persist write");n.reject(i)}}function ff(e,t,n){const s=pe(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(t);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=pe(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.Mu(o)&&(c=!0)}),c&&xC(a)}(s.eventManager,t),r.length&&s.dc.nu(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function RC(e,t){const n=pe(e),s=t.batch.batchId;try{const r=await aC(n.localStore,t);km(n,s,null),Pm(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bo(n,r)}catch(r){await em(r)}}async function NC(e,t,n){const s=pe(e);try{const r=await function(i,o){const a=pe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(Re(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(s.localStore,t);km(s,t,n),Pm(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Bo(s,r)}catch(r){await em(r)}}function Pm(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function km(e,t,n){const s=pe(e);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),s.Tc[s.currentUser.toKey()]=r}}async function Bo(e,t,n){const s=pe(e),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,c)=>{o.push(s.Rc(c,t,n).then(l=>{if((l||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){r.push(l);const u=Yl.Li(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,c){const l=pe(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>C.forEach(c,h=>C.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>C.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Po(u))throw u;B("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const f=l.Ji.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);l.Ji=l.Ji.insert(h,v)}}}(s.localStore,i))}async function MC(e,t){const n=pe(e);if(!n.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const s=await Cm(n.localStore,t);n.currentUser=t,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new U(I.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bo(n,s.er)}}function PC(e){const t=pe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,t),t}class df{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=$o(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return oC(this.persistence,new rC,t.initialUser,this.serializer)}createPersistence(t){return new nC(Ql.zs,this.serializer)}createSharedClientState(t){return new uC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kC{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ff(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),await SC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new CC}createDatastore(t){const n=$o(t.databaseInfo.databaseId),s=(r=t.databaseInfo,new pC(r));var r;return function(i,o,a,c){return new yC(i,o,a,c)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return n=this.localStore,s=this.datastore,r=t.asyncQueue,i=a=>ff(this.syncEngine,a,0),o=uf.D()?new uf:new hC,new wC(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(t,n){return function(s,r,i,o,a,c,l){const u=new OC(s,r,i,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=pe(t);B("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Kr(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Ue.UNAUTHENTICATED,this.clientId=Zg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{B("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(B("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Mm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Sa(e,t){e.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Cm(t.localStore,r),s=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function pf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $C(e);B("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(r=>hf(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>hf(t.remoteStore,i)),e._onlineComponents=t}function LC(e){return e.name==="FirebaseError"?e.code===I.FAILED_PRECONDITION||e.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function $C(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sa(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!LC(n))throw n;zi("Error using user provided cache. Falling back to memory cache: "+n),await Sa(e,new df)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Sa(e,new df);return e._offlineComponents}async function VC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await pf(e,e._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await pf(e,new kC))),e._onlineComponents}function jC(e){return VC(e).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(e,t,n){if(!n)throw new U(I.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function BC(e,t,n,s){if(t===!0&&s===!0)throw new U(I.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function mf(e){if(!Q.isDocumentKey(e))throw new U(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function yf(e){if(Q.isDocumentKey(e))throw new U(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Jl(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":J()}function $m(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jl(e);throw new U(I.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new U(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new U(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fm((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new U(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new U(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new U(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=t.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,s}}class Uo{constructor(t,n,s,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new U(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vf(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new NA;switch(n.type){case"firstParty":return new FA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=gf.get(t);n&&(B("ComponentProvider","Removing Datastore"),gf.delete(t),n.terminate())}(this),Promise.resolve()}}function UC(e,t,n,s={}){var r;const i=(e=$m(e,Uo))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),s.mockUserToken){let a,c;if(typeof s.mockUserToken=="string")a=s.mockUserToken,c=Ue.MOCK_USER;else{a=ay(s.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new U(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ue(l)}e._authCredentials=new MA(new Jg(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xt(this.firestore,t,this._key)}}class Zl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Zl(this.firestore,t,this._query)}}class mn extends Zl{constructor(t,n,s){super(t,n,cS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xt(this.firestore,null,new Q(t))}withConverter(t){return new mn(this.firestore,t,this._path)}}function HC(e,t,...n){if(e=Un(e),Lm("collection","path",t),e instanceof Uo){const s=ye.fromString(t,...n);return yf(s),new mn(e,null,s)}{if(!(e instanceof Xt||e instanceof mn))throw new U(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ye.fromString(t,...n));return yf(s),new mn(e.firestore,null,s)}}function zC(e,t,...n){if(e=Un(e),arguments.length===1&&(t=Zg.A()),Lm("doc","path",t),e instanceof Uo){const s=ye.fromString(t,...n);return mf(s),new Xt(e,null,new Q(s))}{if(!(e instanceof Xt||e instanceof mn))throw new U(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ye.fromString(t,...n));return mf(s),new Xt(e.firestore,e instanceof mn?e.converter:null,new Q(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xm(this,"async_queue_retry"),this.Xc=()=>{const n=Aa();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=Aa();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=Aa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Bn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Po(t))throw t;B("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Gn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(t,n,s){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const r=Xl.createAndSchedule(this,t,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&J()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}class Vm extends Uo{constructor(t,n,s,r){super(t,n,s,r),this.type="firestore",this._queue=new qC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jm(this),this._firestoreClient.terminate()}}function KC(e,t){const n=typeof e=="object"?e:xf(),s=typeof e=="string"?e:t||"(default)",r=Dr(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=iy("firestore");i&&UC(r,...i)}return r}function WC(e){return e._firestoreClient||jm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jm(e){var t,n,s;const r=e._freezeSettings(),i=function(o,a,c,l){return new QA(o,a,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Fm(l.experimentalLongPollingOptions),l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new FC(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Or(tn.fromBase64String(t))}catch(n){throw new U(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Or(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new U(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new U(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new U(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return he(this._lat,t._lat)||he(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^__.*__$/;class QC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Xn(t,this.data,this.fieldMask,n,this.fieldTransforms):new qr(t,this.data,n,this.fieldTransforms)}}function zm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class eu{constructor(t,n,s,r,i,o){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new eu(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.aa({path:s,la:!1});return r.fa(t),r}da(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.aa({path:s,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Ji(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(zm(this.ca)&&GC.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class YC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||$o(t)}ya(t,n,s,r=!1){return new eu({ca:t,methodName:n,ga:s,path:qe.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XC(e){const t=e._freezeSettings(),n=$o(e._databaseId);return new YC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JC(e,t,n,s,r,i={}){const o=e.ya(i.merge||i.mergeFields?2:0,t,n,r);Gm("Data must be an object, but it was:",o,s);const a=Km(s,o);let c,l;if(i.merge)c=new It(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=ZC(t,h,n);if(!o.contains(f))throw new U(I.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nx(u,f)||u.push(f)}c=new It(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new QC(new _t(a),c,l)}function qm(e,t){if(Wm(e=Un(e)))return Gm("Unsupported field value:",t,e),Km(e,t);if(e instanceof Um)return function(n,s){if(!zm(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=qm(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(e,t)}return function(n,s){if((n=Un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wS(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=xe.fromDate(n);return{timestampValue:Ac(s.serializer,r)}}if(n instanceof xe){const r=new xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ac(s.serializer,r)}}if(n instanceof Hm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Or)return{bytesValue:NS(s.serializer,n._byteString)};if(n instanceof Xt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Am(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${Jl(n)}`)}(e,t)}function Km(e,t){const n={};return nm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(e,(s,r)=>{const i=qm(r,t.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Wm(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof xe||e instanceof Hm||e instanceof Or||e instanceof Xt||e instanceof Um)}function Gm(e,t,n){if(!Wm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Jl(n);throw s==="an object"?t._a(e+" a custom object"):t._a(e+" "+s)}}function ZC(e,t,n){if((t=Un(t))instanceof Bm)return t._internalPath;if(typeof t=="string")return tx(e,t);throw Ji("Field path arguments must be of type string or ",e,!1,void 0,n)}const ex=new RegExp("[~\\*/\\[\\]]");function tx(e,t,n){if(t.search(ex)>=0)throw Ji(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Bm(...t.split("."))._internalPath}catch{throw Ji(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ji(e,t,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new U(I.INVALID_ARGUMENT,a+e+c)}function nx(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}function rx(e,t){const n=$m(e.firestore,Vm),s=zC(e),r=sx(e.converter,t);return ix(n,[JC(XC(e.firestore),"addDoc",s._key,r,e.converter!==null,{}).toMutation(s._key,Yt.exists(!1))]).then(()=>s)}function ix(e,t){return function(n,s){const r=new Bn;return n.asyncQueue.enqueueAndForget(async()=>DC(await jC(n),s,r)),r.promise}(WC(e),t)}(function(e,t=!0){(function(n){Ns=n})(dv),yn(new Jt("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new Vm(new PA(n.getProvider("auth-internal")),new $A(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wi(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Lt(Wh,"3.12.2",e),Lt(Wh,"3.12.2","esm2017")})();const ox={data(){return{images:["https://cdn-icons-png.flaticon.com/512/1216/1216733.png","https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/CSS3_logo.svg/240px-CSS3_logo.svg.png","https://upload.wikimedia.org/wikipedia/commons/6/6a/JavaScript-logo.png","https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Vue.js_Logo_2.svg/1200px-Vue.js_Logo_2.svg.png","https://cdn.discordapp.com/attachments/703285604166926396/1114714735317897287/Untitled_drawing_2.png","https://cdn.freebiesupply.com/logos/large/2x/nodejs-icon-logo-png-transparent.png"],currentImageIndex:0,name:"",email:"",message:"",sent:!1}},methods:{async sendMessage(){try{this.sent=!1;const e=KC(),t=HC(e,"messages"),n=await rx(t,{name:this.name,email:this.email,message:this.message});fetch("https://discord.com/api/webhooks/1074815213808914503/-4vflh54xp7Ndzm7KMft6BBuzMr7-Ga95zykR4uNZQvMRhY0fxzFG6IPckM_AC7F6Uad",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:"@everyone",embeds:[{description:`${this.message}`,author:{name:this.name},title:this.email}]})}),this.sent=!0}catch(e){console.log(e)}}},computed:{currentImage(){return this.images[this.currentImageIndex]}},mounted(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},3e3)}},ax={class:"wrapper"},cx={class:"main"},lx=Os('<header class="navbar"><div class="logo"><h4>Connor.</h4></div><nav class="navbar-body"><div class="navbar-links"><a class="link" href="#about">About</a><a class="link" href="#contact">Contact</a></div></nav></header>',1),ux={class:"hero"},hx={class:"hero-content"},fx=ue("sub",{class:"sub"},"Hello! My Name is",-1),dx={class:"color"},px={class:"info"},gx=ue("div",{class:"arrow"},[ue("img",{src:"https://www.freeiconspng.com/thumbs/white-arrow-png/white-down-arrow-png-2.png"})],-1),mx=ue("a",{href:"#about",class:"btn"},"Learn More",-1),yx=Os('<div class="marquee"><div class="html"><i class="bx bxl-html5"></i></div><div class="css"><i class="bx bxl-css3"></i></div><div class="js"><i class="bx bxl-javascript"></i></div><div class="vue"><i class="bx bxl-vuejs"></i></div><div class="firebase"><i class="bx bxl-firebase"></i></div><div class="node"><i class="bx bxl-nodejs"></i></div></div>',1),vx={class:"about",id:"about"},wx={class:"about-content"},bx=ue("h3",null,"ABOUT ME",-1),Ex=ue("h2",null,"Passionate and Dedicated Front End Developer",-1),_x={class:"about-image"},Tx=["src"],Ix=ue("h3",{class:"gradient",style:{"text-align":"center","padding-top":"5rem"}},"PORTFOLIO",-1),Ax={class:"projecth1",style:{"padding-bottom":"4rem"}},Sx={delay:150,class:"projects"},Cx={class:"project"},xx=Os('<div class="project-content"><h3>Nore Media</h3><p>A Dynamic Website for Nore Media, a leading digital and social marketing agency dedicated to helping businesses thrive in the digital landscape.</p><div class="tags"><div class="tag"> #html </div><div class="tag"> #css </div><div class="tag"> #js </div><div class="tag"> #bootstrap </div></div></div><div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117124364106727476/ezgif-1-58964e489f.gif" alt=""></div>',2),Ox=[xx],Dx={class:"project"},Rx=Os('<div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117133586739499098/ezgif-1-e2184cce11.gif" alt=""></div><div class="project-content"><h3>BruhWare</h3><p>Website for a Universal Roblox Multitool Service written in pure Lua that enhances their gaming experience and expands their creative possibilities within the Roblox platform.</p><div class="tags"><div class="tag"> #html </div><div class="tag"> #css </div><div class="tag"> #js </div></div></div>',2),Nx=[Rx],Mx={class:"project"},Px=Os('<div class="project-content"><h3>Firebase Paste Site</h3><p>A Pastebin site created using Firebase and the Vue router that offering users a reliable and efficient platform for storing and sharing text-based information. This site provides a user-friendly interface where individuals can conveniently store snippets of code, text, or any other type of information they want to save or share.</p><div class="tags"><div class="tag"> #vuejs </div><div class="tag"> #css </div><div class="tag"> #firebase </div></div></div><div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117135453557112943/ezgif-1-75d8179f6b.gif" alt=""></div>',2),kx=[Px],Fx={class:"project"},Lx=Os('<div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117136041896317018/ezgif-1-5e39cac6b3.gif" alt=""></div><div class="project-content"><h3>iCreate Pro</h3><p>An unreleased website for the Geometry Dash modding service, iCreate Pro, that allows users to expand the customizations that the game has to offer.</p><div class="tags"><div class="tag"> #html </div><div class="tag"> #css </div><div class="tag"> #js </div><div class="tag"> #bootstrap </div></div></div>',2),$x=[Lx],Vx={class:"contact",id:"contact"},jx=ue("h3",{class:"gradient",style:{"text-align":"center","padding-top":"5rem"}},"CONTACT",-1),Bx=ue("h1",{class:"contact-title"},"Get in Touch",-1),Ux=ue("h2",{class:"contact-subtitle"},"Have a question or an idea? We'd love to hear from you",-1),Hx={class:"contact-form"},zx={key:0,style:{color:"green","font-weight":"bold","padding-bottom":"10px"}};function qx(e,t,n,s,r,i){const o=ks("motion-pop"),a=ks("motion-slide-left"),c=ks("motion-fade"),l=ks("motion-fade-visible"),u=ks("motion-slide-bottom");return Be(),tt("div",ax,[et((Be(),tt("div",cx,[lx,ue("section",ux,[ue("div",hx,[fx,et((Be(),tt("h1",dx,[Us("Connor Le.")])),[[o]]),et((Be(),tt("p",px,[Us("I'm a Frontend Web Developer from Orange County passionate about helping businesses thrive online.")])),[[a]]),gx,mx])])])),[[c]]),yx,ue("section",vx,[ue("div",wx,[bx,Ex,et((Be(),tt("p",null,[Us("Through the past few months, I've discovered a true passion for web development. I've taken my skills to the online freelance market, where I offer my expertise to businesses. My go-to tech stack includes Vue.js and Firebase, but I'm always open to learning new technologies. As a newer developer, I take pride in creating beautiful and interactive websites at an affordable price. If you're interested in working together, don't hesitate to reach out. Let's collaborate and bring your vision to life.")])),[[l]])]),ue("div",_x,[ue("div",null,[et((Be(),tt("img",{key:i.currentImage,src:i.currentImage,alt:""},null,8,Tx)),[[u]])])])]),Ix,et((Be(),tt("h2",Ax,[Us("Some of my Projects")])),[[l]]),et((Be(),tt("section",Sx,[et((Be(),tt("div",Cx,Ox)),[[l]]),et((Be(),tt("div",Dx,Nx)),[[l]]),et((Be(),tt("div",Mx,kx)),[[l]]),et((Be(),tt("div",Fx,$x)),[[l]])])),[[l]]),ue("section",Vx,[jx,Bx,Ux,ue("form",Hx,[r.sent?(Be(),tt("div",zx,"Success! I recieved your message and I will get back to you shortly.")):Q1("",!0),et(ue("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=h=>r.name=h),required:"",placeholder:"Your Name",class:"contact-input"},null,512),[[ra,r.name]]),et(ue("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=h=>r.email=h),placeholder:"Your Email",class:"contact-input"},null,512),[[ra,r.email]]),et(ue("textarea",{"onUpdate:modelValue":t[2]||(t[2]=h=>r.message=h),placeholder:"Your Message",class:"contact-input"},null,512),[[ra,r.message]]),ue("button",{type:"submit",onClick:t[3]||(t[3]=Cb((...h)=>i.sendMessage&&i.sendMessage(...h),["prevent"])),class:"contact-button"},"Send Message")])])])}const Kx=gl(ox,[["render",qx]]);const Wx={},Qm=e=>(i1("data-v-9247b52d"),e=e(),o1(),e),Gx={class:"wrapper"},Qx=Qm(()=>ue("h1",null,"404",-1)),Yx=Qm(()=>ue("p",null,"Page Not Found",-1)),Xx=[Qx,Yx];function Jx(e,t){return Be(),tt("div",Gx,Xx)}const Zx=gl(Wx,[["render",Jx],["__scopeId","data-v-9247b52d"]]),eO=TI({history:VT("/"),routes:[{path:"/",name:"home",component:Kx},{path:"/:catchAll(.*)",name:"NotFound",component:Zx}]}),tO={apiKey:"AIzaSyCSqM4y9V77o6ohxPv0oBDBE8FOhKd3bs8",authDomain:"le-portoflio.firebaseapp.com",projectId:"le-portoflio",storageBucket:"le-portoflio.appspot.com",messagingSenderId:"572778021103",appId:"1:572778021103:web:dd71aaca97e9f6265c5b1a",measurementId:"G-4E4VGLT9N8"},nO=Cf(tO);X0(nO);const tu=Db(ET);tu.use(vT);tu.use(eO);tu.mount("#app");
