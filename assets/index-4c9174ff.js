(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zm=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(d=64)),r.push(n[u],n[h],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zm(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||a==null||c==null)throw new ty;const l=s<<2|o>>4;if(r.push(l),a!==64){const u=o<<4&240|a>>2;if(r.push(u),c!==64){const h=a<<6&192|c;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ty extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ey=function(t){const e=wf(t);return Ef.encodeByteArray(e,!0)},Ss=function(t){return ey(t).replace(/\./g,"")},ny=function(t){try{return Ef.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iy=()=>ry().__FIREBASE_DEFAULTS__,sy=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ny(t[1]);return e&&JSON.parse(e)},If=()=>{try{return iy()||sy()||oy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ay=t=>{var e,n;return(n=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cy=t=>{const e=ay(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tf=()=>{var t;return(t=If())===null||t===void 0?void 0:t.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ly{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ss(JSON.stringify(n)),Ss(JSON.stringify(o)),a].join(".")}function hy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sf(){try{return typeof indexedDB=="object"}catch{return!1}}function _f(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function fy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dy="FirebaseError";class En extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dy,Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?py(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new En(i,a,r)}}function py(t,e){return t.replace(gy,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gy=/\{\$([^}]+)}/g;function _s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ou(s)&&ou(o)){if(!_s(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ou(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const my=1e3,yy=2,vy=4*60*60*1e3,by=.5;function au(t,e=my,n=yy){const r=e*Math.pow(n,t),i=Math.round(by*r*(Math.random()-.5)*2);return Math.min(vy,r+i)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bn(t){return t&&t._delegate?t._delegate:t}class Je{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xn="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ly;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iy(e))try{this.getOrInitializeService({instanceIdentifier:xn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xn){return this.instances.has(e)}getOptions(e=xn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ey(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xn){return this.component?this.component.multipleInstances?e:xn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ey(t){return t===xn?void 0:t}function Iy(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ty{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const Sy={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},_y=it.INFO,Cy={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},Ay=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xc{constructor(e){this.name=e,this._logLevel=_y,this._logHandler=Ay,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const xy=(t,e)=>e.some(n=>t instanceof n);let cu,lu;function Oy(){return cu||(cu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ky(){return lu||(lu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cf=new WeakMap,xa=new WeakMap,Af=new WeakMap,zo=new WeakMap,Oc=new WeakMap;function Dy(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Cf.set(n,t)}).catch(()=>{}),Oc.set(e,t),e}function Ny(t){if(xa.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xa.set(t,e)}let Oa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Af.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function My(t){Oa=t(Oa)}function Ry(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ho(this),e,...n);return Af.set(r,e.sort?e.sort():[e]),un(r)}:ky().includes(t)?function(...e){return t.apply(Ho(this),e),un(Cf.get(this))}:function(...e){return un(t.apply(Ho(this),e))}}function Py(t){return typeof t=="function"?Ry(t):(t instanceof IDBTransaction&&Ny(t),xy(t,Oy())?new Proxy(t,Oa):t)}function un(t){if(t instanceof IDBRequest)return Dy(t);if(zo.has(t))return zo.get(t);const e=Py(t);return e!==t&&(zo.set(t,e),Oc.set(e,t)),e}const Ho=t=>Oc.get(t);function Ly(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=un(o);return r&&o.addEventListener("upgradeneeded",c=>{r(un(o.result),c.oldVersion,c.newVersion,un(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Fy=["get","getKey","getAll","getAllKeys","count"],jy=["put","add","delete","clear"],Ko=new Map;function uu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ko.get(e))return Ko.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fy.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return Ko.set(e,s),s}My(t=>({...t,get:(e,n,r)=>uu(e,n)||t.get(e,n,r),has:(e,n)=>!!uu(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Uy(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function Uy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ka="@firebase/app",hu="0.9.12";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $n=new xc("@firebase/app"),By="@firebase/app-compat",$y="@firebase/analytics-compat",qy="@firebase/analytics",zy="@firebase/app-check-compat",Hy="@firebase/app-check",Ky="@firebase/auth",Gy="@firebase/auth-compat",Wy="@firebase/database",Qy="@firebase/database-compat",Xy="@firebase/functions",Yy="@firebase/functions-compat",Jy="@firebase/installations",Zy="@firebase/installations-compat",tv="@firebase/messaging",ev="@firebase/messaging-compat",nv="@firebase/performance",rv="@firebase/performance-compat",iv="@firebase/remote-config",sv="@firebase/remote-config-compat",ov="@firebase/storage",av="@firebase/storage-compat",cv="@firebase/firestore",lv="@firebase/firestore-compat",uv="firebase",hv="9.22.2";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Da="[DEFAULT]",fv={[ka]:"fire-core",[By]:"fire-core-compat",[qy]:"fire-analytics",[$y]:"fire-analytics-compat",[Hy]:"fire-app-check",[zy]:"fire-app-check-compat",[Ky]:"fire-auth",[Gy]:"fire-auth-compat",[Wy]:"fire-rtdb",[Qy]:"fire-rtdb-compat",[Xy]:"fire-fn",[Yy]:"fire-fn-compat",[Jy]:"fire-iid",[Zy]:"fire-iid-compat",[tv]:"fire-fcm",[ev]:"fire-fcm-compat",[nv]:"fire-perf",[rv]:"fire-perf-compat",[iv]:"fire-rc",[sv]:"fire-rc-compat",[ov]:"fire-gcs",[av]:"fire-gcs-compat",[cv]:"fire-fst",[lv]:"fire-fst-compat","fire-js":"fire-js",[uv]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cs=new Map,Na=new Map;function dv(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(Na.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Na.set(e,t);for(const n of Cs.values())dv(n,t);return!0}function Di(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pv={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hn=new to("app","Firebase",pv);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Je("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mv=hv;function xf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Da,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hn.create("bad-app-name",{appName:String(i)});if(n||(n=Tf()),!n)throw hn.create("no-options");const s=Cs.get(i);if(s){if(_s(n,s.options)&&_s(r,s.config))return s;throw hn.create("duplicate-app",{appName:i})}const o=new Ty(i);for(const c of Na.values())o.addComponent(c);const a=new gv(n,r,o);return Cs.set(i,a),a}function Of(t=Da){const e=Cs.get(t);if(!e&&t===Da&&Tf())return xf();if(!e)throw hn.create("no-app",{appName:t});return e}function Le(t,e,n){var r;let i=(r=fv[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}mn(new Je(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yv="firebase-heartbeat-database",vv=1,oi="firebase-heartbeat-store";let Go=null;function kf(){return Go||(Go=Ly(yv,vv,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oi)}}}).catch(t=>{throw hn.create("idb-open",{originalErrorMessage:t.message})})),Go}async function bv(t){try{return await(await kf()).transaction(oi).objectStore(oi).get(Df(t))}catch(e){if(e instanceof En)$n.warn(e.message);else{const n=hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function fu(t,e){try{const n=(await kf()).transaction(oi,"readwrite");await n.objectStore(oi).put(e,Df(t)),await n.done}catch(n){if(n instanceof En)$n.warn(n.message);else{const r=hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(r.message)}}}function Df(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wv=1024,Ev=30*24*60*60*1e3;class Iv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=du();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=Ev}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=du(),{heartbeatsToSend:n,unsentEntries:r}=Tv(this._heartbeatsCache.heartbeats),i=Ss(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function du(){return new Date().toISOString().substring(0,10)}function Tv(t,e=wv){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sf()?_f().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await bv(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return fu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return fu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pu(t){return Ss(JSON.stringify({version:2,heartbeats:t})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _v(t){mn(new Je("platform-logger",e=>new Vy(e),"PRIVATE")),mn(new Je("heartbeat",e=>new Iv(e),"PRIVATE")),Le(ka,hu,t),Le(ka,hu,"esm2017"),Le("fire-js","")}_v("");var Cv="firebase",Av="9.22.2";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Le(Cv,Av,"app");const xv=(t,e)=>e.some(n=>t instanceof n);let gu,mu;function Ov(){return gu||(gu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kv(){return mu||(mu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nf=new WeakMap,Ma=new WeakMap,Mf=new WeakMap,Wo=new WeakMap,kc=new WeakMap;function Dv(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nf.set(n,t)}).catch(()=>{}),kc.set(e,t),e}function Nv(t){if(Ma.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ma.set(t,e)}let Ra={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ma.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mf.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mv(t){Ra=t(Ra)}function Rv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qo(this),e,...n);return Mf.set(r,e.sort?e.sort():[e]),fn(r)}:kv().includes(t)?function(...e){return t.apply(Qo(this),e),fn(Nf.get(this))}:function(...e){return fn(t.apply(Qo(this),e))}}function Pv(t){return typeof t=="function"?Rv(t):(t instanceof IDBTransaction&&Nv(t),xv(t,Ov())?new Proxy(t,Ra):t)}function fn(t){if(t instanceof IDBRequest)return Dv(t);if(Wo.has(t))return Wo.get(t);const e=Pv(t);return e!==t&&(Wo.set(t,e),kc.set(e,t)),e}const Qo=t=>kc.get(t);function Lv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(fn(o.result),c.oldVersion,c.newVersion,fn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Fv=["get","getKey","getAll","getAllKeys","count"],jv=["put","add","delete","clear"],Xo=new Map;function yu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xo.get(e))return Xo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fv.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return Xo.set(e,s),s}Mv(t=>({...t,get:(e,n,r)=>yu(e,n)||t.get(e,n,r),has:(e,n)=>!!yu(e,n)||t.has(e,n)}));const Rf="@firebase/installations",Dc="0.6.4";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pf=1e4,Lf=`w:${Dc}`,Ff="FIS_v2",Vv="https://firebaseinstallations.googleapis.com/v1",Uv=60*60*1e3,Bv="installations",$v="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qv={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},qn=new to(Bv,$v,qv);function jf(t){return t instanceof En&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vf({projectId:t}){return`${Vv}/projects/${t}/installations`}function Uf(t){return{token:t.token,requestStatus:2,expiresIn:Hv(t.expiresIn),creationTime:Date.now()}}async function Bf(t,e){const n=(await e.json()).error;return qn.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function $f({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zv(t,{refreshToken:e}){const n=$f(t);return n.append("Authorization",Kv(e)),n}async function qf(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Hv(t){return Number(t.replace("s","000"))}function Kv(t){return`${Ff} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Gv({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Vf(t),i=$f(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:Ff,appId:t.appId,sdkVersion:Lf},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await qf(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Uf(l.authToken)}}else throw await Bf("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zf(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wv(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qv=/^[cdef][\w-]{21}$/,Pa="";function Xv(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=Yv(t);return Qv.test(e)?e:Pa}catch{return Pa}}function Yv(t){return Wv(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eo(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hf=new Map;function Kf(t,e){const n=eo(t);Gf(n,e),Jv(n,e)}function Gf(t,e){const n=Hf.get(t);if(n)for(const r of n)r(e)}function Jv(t,e){const n=Zv();n&&n.postMessage({key:t,fid:e}),t0()}let Dn=null;function Zv(){return!Dn&&"BroadcastChannel"in self&&(Dn=new BroadcastChannel("[Firebase] FID Change"),Dn.onmessage=t=>{Gf(t.data.key,t.data.fid)}),Dn}function t0(){Hf.size===0&&Dn&&(Dn.close(),Dn=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const e0="firebase-installations-database",n0=1,zn="firebase-installations-store";let Yo=null;function Nc(){return Yo||(Yo=Lv(e0,n0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zn)}}})),Yo}async function As(t,e){const n=eo(t),r=(await Nc()).transaction(zn,"readwrite"),i=r.objectStore(zn),s=await i.get(n);return await i.put(e,n),await r.done,(!s||s.fid!==e.fid)&&Kf(t,e.fid),e}async function Wf(t){const e=eo(t),n=(await Nc()).transaction(zn,"readwrite");await n.objectStore(zn).delete(e),await n.done}async function no(t,e){const n=eo(t),r=(await Nc()).transaction(zn,"readwrite"),i=r.objectStore(zn),s=await i.get(n),o=e(s);return o===void 0?await i.delete(n):await i.put(o,n),await r.done,o&&(!s||s.fid!==o.fid)&&Kf(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Mc(t){let e;const n=await no(t.appConfig,r=>{const i=r0(r),s=i0(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Pa?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function r0(t){const e=t||{fid:Xv(),registrationStatus:0};return Qf(e)}function i0(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(qn.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=s0(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:o0(t)}:{installationEntry:e}}async function s0(t,e){try{const n=await Gv(t,e);return As(t.appConfig,n)}catch(n){throw jf(n)&&n.customData.serverCode===409?await Wf(t.appConfig):await As(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function o0(t){let e=await vu(t.appConfig);for(;e.registrationStatus===1;)await zf(100),e=await vu(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Mc(t);return r||n}return e}function vu(t){return no(t,e=>{if(!e)throw qn.create("installation-not-found");return Qf(e)})}function Qf(t){return a0(t)?{fid:t.fid,registrationStatus:0}:t}function a0(t){return t.registrationStatus===1&&t.registrationTime+Pf<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function c0({appConfig:t,heartbeatServiceProvider:e},n){const r=l0(t,n),i=zv(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:Lf,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await qf(()=>fetch(r,a));if(c.ok){const l=await c.json();return Uf(l)}else throw await Bf("Generate Auth Token",c)}function l0(t,{fid:e}){return`${Vf(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Rc(t,e=!1){let n;const r=await no(t.appConfig,i=>{if(!Xf(i))throw qn.create("not-registered");const s=i.authToken;if(!e&&f0(s))return i;if(s.requestStatus===1)return n=u0(t,e),i;{if(!navigator.onLine)throw qn.create("app-offline");const o=p0(i);return n=h0(t,o),o}});return n?await n:r.authToken}async function u0(t,e){let n=await bu(t.appConfig);for(;n.authToken.requestStatus===1;)await zf(100),n=await bu(t.appConfig);const r=n.authToken;return r.requestStatus===0?Rc(t,e):r}function bu(t){return no(t,e=>{if(!Xf(e))throw qn.create("not-registered");const n=e.authToken;return g0(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function h0(t,e){try{const n=await c0(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await As(t.appConfig,r),n}catch(n){if(jf(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Wf(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await As(t.appConfig,r)}throw n}}function Xf(t){return t!==void 0&&t.registrationStatus===2}function f0(t){return t.requestStatus===2&&!d0(t)}function d0(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Uv}function p0(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function g0(t){return t.requestStatus===1&&t.requestTime+Pf<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function m0(t){const e=t,{installationEntry:n,registrationPromise:r}=await Mc(e);return r?r.catch(console.error):Rc(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function y0(t,e=!1){const n=t;return await v0(n),(await Rc(n,e)).token}async function v0(t){const{registrationPromise:e}=await Mc(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function b0(t){if(!t||!t.options)throw Jo("App Configuration");if(!t.name)throw Jo("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jo(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jo(t){return qn.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yf="installations",w0="installations-internal",E0=t=>{const e=t.getProvider("app").getImmediate(),n=b0(e),r=Di(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},I0=t=>{const e=t.getProvider("app").getImmediate(),n=Di(e,Yf).getImmediate();return{getId:()=>m0(n),getToken:r=>y0(n,r)}};function T0(){mn(new Je(Yf,E0,"PUBLIC")),mn(new Je(w0,I0,"PRIVATE"))}T0();Le(Rf,Dc);Le(Rf,Dc,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xs="analytics",S0="firebase_id",_0="origin",C0=60*1e3,A0="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ie=new xc("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x0={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},he=new to("analytics","Analytics",x0);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O0(t){if(!t.startsWith(Pc)){const e=he.create("invalid-gtag-resource",{gtagURL:t});return ie.warn(e.message),""}return t}function Jf(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function k0(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function D0(t,e){const n=k0("firebase-js-sdk-policy",{createScriptURL:O0}),r=document.createElement("script"),i=`${Pc}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function N0(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function M0(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const a=(await Jf(n)).find(c=>c.measurementId===i);a&&await e[a.appId]}}catch(a){ie.error(a)}t("config",i,s)}async function R0(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Jf(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&e[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){ie.error(s)}}function P0(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,c]=o;await R0(t,e,n,a,c)}else if(s==="config"){const[a,c]=o;await M0(t,e,n,r,a,c)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){ie.error(a)}}return i}function L0(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=P0(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function F0(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Pc)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j0=30,V0=1e3;class U0{constructor(e={},n=V0){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Zf=new U0;function B0(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $0(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:B0(r)},s=A0.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw he.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function q0(t,e=Zf,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw he.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw he.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new K0;return setTimeout(async()=>{a.abort()},n!==void 0?n:C0),td({appId:r,apiKey:i,measurementId:s},o,a,e)}async function td(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Zf){var s;const{appId:o,measurementId:a}=t;try{await z0(r,e)}catch(c){if(a)return ie.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await $0(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!H0(l)){if(i.deleteThrottleMetadata(o),a)return ie.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?au(n,i.intervalMillis,j0):au(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,h),ie.debug(`Calling attemptFetch again in ${u} millis`),td(t,h,r,i)}}function z0(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(he.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function H0(t){if(!(t instanceof En)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class K0{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function G0(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function W0(){if(Sf())try{await _f()}catch(t){return ie.warn(he.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ie.warn(he.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q0(t,e,n,r,i,s,o){var a;const c=q0(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&ie.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>ie.error(g)),e.push(c);const l=W0().then(g=>{if(g)return r.getId()}),[u,h]=await Promise.all([c,l]);F0(s)||D0(s,u.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[_0]="firebase",d.update=!0,h!=null&&(d[S0]=h),i("config",u.measurementId,d),u.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X0{constructor(e){this.app=e}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},wu=[];const Eu={};let Zo="dataLayer",Y0="gtag",Iu,ed,Tu=!1;function J0(){const t=[];if(hy()&&t.push("This is a browser extension environment."),fy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=he.create("invalid-analytics-context",{errorInfo:e});ie.warn(n.message)}}function Z0(t,e,n){J0();const r=t.options.appId;if(!r)throw he.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ie.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw he.create("no-api-key");if(Hr[r]!=null)throw he.create("already-exists",{id:r});if(!Tu){N0(Zo);const{wrappedGtag:i,gtagCore:s}=L0(Hr,wu,Eu,Zo,Y0);ed=i,Iu=s,Tu=!0}return Hr[r]=Q0(t,wu,Eu,e,Iu,Zo,n),new X0(t)}function tb(t=Of()){t=Bn(t);const e=Di(t,xs);return e.isInitialized()?e.getImmediate():eb(t)}function eb(t,e={}){const n=Di(t,xs);if(n.isInitialized()){const r=n.getImmediate();if(_s(e,n.getOptions()))return r;throw he.create("already-initialized")}return n.initialize({options:e})}function nb(t,e,n,r){t=Bn(t),G0(ed,Hr[t.app.options.appId],e,n,r).catch(i=>ie.error(i))}const Su="@firebase/analytics",_u="0.10.0";function rb(){mn(new Je(xs,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Z0(r,i,n)},"PUBLIC")),mn(new Je("analytics-internal",t,"PRIVATE")),Le(Su,_u),Le(Su,_u,"esm2017");function t(e){try{const n=e.getProvider(xs).getImmediate();return{logEvent:(r,i,s)=>nb(n,r,i,s)}}catch(n){throw he.create("interop-component-reg-failed",{reason:n})}}}rb();function ro(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const ht={},or=[],Fe=()=>{},ib=()=>!1,sb=/^on[^a-z]/,io=t=>sb.test(t),Lc=t=>t.startsWith("onUpdate:"),Ot=Object.assign,Fc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ob=Object.prototype.hasOwnProperty,tt=(t,e)=>ob.call(t,e),K=Array.isArray,Kr=t=>so(t)==="[object Map]",ab=t=>so(t)==="[object Set]",W=t=>typeof t=="function",jt=t=>typeof t=="string",jc=t=>typeof t=="symbol",Et=t=>t!==null&&typeof t=="object",nd=t=>Et(t)&&W(t.then)&&W(t.catch),cb=Object.prototype.toString,so=t=>cb.call(t),lb=t=>so(t).slice(8,-1),ub=t=>so(t)==="[object Object]",Vc=t=>jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ds=ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},hb=/-(\w)/g,je=oo(t=>t.replace(hb,(e,n)=>n?n.toUpperCase():"")),fb=/\B([A-Z])/g,_r=oo(t=>t.replace(fb,"-$1").toLowerCase()),ao=oo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ta=oo(t=>t?`on${ao(t)}`:""),ai=(t,e)=>!Object.is(t,e),ps=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Os=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},La=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Cu;const Fa=()=>Cu||(Cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uc(t){if(K(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=jt(r)?mb(r):Uc(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(jt(t)||Et(t))return t}const db=/;(?![^(]*\))/g,pb=/:([^]+)/,gb=/\/\*[^]*?\*\//g;function mb(t){const e={};return t.replace(gb,"").split(db).forEach(n=>{if(n){const r=n.split(pb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Bc(t){let e="";if(jt(t))e=t;else if(K(t))for(let n=0;n<t.length;n++){const r=Bc(t[n]);r&&(e+=r+" ")}else if(Et(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const yb="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",vb=ro(yb),bb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wb=ro(bb);function rd(t){return!!t||t===""}let le;class Eb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=le,!e&&le&&(this.index=(le.scopes||(le.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=le;try{return le=this,e()}finally{le=n}}}on(){le=this}off(){le=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Ib(t,e=le){e&&e.active&&e.effects.push(t)}function id(){return le}function Tb(t){le&&le.cleanups.push(t)}const $c=t=>{const e=new Set(t);return e.w=0,e.n=0,e},sd=t=>(t.w&yn)>0,od=t=>(t.n&yn)>0,Sb=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=yn},_b=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];sd(i)&&!od(i)?i.delete(t):e[n++]=i,i.w&=~yn,i.n&=~yn}e.length=n}},ja=new WeakMap;let Ur=0,yn=1;const Va=30;let Ie;const Fn=Symbol(""),Ua=Symbol("");class qc{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ib(this,r)}run(){if(!this.active)return this.fn();let e=Ie,n=dn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ie,Ie=this,dn=!0,yn=1<<++Ur,Ur<=Va?Sb(this):Au(this),this.fn()}finally{Ur<=Va&&_b(this),yn=1<<--Ur,Ie=this.parent,dn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ie===this?this.deferStop=!0:this.active&&(Au(this),this.onStop&&this.onStop(),this.active=!1)}}function Au(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let dn=!0;const ad=[];function Cr(){ad.push(dn),dn=!1}function Ar(){const t=ad.pop();dn=t===void 0?!0:t}function se(t,e,n){if(dn&&Ie){let r=ja.get(t);r||ja.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=$c()),cd(i)}}function cd(t,e){let n=!1;Ur<=Va?od(t)||(t.n|=yn,n=!sd(t)):n=!t.has(Ie),n&&(t.add(Ie),Ie.deps.push(t))}function Ze(t,e,n,r,i,s){const o=ja.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&K(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":K(t)?Vc(n)&&a.push(o.get("length")):(a.push(o.get(Fn)),Kr(t)&&a.push(o.get(Ua)));break;case"delete":K(t)||(a.push(o.get(Fn)),Kr(t)&&a.push(o.get(Ua)));break;case"set":Kr(t)&&a.push(o.get(Fn));break}if(a.length===1)a[0]&&Ba(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Ba($c(c))}}function Ba(t,e){const n=K(t)?t:[...t];for(const r of n)r.computed&&xu(r);for(const r of n)r.computed||xu(r)}function xu(t,e){(t!==Ie||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Cb=ro("__proto__,__v_isRef,__isVue"),ld=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(jc)),Ab=zc(),xb=zc(!1,!0),Ob=zc(!0),Ou=kb();function kb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=et(this);for(let s=0,o=this.length;s<o;s++)se(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(et)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Cr();const r=et(this)[e].apply(this,n);return Ar(),r}}),t}function Db(t){const e=et(this);return se(e,"has",t),e.hasOwnProperty(t)}function zc(t=!1,e=!1){return function(n,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Gb:pd:e?dd:fd).get(n))return n;const s=K(n);if(!t){if(s&&tt(Ou,r))return Reflect.get(Ou,r,i);if(r==="hasOwnProperty")return Db}const o=Reflect.get(n,r,i);return(jc(r)?ld.has(r):Cb(r))||(t||se(n,"get",r),e)?o:Kt(o)?s&&Vc(r)?o:o.value:Et(o)?t?gd(o):nn(o):o}}const Nb=ud(),Mb=ud(!0);function ud(t=!1){return function(e,n,r,i){let s=e[n];if(dr(s)&&Kt(s)&&!Kt(r))return!1;if(!t&&(!ks(r)&&!dr(r)&&(s=et(s),r=et(r)),!K(e)&&Kt(s)&&!Kt(r)))return s.value=r,!0;const o=K(e)&&Vc(n)?Number(n)<e.length:tt(e,n),a=Reflect.set(e,n,r,i);return e===et(i)&&(o?ai(r,s)&&Ze(e,"set",n,r):Ze(e,"add",n,r)),a}}function Rb(t,e){const n=tt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Ze(t,"delete",e,void 0),r}function Pb(t,e){const n=Reflect.has(t,e);return(!jc(e)||!ld.has(e))&&se(t,"has",e),n}function Lb(t){return se(t,"iterate",K(t)?"length":Fn),Reflect.ownKeys(t)}const hd={get:Ab,set:Nb,deleteProperty:Rb,has:Pb,ownKeys:Lb},Fb={get:Ob,set(t,e){return!0},deleteProperty(t,e){return!0}},jb=Ot({},hd,{get:xb,set:Mb}),Hc=t=>t,co=t=>Reflect.getPrototypeOf(t);function Xi(t,e,n=!1,r=!1){t=t.__v_raw;const i=et(t),s=et(e);n||(e!==s&&se(i,"get",e),se(i,"get",s));const{has:o}=co(i),a=r?Hc:n?Wc:ci;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Yi(t,e=!1){const n=this.__v_raw,r=et(n),i=et(t);return e||(t!==i&&se(r,"has",t),se(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ji(t,e=!1){return t=t.__v_raw,!e&&se(et(t),"iterate",Fn),Reflect.get(t,"size",t)}function ku(t){t=et(t);const e=et(this);return co(e).has.call(e,t)||(e.add(t),Ze(e,"add",t,t)),this}function Du(t,e){e=et(e);const n=et(this),{has:r,get:i}=co(n);let s=r.call(n,t);s||(t=et(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ai(e,o)&&Ze(n,"set",t,e):Ze(n,"add",t,e),this}function Nu(t){const e=et(this),{has:n,get:r}=co(e);let i=n.call(e,t);i||(t=et(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ze(e,"delete",t,void 0),s}function Mu(){const t=et(this),e=t.size!==0,n=t.clear();return e&&Ze(t,"clear",void 0,void 0),n}function Zi(t,e){return function(n,r){const i=this,s=i.__v_raw,o=et(s),a=e?Hc:t?Wc:ci;return!t&&se(o,"iterate",Fn),s.forEach((c,l)=>n.call(r,a(c),a(l),i))}}function ts(t,e,n){return function(...r){const i=this.__v_raw,s=et(i),o=Kr(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...r),u=n?Hc:e?Wc:ci;return!e&&se(s,"iterate",c?Ua:Fn),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function sn(t){return function(...e){return t==="delete"?!1:this}}function Vb(){const t={get(i){return Xi(this,i)},get size(){return Ji(this)},has:Yi,add:ku,set:Du,delete:Nu,clear:Mu,forEach:Zi(!1,!1)},e={get(i){return Xi(this,i,!1,!0)},get size(){return Ji(this)},has:Yi,add:ku,set:Du,delete:Nu,clear:Mu,forEach:Zi(!1,!0)},n={get(i){return Xi(this,i,!0)},get size(){return Ji(this,!0)},has(i){return Yi.call(this,i,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:Zi(!0,!1)},r={get(i){return Xi(this,i,!0,!0)},get size(){return Ji(this,!0)},has(i){return Yi.call(this,i,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:Zi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ts(i,!1,!1),n[i]=ts(i,!0,!1),e[i]=ts(i,!1,!0),r[i]=ts(i,!0,!0)}),[t,n,e,r]}const[Ub,Bb,$b,qb]=Vb();function Kc(t,e){const n=e?t?qb:$b:t?Bb:Ub;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(tt(n,i)&&i in r?n:r,i,s)}const zb={get:Kc(!1,!1)},Hb={get:Kc(!1,!0)},Kb={get:Kc(!0,!1)},fd=new WeakMap,dd=new WeakMap,pd=new WeakMap,Gb=new WeakMap;function Wb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qb(t){return t.__v_skip||!Object.isExtensible(t)?0:Wb(lb(t))}function nn(t){return dr(t)?t:Gc(t,!1,hd,zb,fd)}function Xb(t){return Gc(t,!1,jb,Hb,dd)}function gd(t){return Gc(t,!0,Fb,Kb,pd)}function Gc(t,e,n,r,i){if(!Et(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Qb(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function ar(t){return dr(t)?ar(t.__v_raw):!!(t&&t.__v_isReactive)}function dr(t){return!!(t&&t.__v_isReadonly)}function ks(t){return!!(t&&t.__v_isShallow)}function md(t){return ar(t)||dr(t)}function et(t){const e=t&&t.__v_raw;return e?et(e):t}function yd(t){return Os(t,"__v_skip",!0),t}const ci=t=>Et(t)?nn(t):t,Wc=t=>Et(t)?gd(t):t;function vd(t){dn&&Ie&&(t=et(t),cd(t.dep||(t.dep=$c())))}function bd(t,e){t=et(t);const n=t.dep;n&&Ba(n)}function Kt(t){return!!(t&&t.__v_isRef===!0)}function ve(t){return wd(t,!1)}function Yb(t){return wd(t,!0)}function wd(t,e){return Kt(t)?t:new Jb(t,e)}class Jb{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:et(e),this._value=n?e:ci(e)}get value(){return vd(this),this._value}set value(e){const n=this.__v_isShallow||ks(e)||dr(e);e=n?e:et(e),ai(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ci(e),bd(this))}}function fe(t){return Kt(t)?t.value:t}const Zb={get:(t,e,n)=>fe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Kt(i)&&!Kt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Ed(t){return ar(t)?t:new Proxy(t,Zb)}class t1{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new qc(e,()=>{this._dirty||(this._dirty=!0,bd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=et(this);return vd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function e1(t,e,n=!1){let r,i;const s=W(t);return s?(r=t,i=Fe):(r=t.get,i=t.set),new t1(r,i,s||!i,n)}function pn(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){lo(s,e,n)}return i}function Ce(t,e,n,r){if(W(t)){const s=pn(t,e,n,r);return s&&nd(s)&&s.catch(o=>{lo(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Ce(t[s],e,n,r));return i}function lo(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const l=s.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){pn(c,null,10,[t,o,a]);return}}n1(t,n,i,r)}function n1(t,e,n,r=!0){console.error(t)}let li=!1,$a=!1;const zt=[];let Ne=0;const cr=[];let Ke=null,On=0;const Id=Promise.resolve();let Qc=null;function Td(t){const e=Qc||Id;return t?e.then(this?t.bind(this):t):e}function r1(t){let e=Ne+1,n=zt.length;for(;e<n;){const r=e+n>>>1;ui(zt[r])<t?e=r+1:n=r}return e}function Xc(t){(!zt.length||!zt.includes(t,li&&t.allowRecurse?Ne+1:Ne))&&(t.id==null?zt.push(t):zt.splice(r1(t.id),0,t),Sd())}function Sd(){!li&&!$a&&($a=!0,Qc=Id.then(Cd))}function i1(t){const e=zt.indexOf(t);e>Ne&&zt.splice(e,1)}function s1(t){K(t)?cr.push(...t):(!Ke||!Ke.includes(t,t.allowRecurse?On+1:On))&&cr.push(t),Sd()}function Ru(t,e=li?Ne+1:0){for(;e<zt.length;e++){const n=zt[e];n&&n.pre&&(zt.splice(e,1),e--,n())}}function _d(t){if(cr.length){const e=[...new Set(cr)];if(cr.length=0,Ke){Ke.push(...e);return}for(Ke=e,Ke.sort((n,r)=>ui(n)-ui(r)),On=0;On<Ke.length;On++)Ke[On]();Ke=null,On=0}}const ui=t=>t.id==null?1/0:t.id,o1=(t,e)=>{const n=ui(t)-ui(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Cd(t){$a=!1,li=!0,zt.sort(o1);try{for(Ne=0;Ne<zt.length;Ne++){const e=zt[Ne];e&&e.active!==!1&&pn(e,null,14)}}finally{Ne=0,zt.length=0,_d(),li=!1,Qc=null,(zt.length||cr.length)&&Cd()}}function a1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ht;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||ht;d&&(i=n.map(g=>jt(g)?g.trim():g)),h&&(i=n.map(La))}let a,c=r[a=ta(e)]||r[a=ta(je(e))];!c&&s&&(c=r[a=ta(_r(e))]),c&&Ce(c,t,6,i);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ce(l,t,6,i)}}function Ad(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!W(t)){const c=l=>{const u=Ad(l,e,!0);u&&(a=!0,Ot(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(Et(t)&&r.set(t,null),null):(K(s)?s.forEach(c=>o[c]=null):Ot(o,s),Et(t)&&r.set(t,o),o)}function uo(t,e){return!t||!io(e)?!1:(e=e.slice(2).replace(/Once$/,""),tt(t,e[0].toLowerCase()+e.slice(1))||tt(t,_r(e))||tt(t,e))}let ue=null,ho=null;function Ds(t){const e=ue;return ue=t,ho=t&&t.type.__scopeId||null,e}function c1(t){ho=t}function l1(){ho=null}function u1(t,e=ue,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Hu(-1);const s=Ds(e);let o;try{o=t(...i)}finally{Ds(s),r._d&&Hu(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ea(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:g,ctx:b,inheritAttrs:T}=t;let A,x;const O=Ds(t);try{if(n.shapeFlag&4){const _=i||r;A=De(u.call(_,_,h,s,g,d,b)),x=c}else{const _=e;A=De(_.length>1?_(s,{attrs:c,slots:a,emit:l}):_(s,null)),x=e.props?c:h1(c)}}catch(_){Wr.length=0,lo(_,t,1),A=re(Hn)}let R=A;if(x&&T!==!1){const _=Object.keys(x),{shapeFlag:z}=R;_.length&&z&7&&(o&&_.some(Lc)&&(x=f1(x,o)),R=pr(R,x))}return n.dirs&&(R=pr(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),A=R,Ds(O),A}const h1=t=>{let e;for(const n in t)(n==="class"||n==="style"||io(n))&&((e||(e={}))[n]=t[n]);return e},f1=(t,e)=>{const n={};for(const r in t)(!Lc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function d1(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Pu(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!uo(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Pu(r,o,l):!0:!!o;return!1}function Pu(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!uo(n,s))return!0}return!1}function p1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const g1=t=>t.__isSuspense;function m1(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):s1(t)}const es={};function Gt(t,e,n){return xd(t,e,n)}function xd(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=ht){var a;const c=id()===((a=Ct)==null?void 0:a.scope)?Ct:null;let l,u=!1,h=!1;if(Kt(t)?(l=()=>t.value,u=ks(t)):ar(t)?(l=()=>t,r=!0):K(t)?(h=!0,u=t.some(_=>ar(_)||ks(_)),l=()=>t.map(_=>{if(Kt(_))return _.value;if(ar(_))return Nn(_);if(W(_))return pn(_,c,2)})):W(t)?e?l=()=>pn(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return d&&d(),Ce(t,c,3,[g])}:l=Fe,e&&r){const _=l;l=()=>Nn(_())}let d,g=_=>{d=O.onStop=()=>{pn(_,c,4)}},b;if(fi)if(g=Fe,e?n&&Ce(e,c,3,[l(),h?[]:void 0,g]):l(),i==="sync"){const _=cw();b=_.__watcherHandles||(_.__watcherHandles=[])}else return Fe;let T=h?new Array(t.length).fill(es):es;const A=()=>{if(O.active)if(e){const _=O.run();(r||u||(h?_.some((z,Y)=>ai(z,T[Y])):ai(_,T)))&&(d&&d(),Ce(e,c,3,[_,T===es?void 0:h&&T[0]===es?[]:T,g]),T=_)}else O.run()};A.allowRecurse=!!e;let x;i==="sync"?x=A:i==="post"?x=()=>ee(A,c&&c.suspense):(A.pre=!0,c&&(A.id=c.uid),x=()=>Xc(A));const O=new qc(l,x);e?n?A():T=O.run():i==="post"?ee(O.run.bind(O),c&&c.suspense):O.run();const R=()=>{O.stop(),c&&c.scope&&Fc(c.scope.effects,O)};return b&&b.push(R),R}function y1(t,e,n){const r=this.proxy,i=jt(t)?t.includes(".")?Od(r,t):()=>r[t]:t.bind(r,r);let s;W(e)?s=e:(s=e.handler,n=e);const o=Ct;gr(this);const a=xd(i,s.bind(r),n);return o?gr(o):jn(),a}function Od(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Nn(t,e){if(!Et(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Kt(t))Nn(t.value,e);else if(K(t))for(let n=0;n<t.length;n++)Nn(t[n],e);else if(ab(t)||Kr(t))t.forEach(n=>{Nn(n,e)});else if(ub(t))for(const n in t)Nn(t[n],e);return t}function te(t,e){const n=ue;if(n===null)return t;const r=mo(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,c,l=ht]=e[s];o&&(W(o)&&(o={mounted:o,updated:o}),o.deep&&Nn(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function Sn(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[r];c&&(Cr(),Ce(c,n,8,[t.el,a,t,e]),Ar())}}function Yc(t,e){return W(t)?(()=>Ot({name:t.name},e,{setup:t}))():t}const gs=t=>!!t.type.__asyncLoader,kd=t=>t.type.__isKeepAlive;function v1(t,e){Dd(t,"a",e)}function b1(t,e){Dd(t,"da",e)}function Dd(t,e,n=Ct){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(fo(e,r,n),n){let i=n.parent;for(;i&&i.parent;)kd(i.parent.vnode)&&w1(r,e,n,i),i=i.parent}}function w1(t,e,n,r){const i=fo(e,t,r,!0);Jc(()=>{Fc(r[e],i)},n)}function fo(t,e,n=Ct,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Cr(),gr(n);const a=Ce(e,n,t,o);return jn(),Ar(),a});return r?i.unshift(s):i.push(s),s}}const rn=t=>(e,n=Ct)=>(!fi||t==="sp")&&fo(t,(...r)=>e(...r),n),E1=rn("bm"),Nd=rn("m"),I1=rn("bu"),Md=rn("u"),T1=rn("bum"),Jc=rn("um"),S1=rn("sp"),_1=rn("rtg"),C1=rn("rtc");function A1(t,e=Ct){fo("ec",t,e)}const Rd="components",x1="directives";function Pd(t,e){return Ld(Rd,t,!0,e)||t}const O1=Symbol.for("v-ndc");function Pr(t){return Ld(x1,t)}function Ld(t,e,n=!0,r=!1){const i=ue||Ct;if(i){const s=i.type;if(t===Rd){const a=sw(s,!1);if(a&&(a===e||a===je(e)||a===ao(je(e))))return s}const o=Lu(i[t]||s[t],e)||Lu(i.appContext[t],e);return!o&&r?s:o}}function Lu(t,e){return t&&(t[e]||t[je(e)]||t[ao(je(e))])}const qa=t=>t?Wd(t)?mo(t)||t.proxy:qa(t.parent):null,Gr=Ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qa(t.parent),$root:t=>qa(t.root),$emit:t=>t.emit,$options:t=>Zc(t),$forceUpdate:t=>t.f||(t.f=()=>Xc(t.update)),$nextTick:t=>t.n||(t.n=Td.bind(t.proxy)),$watch:t=>y1.bind(t)}),na=(t,e)=>t!==ht&&!t.__isScriptSetup&&tt(t,e),k1={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(na(r,e))return o[e]=1,r[e];if(i!==ht&&tt(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&tt(l,e))return o[e]=3,s[e];if(n!==ht&&tt(n,e))return o[e]=4,n[e];za&&(o[e]=0)}}const u=Gr[e];let h,d;if(u)return e==="$attrs"&&se(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ht&&tt(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,tt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return na(i,e)?(i[e]=n,!0):r!==ht&&tt(r,e)?(r[e]=n,!0):tt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==ht&&tt(t,o)||na(e,o)||(a=s[0])&&tt(a,o)||tt(r,o)||tt(Gr,o)||tt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:tt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function D1(){return N1().slots}function N1(){const t=nl();return t.setupContext||(t.setupContext=Xd(t))}function Fu(t){return K(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let za=!0;function M1(t){const e=Zc(t),n=t.proxy,r=t.ctx;za=!1,e.beforeCreate&&ju(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:b,activated:T,deactivated:A,beforeDestroy:x,beforeUnmount:O,destroyed:R,unmounted:_,render:z,renderTracked:Y,renderTriggered:pt,errorCaptured:Vt,serverPrefetch:St,expose:pe,inheritAttrs:xe,components:Be,directives:ge,filters:$e}=e;if(l&&R1(l,r,null),o)for(const ut in o){const nt=o[ut];W(nt)&&(r[ut]=nt.bind(n))}if(i){const ut=i.call(n,n);Et(ut)&&(t.data=nn(ut))}if(za=!0,s)for(const ut in s){const nt=s[ut],ae=W(nt)?nt.bind(n,n):W(nt.get)?nt.get.bind(n,n):Fe,Mr=!W(nt)&&W(nt.set)?nt.set.bind(n):Fe,qe=wt({get:ae,set:Mr});Object.defineProperty(r,ut,{enumerable:!0,configurable:!0,get:()=>qe.value,set:ze=>qe.value=ze})}if(a)for(const ut in a)Fd(a[ut],r,n,ut);if(c){const ut=W(c)?c.call(n):c;Reflect.ownKeys(ut).forEach(nt=>{ms(nt,ut[nt])})}u&&ju(u,t,"c");function bt(ut,nt){K(nt)?nt.forEach(ae=>ut(ae.bind(n))):nt&&ut(nt.bind(n))}if(bt(E1,h),bt(Nd,d),bt(I1,g),bt(Md,b),bt(v1,T),bt(b1,A),bt(A1,Vt),bt(C1,Y),bt(_1,pt),bt(T1,O),bt(Jc,_),bt(S1,St),K(pe))if(pe.length){const ut=t.exposed||(t.exposed={});pe.forEach(nt=>{Object.defineProperty(ut,nt,{get:()=>n[nt],set:ae=>n[nt]=ae})})}else t.exposed||(t.exposed={});z&&t.render===Fe&&(t.render=z),xe!=null&&(t.inheritAttrs=xe),Be&&(t.components=Be),ge&&(t.directives=ge)}function R1(t,e,n=Fe){K(t)&&(t=Ha(t));for(const r in t){const i=t[r];let s;Et(i)?"default"in i?s=Qe(i.from||r,i.default,!0):s=Qe(i.from||r):s=Qe(i),Kt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function ju(t,e,n){Ce(K(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Fd(t,e,n,r){const i=r.includes(".")?Od(n,r):()=>n[r];if(jt(t)){const s=e[t];W(s)&&Gt(i,s)}else if(W(t))Gt(i,t.bind(n));else if(Et(t))if(K(t))t.forEach(s=>Fd(s,e,n,r));else{const s=W(t.handler)?t.handler.bind(n):e[t.handler];W(s)&&Gt(i,s,t)}}function Zc(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(l=>Ns(c,l,o,!0)),Ns(c,e,o)),Et(e)&&s.set(e,c),c}function Ns(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ns(t,s,n,!0),i&&i.forEach(o=>Ns(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=P1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const P1={data:Vu,props:Uu,emits:Uu,methods:Br,computed:Br,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:Br,directives:Br,watch:F1,provide:Vu,inject:L1};function Vu(t,e){return e?t?function(){return Ot(W(t)?t.call(this,this):t,W(e)?e.call(this,this):e)}:e:t}function L1(t,e){return Br(Ha(t),Ha(e))}function Ha(t){if(K(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xt(t,e){return t?[...new Set([].concat(t,e))]:e}function Br(t,e){return t?Ot(Object.create(null),t,e):e}function Uu(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:Ot(Object.create(null),Fu(t),Fu(e??{})):e}function F1(t,e){if(!t)return e;if(!e)return t;const n=Ot(Object.create(null),t);for(const r in e)n[r]=Xt(t[r],e[r]);return n}function jd(){return{app:null,config:{isNativeTag:ib,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j1=0;function V1(t,e){return function(n,r=null){W(n)||(n=Ot({},n)),r!=null&&!Et(r)&&(r=null);const i=jd(),s=new Set;let o=!1;const a=i.app={_uid:j1++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:lw,get config(){return i.config},set config(c){},use(c,...l){return s.has(c)||(c&&W(c.install)?(s.add(c),c.install(a,...l)):W(c)&&(s.add(c),c(a,...l))),a},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),a},component(c,l){return l?(i.components[c]=l,a):i.components[c]},directive(c,l){return l?(i.directives[c]=l,a):i.directives[c]},mount(c,l,u){if(!o){const h=re(n,r);return h.appContext=i,l&&e?e(h,c):t(h,c,u),o=!0,a._container=c,c.__vue_app__=a,mo(h.component)||h.component.proxy}},unmount(){o&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,l){return i.provides[c]=l,a},runWithContext(c){Ms=a;try{return c()}finally{Ms=null}}};return a}}let Ms=null;function ms(t,e){if(Ct){let n=Ct.provides;const r=Ct.parent&&Ct.parent.provides;r===n&&(n=Ct.provides=Object.create(r)),n[t]=e}}function Qe(t,e,n=!1){const r=Ct||ue;if(r||Ms){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ms._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&W(e)?e.call(r&&r.proxy):e}}function U1(t,e,n,r=!1){const i={},s={};Os(s,go,1),t.propsDefaults=Object.create(null),Vd(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Xb(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function B1(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=et(i),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(uo(t.emitsOptions,d))continue;const g=e[d];if(c)if(tt(s,d))g!==s[d]&&(s[d]=g,l=!0);else{const b=je(d);i[b]=Ka(c,a,b,g,t,!1)}else g!==s[d]&&(s[d]=g,l=!0)}}}else{Vd(t,e,i,s)&&(l=!0);let u;for(const h in a)(!e||!tt(e,h)&&((u=_r(h))===h||!tt(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Ka(c,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!tt(e,h))&&(delete s[h],l=!0)}l&&Ze(t,"set","$attrs")}function Vd(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(ds(c))continue;const l=e[c];let u;i&&tt(i,u=je(c))?!s||!s.includes(u)?n[u]=l:(a||(a={}))[u]=l:uo(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(s){const c=et(n),l=a||ht;for(let u=0;u<s.length;u++){const h=s[u];n[h]=Ka(i,c,h,l[h],t,!tt(l,h))}}return o}function Ka(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=tt(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&W(c)){const{propsDefaults:l}=i;n in l?r=l[n]:(gr(i),r=l[n]=c.call(null,e),jn())}else r=c}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===_r(n))&&(r=!0))}return r}function Ud(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!W(t)){const u=h=>{c=!0;const[d,g]=Ud(h,e,!0);Ot(o,d),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return Et(t)&&r.set(t,or),or;if(K(s))for(let u=0;u<s.length;u++){const h=je(s[u]);Bu(h)&&(o[h]=ht)}else if(s)for(const u in s){const h=je(u);if(Bu(h)){const d=s[u],g=o[h]=K(d)||W(d)?{type:d}:Ot({},d);if(g){const b=zu(Boolean,g.type),T=zu(String,g.type);g[0]=b>-1,g[1]=T<0||b<T,(b>-1||tt(g,"default"))&&a.push(h)}}}const l=[o,a];return Et(t)&&r.set(t,l),l}function Bu(t){return t[0]!=="$"}function $u(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function qu(t,e){return $u(t)===$u(e)}function zu(t,e){return K(e)?e.findIndex(n=>qu(n,t)):W(e)&&qu(e,t)?0:-1}const Bd=t=>t[0]==="_"||t==="$stable",tl=t=>K(t)?t.map(De):[De(t)],$1=(t,e,n)=>{if(e._n)return e;const r=u1((...i)=>tl(e(...i)),n);return r._c=!1,r},$d=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Bd(i))continue;const s=t[i];if(W(s))e[i]=$1(i,s,r);else if(s!=null){const o=tl(s);e[i]=()=>o}}},qd=(t,e)=>{const n=tl(e);t.slots.default=()=>n},q1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=et(e),Os(e,"_",n)):$d(e,t.slots={})}else t.slots={},e&&qd(t,e);Os(t.slots,go,1)},z1=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=ht;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Ot(i,e),!n&&a===1&&delete i._):(s=!e.$stable,$d(e,i)),o=e}else e&&(qd(t,e),o={default:1});if(s)for(const a in i)!Bd(a)&&!(a in o)&&delete i[a]};function Ga(t,e,n,r,i=!1){if(K(t)){t.forEach((d,g)=>Ga(d,e&&(K(e)?e[g]:e),n,r,i));return}if(gs(r)&&!i)return;const s=r.shapeFlag&4?mo(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===ht?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(jt(l)?(u[l]=null,tt(h,l)&&(h[l]=null)):Kt(l)&&(l.value=null)),W(c))pn(c,a,12,[o,u]);else{const d=jt(c),g=Kt(c);if(d||g){const b=()=>{if(t.f){const T=d?tt(h,c)?h[c]:u[c]:c.value;i?K(T)&&Fc(T,s):K(T)?T.includes(s)||T.push(s):d?(u[c]=[s],tt(h,c)&&(h[c]=u[c])):(c.value=[s],t.k&&(u[t.k]=c.value))}else d?(u[c]=o,tt(h,c)&&(h[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(b.id=-1,ee(b,n)):b()}}}const ee=m1;function H1(t){return K1(t)}function K1(t,e){const n=Fa();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=Fe,insertStaticContent:b}=t,T=(f,p,m,y=null,w=null,E=null,P=!1,k=null,D=!!p.dynamicChildren)=>{if(f===p)return;f&&!Lr(f,p)&&(y=v(f),me(f,w,E,!0),f=null),p.patchFlag===-2&&(D=!1,p.dynamicChildren=null);const{type:I,ref:F,shapeFlag:j}=p;switch(I){case po:A(f,p,m,y);break;case Hn:x(f,p,m,y);break;case ys:f==null&&O(p,m,y,P);break;case Ge:Be(f,p,m,y,w,E,P,k,D);break;default:j&1?z(f,p,m,y,w,E,P,k,D):j&6?ge(f,p,m,y,w,E,P,k,D):(j&64||j&128)&&I.process(f,p,m,y,w,E,P,k,D,N)}F!=null&&w&&Ga(F,f&&f.ref,E,p||f,!p)},A=(f,p,m,y)=>{if(f==null)r(p.el=a(p.children),m,y);else{const w=p.el=f.el;p.children!==f.children&&l(w,p.children)}},x=(f,p,m,y)=>{f==null?r(p.el=c(p.children||""),m,y):p.el=f.el},O=(f,p,m,y)=>{[f.el,f.anchor]=b(f.children,p,m,y,f.el,f.anchor)},R=({el:f,anchor:p},m,y)=>{let w;for(;f&&f!==p;)w=d(f),r(f,m,y),f=w;r(p,m,y)},_=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),i(f),f=m;i(p)},z=(f,p,m,y,w,E,P,k,D)=>{P=P||p.type==="svg",f==null?Y(p,m,y,w,E,P,k,D):St(f,p,w,E,P,k,D)},Y=(f,p,m,y,w,E,P,k)=>{let D,I;const{type:F,props:j,shapeFlag:U,transition:H,dirs:X}=f;if(D=f.el=o(f.type,E,j&&j.is,j),U&8?u(D,f.children):U&16&&Vt(f.children,D,null,y,w,E&&F!=="foreignObject",P,k),X&&Sn(f,null,y,"created"),pt(D,f,f.scopeId,P,y),j){for(const at in j)at!=="value"&&!ds(at)&&s(D,at,null,j[at],E,f.children,y,w,Ut);"value"in j&&s(D,"value",null,j.value),(I=j.onVnodeBeforeMount)&&ke(I,y,f)}X&&Sn(f,null,y,"beforeMount");const gt=(!w||w&&!w.pendingBranch)&&H&&!H.persisted;gt&&H.beforeEnter(D),r(D,p,m),((I=j&&j.onVnodeMounted)||gt||X)&&ee(()=>{I&&ke(I,y,f),gt&&H.enter(D),X&&Sn(f,null,y,"mounted")},w)},pt=(f,p,m,y,w)=>{if(m&&g(f,m),y)for(let E=0;E<y.length;E++)g(f,y[E]);if(w){let E=w.subTree;if(p===E){const P=w.vnode;pt(f,P,P.scopeId,P.slotScopeIds,w.parent)}}},Vt=(f,p,m,y,w,E,P,k,D=0)=>{for(let I=D;I<f.length;I++){const F=f[I]=k?an(f[I]):De(f[I]);T(null,F,p,m,y,w,E,P,k)}},St=(f,p,m,y,w,E,P)=>{const k=p.el=f.el;let{patchFlag:D,dynamicChildren:I,dirs:F}=p;D|=f.patchFlag&16;const j=f.props||ht,U=p.props||ht;let H;m&&_n(m,!1),(H=U.onVnodeBeforeUpdate)&&ke(H,m,p,f),F&&Sn(p,f,m,"beforeUpdate"),m&&_n(m,!0);const X=w&&p.type!=="foreignObject";if(I?pe(f.dynamicChildren,I,k,m,y,X,E):P||ae(f,p,k,null,m,y,X,E,!1),D>0){if(D&16)xe(k,p,j,U,m,y,w);else if(D&2&&j.class!==U.class&&s(k,"class",null,U.class,w),D&4&&s(k,"style",j.style,U.style,w),D&8){const gt=p.dynamicProps;for(let at=0;at<gt.length;at++){const It=gt[at],be=j[It],Zn=U[It];(Zn!==be||It==="value")&&s(k,It,be,Zn,w,f.children,m,y,Ut)}}D&1&&f.children!==p.children&&u(k,p.children)}else!P&&I==null&&xe(k,p,j,U,m,y,w);((H=U.onVnodeUpdated)||F)&&ee(()=>{H&&ke(H,m,p,f),F&&Sn(p,f,m,"updated")},y)},pe=(f,p,m,y,w,E,P)=>{for(let k=0;k<p.length;k++){const D=f[k],I=p[k],F=D.el&&(D.type===Ge||!Lr(D,I)||D.shapeFlag&70)?h(D.el):m;T(D,I,F,null,y,w,E,P,!0)}},xe=(f,p,m,y,w,E,P)=>{if(m!==y){if(m!==ht)for(const k in m)!ds(k)&&!(k in y)&&s(f,k,m[k],null,P,p.children,w,E,Ut);for(const k in y){if(ds(k))continue;const D=y[k],I=m[k];D!==I&&k!=="value"&&s(f,k,I,D,P,p.children,w,E,Ut)}"value"in y&&s(f,"value",m.value,y.value)}},Be=(f,p,m,y,w,E,P,k,D)=>{const I=p.el=f?f.el:a(""),F=p.anchor=f?f.anchor:a("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:H}=p;H&&(k=k?k.concat(H):H),f==null?(r(I,m,y),r(F,m,y),Vt(p.children,m,F,w,E,P,k,D)):j>0&&j&64&&U&&f.dynamicChildren?(pe(f.dynamicChildren,U,m,w,E,P,k),(p.key!=null||w&&p===w.subTree)&&zd(f,p,!0)):ae(f,p,m,F,w,E,P,k,D)},ge=(f,p,m,y,w,E,P,k,D)=>{p.slotScopeIds=k,f==null?p.shapeFlag&512?w.ctx.activate(p,m,y,P,D):$e(p,m,y,w,E,P,D):bt(f,p,D)},$e=(f,p,m,y,w,E,P)=>{const k=f.component=ew(f,y,w);if(kd(f)&&(k.ctx.renderer=N),nw(k),k.asyncDep){if(w&&w.registerDep(k,ut),!f.el){const D=k.subTree=re(Hn);x(null,D,p,m)}return}ut(k,f,p,m,w,E,P)},bt=(f,p,m)=>{const y=p.component=f.component;if(d1(f,p,m))if(y.asyncDep&&!y.asyncResolved){nt(y,p,m);return}else y.next=p,i1(y.update),y.update();else p.el=f.el,y.vnode=p},ut=(f,p,m,y,w,E,P)=>{const k=()=>{if(f.isMounted){let{next:F,bu:j,u:U,parent:H,vnode:X}=f,gt=F,at;_n(f,!1),F?(F.el=X.el,nt(f,F,P)):F=X,j&&ps(j),(at=F.props&&F.props.onVnodeBeforeUpdate)&&ke(at,H,F,X),_n(f,!0);const It=ea(f),be=f.subTree;f.subTree=It,T(be,It,h(be.el),v(be),f,w,E),F.el=It.el,gt===null&&p1(f,It.el),U&&ee(U,w),(at=F.props&&F.props.onVnodeUpdated)&&ee(()=>ke(at,H,F,X),w)}else{let F;const{el:j,props:U}=p,{bm:H,m:X,parent:gt}=f,at=gs(p);if(_n(f,!1),H&&ps(H),!at&&(F=U&&U.onVnodeBeforeMount)&&ke(F,gt,p),_n(f,!0),j&&rt){const It=()=>{f.subTree=ea(f),rt(j,f.subTree,f,w,null)};at?p.type.__asyncLoader().then(()=>!f.isUnmounted&&It()):It()}else{const It=f.subTree=ea(f);T(null,It,m,y,f,w,E),p.el=It.el}if(X&&ee(X,w),!at&&(F=U&&U.onVnodeMounted)){const It=p;ee(()=>ke(F,gt,It),w)}(p.shapeFlag&256||gt&&gs(gt.vnode)&&gt.vnode.shapeFlag&256)&&f.a&&ee(f.a,w),f.isMounted=!0,p=m=y=null}},D=f.effect=new qc(k,()=>Xc(I),f.scope),I=f.update=()=>D.run();I.id=f.uid,_n(f,!0),I()},nt=(f,p,m)=>{p.component=f;const y=f.vnode.props;f.vnode=p,f.next=null,B1(f,p.props,y,m),z1(f,p.children,m),Cr(),Ru(),Ar()},ae=(f,p,m,y,w,E,P,k,D=!1)=>{const I=f&&f.children,F=f?f.shapeFlag:0,j=p.children,{patchFlag:U,shapeFlag:H}=p;if(U>0){if(U&128){qe(I,j,m,y,w,E,P,k,D);return}else if(U&256){Mr(I,j,m,y,w,E,P,k,D);return}}H&8?(F&16&&Ut(I,w,E),j!==I&&u(m,j)):F&16?H&16?qe(I,j,m,y,w,E,P,k,D):Ut(I,w,E,!0):(F&8&&u(m,""),H&16&&Vt(j,m,y,w,E,P,k,D))},Mr=(f,p,m,y,w,E,P,k,D)=>{f=f||or,p=p||or;const I=f.length,F=p.length,j=Math.min(I,F);let U;for(U=0;U<j;U++){const H=p[U]=D?an(p[U]):De(p[U]);T(f[U],H,m,null,w,E,P,k,D)}I>F?Ut(f,w,E,!0,!1,j):Vt(p,m,y,w,E,P,k,D,j)},qe=(f,p,m,y,w,E,P,k,D)=>{let I=0;const F=p.length;let j=f.length-1,U=F-1;for(;I<=j&&I<=U;){const H=f[I],X=p[I]=D?an(p[I]):De(p[I]);if(Lr(H,X))T(H,X,m,null,w,E,P,k,D);else break;I++}for(;I<=j&&I<=U;){const H=f[j],X=p[U]=D?an(p[U]):De(p[U]);if(Lr(H,X))T(H,X,m,null,w,E,P,k,D);else break;j--,U--}if(I>j){if(I<=U){const H=U+1,X=H<F?p[H].el:y;for(;I<=U;)T(null,p[I]=D?an(p[I]):De(p[I]),m,X,w,E,P,k,D),I++}}else if(I>U)for(;I<=j;)me(f[I],w,E,!0),I++;else{const H=I,X=I,gt=new Map;for(I=X;I<=U;I++){const ce=p[I]=D?an(p[I]):De(p[I]);ce.key!=null&&gt.set(ce.key,I)}let at,It=0;const be=U-X+1;let Zn=!1,ru=0;const Rr=new Array(be);for(I=0;I<be;I++)Rr[I]=0;for(I=H;I<=j;I++){const ce=f[I];if(It>=be){me(ce,w,E,!0);continue}let Oe;if(ce.key!=null)Oe=gt.get(ce.key);else for(at=X;at<=U;at++)if(Rr[at-X]===0&&Lr(ce,p[at])){Oe=at;break}Oe===void 0?me(ce,w,E,!0):(Rr[Oe-X]=I+1,Oe>=ru?ru=Oe:Zn=!0,T(ce,p[Oe],m,null,w,E,P,k,D),It++)}const iu=Zn?G1(Rr):or;for(at=iu.length-1,I=be-1;I>=0;I--){const ce=X+I,Oe=p[ce],su=ce+1<F?p[ce+1].el:y;Rr[I]===0?T(null,Oe,m,su,w,E,P,k,D):Zn&&(at<0||I!==iu[at]?ze(Oe,m,su,2):at--)}}},ze=(f,p,m,y,w=null)=>{const{el:E,type:P,transition:k,children:D,shapeFlag:I}=f;if(I&6){ze(f.component.subTree,p,m,y);return}if(I&128){f.suspense.move(p,m,y);return}if(I&64){P.move(f,p,m,N);return}if(P===Ge){r(E,p,m);for(let F=0;F<D.length;F++)ze(D[F],p,m,y);r(f.anchor,p,m);return}if(P===ys){R(f,p,m);return}if(y!==2&&I&1&&k)if(y===0)k.beforeEnter(E),r(E,p,m),ee(()=>k.enter(E),w);else{const{leave:F,delayLeave:j,afterLeave:U}=k,H=()=>r(E,p,m),X=()=>{F(E,()=>{H(),U&&U()})};j?j(E,H,X):X()}else r(E,p,m)},me=(f,p,m,y=!1,w=!1)=>{const{type:E,props:P,ref:k,children:D,dynamicChildren:I,shapeFlag:F,patchFlag:j,dirs:U}=f;if(k!=null&&Ga(k,null,m,f,!0),F&256){p.ctx.deactivate(f);return}const H=F&1&&U,X=!gs(f);let gt;if(X&&(gt=P&&P.onVnodeBeforeUnmount)&&ke(gt,p,f),F&6)Qi(f.component,m,y);else{if(F&128){f.suspense.unmount(m,y);return}H&&Sn(f,null,p,"beforeUnmount"),F&64?f.type.remove(f,p,m,w,N,y):I&&(E!==Ge||j>0&&j&64)?Ut(I,p,m,!1,!0):(E===Ge&&j&384||!w&&F&16)&&Ut(D,p,m),y&&Yn(f)}(X&&(gt=P&&P.onVnodeUnmounted)||H)&&ee(()=>{gt&&ke(gt,p,f),H&&Sn(f,null,p,"unmounted")},m)},Yn=f=>{const{type:p,el:m,anchor:y,transition:w}=f;if(p===Ge){Jn(m,y);return}if(p===ys){_(f);return}const E=()=>{i(m),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:P,delayLeave:k}=w,D=()=>P(m,E);k?k(f.el,E,D):D()}else E()},Jn=(f,p)=>{let m;for(;f!==p;)m=d(f),i(f),f=m;i(p)},Qi=(f,p,m)=>{const{bum:y,scope:w,update:E,subTree:P,um:k}=f;y&&ps(y),w.stop(),E&&(E.active=!1,me(P,f,p,m)),k&&ee(k,p),ee(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ut=(f,p,m,y=!1,w=!1,E=0)=>{for(let P=E;P<f.length;P++)me(f[P],p,m,y,w)},v=f=>f.shapeFlag&6?v(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),L=(f,p,m)=>{f==null?p._vnode&&me(p._vnode,null,null,!0):T(p._vnode||null,f,p,null,null,null,m),Ru(),_d(),p._vnode=f},N={p:T,um:me,m:ze,r:Yn,mt:$e,mc:Vt,pc:ae,pbc:pe,n:v,o:t};let V,rt;return e&&([V,rt]=e(N)),{render:L,hydrate:V,createApp:V1(L,V)}}function _n({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function zd(t,e,n=!1){const r=t.children,i=e.children;if(K(r)&&K(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=an(i[s]),a.el=o.el),n||zd(o,a)),a.type===po&&(a.el=o.el)}}function G1(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(i=n[n.length-1],t[i]<l){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<l?s=a+1:o=a;l<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const W1=t=>t.__isTeleport,Ge=Symbol.for("v-fgt"),po=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),ys=Symbol.for("v-stc"),Wr=[];let Se=null;function Mt(t=!1){Wr.push(Se=t?null:[])}function Q1(){Wr.pop(),Se=Wr[Wr.length-1]||null}let hi=1;function Hu(t){hi+=t}function Hd(t){return t.dynamicChildren=hi>0?Se||or:null,Q1(),hi>0&&Se&&Se.push(t),t}function Yt(t,e,n,r,i,s){return Hd(ct(t,e,n,r,i,s,!0))}function Kd(t,e,n,r,i){return Hd(re(t,e,n,r,i,!0))}function Wa(t){return t?t.__v_isVNode===!0:!1}function Lr(t,e){return t.type===e.type&&t.key===e.key}const go="__vInternal",Gd=({key:t})=>t??null,vs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?jt(t)||Kt(t)||W(t)?{i:ue,r:t,k:e,f:!!n}:t:null);function ct(t,e=null,n=null,r=0,i=null,s=t===Ge?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Gd(e),ref:e&&vs(e),scopeId:ho,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ue};return a?(el(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=jt(n)?8:16),hi>0&&!o&&Se&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Se.push(c),c}const re=X1;function X1(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===O1)&&(t=Hn),Wa(t)){const a=pr(t,e,!0);return n&&el(a,n),hi>0&&!s&&Se&&(a.shapeFlag&6?Se[Se.indexOf(t)]=a:Se.push(a)),a.patchFlag|=-2,a}if(ow(t)&&(t=t.__vccOpts),e){e=Y1(e);let{class:a,style:c}=e;a&&!jt(a)&&(e.class=Bc(a)),Et(c)&&(md(c)&&!K(c)&&(c=Ot({},c)),e.style=Uc(c))}const o=jt(t)?1:g1(t)?128:W1(t)?64:Et(t)?4:W(t)?2:0;return ct(t,e,n,r,i,o,s,!0)}function Y1(t){return t?md(t)||go in t?Ot({},t):t:null}function pr(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?J1(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Gd(a),ref:e&&e.ref?n&&i?K(i)?i.concat(vs(e)):[i,vs(e)]:vs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pr(t.ssContent),ssFallback:t.ssFallback&&pr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function $r(t=" ",e=0){return re(po,null,t,e)}function xr(t,e){const n=re(ys,null,t);return n.staticCount=e,n}function Ku(t="",e=!1){return e?(Mt(),Kd(Hn,null,t)):re(Hn,null,t)}function De(t){return t==null||typeof t=="boolean"?re(Hn):K(t)?re(Ge,null,t.slice()):typeof t=="object"?an(t):re(po,null,String(t))}function an(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pr(t)}function el(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(K(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),el(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(go in e)?e._ctx=ue:i===3&&ue&&(ue.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else W(e)?(e={default:e,_ctx:ue},n=32):(e=String(e),r&64?(n=16,e=[$r(e)]):n=8);t.children=e,t.shapeFlag|=n}function J1(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Bc([e.class,r.class]));else if(i==="style")e.style=Uc([e.style,r.style]);else if(io(i)){const s=e[i],o=r[i];o&&s!==o&&!(K(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ke(t,e,n,r=null){Ce(t,e,7,[n,r])}const Z1=jd();let tw=0;function ew(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Z1,s={uid:tw++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Eb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ud(r,i),emitsOptions:Ad(r,i),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:r.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=a1.bind(null,s),t.ce&&t.ce(s),s}let Ct=null;const nl=()=>Ct||ue;let rl,tr,Gu="__VUE_INSTANCE_SETTERS__";(tr=Fa()[Gu])||(tr=Fa()[Gu]=[]),tr.push(t=>Ct=t),rl=t=>{tr.length>1?tr.forEach(e=>e(t)):tr[0](t)};const gr=t=>{rl(t),t.scope.on()},jn=()=>{Ct&&Ct.scope.off(),rl(null)};function Wd(t){return t.vnode.shapeFlag&4}let fi=!1;function nw(t,e=!1){fi=e;const{props:n,children:r}=t.vnode,i=Wd(t);U1(t,n,i,e),q1(t,r);const s=i?rw(t,e):void 0;return fi=!1,s}function rw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=yd(new Proxy(t.ctx,k1));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Xd(t):null;gr(t),Cr();const s=pn(r,t,0,[t.props,i]);if(Ar(),jn(),nd(s)){if(s.then(jn,jn),e)return s.then(o=>{Wu(t,o,e)}).catch(o=>{lo(o,t,0)});t.asyncDep=s}else Wu(t,s,e)}else Qd(t,e)}function Wu(t,e,n){W(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Et(e)&&(t.setupState=Ed(e)),Qd(t,n)}let Qu;function Qd(t,e,n){const r=t.type;if(!t.render){if(!e&&Qu&&!r.render){const i=r.template||Zc(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=Ot(Ot({isCustomElement:s,delimiters:a},o),c);r.render=Qu(i,l)}}t.render=r.render||Fe}gr(t),Cr(),M1(t),Ar(),jn()}function iw(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return se(t,"get","$attrs"),e[n]}}))}function Xd(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return iw(t)},slots:t.slots,emit:t.emit,expose:e}}function mo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ed(yd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gr)return Gr[n](t)},has(e,n){return n in e||n in Gr}}))}function sw(t,e=!0){return W(t)?t.displayName||t.name:t.name||e&&t.__name}function ow(t){return W(t)&&"__vccOpts"in t}const wt=(t,e)=>e1(t,e,fi);function Rs(t,e,n){const r=arguments.length;return r===2?Et(e)&&!K(e)?Wa(e)?re(t,null,[e]):re(t,e):re(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Wa(n)&&(n=[n]),re(t,e,n))}const aw=Symbol.for("v-scx"),cw=()=>Qe(aw),lw="3.3.4",uw="http://www.w3.org/2000/svg",kn=typeof document<"u"?document:null,Xu=kn&&kn.createElement("template"),hw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?kn.createElementNS(uw,t):kn.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>kn.createTextNode(t),createComment:t=>kn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Xu.innerHTML=r?`<svg>${t}</svg>`:t;const a=Xu.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function fw(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function dw(t,e,n){const r=t.style,i=jt(n);if(n&&!i){if(e&&!jt(e))for(const s in e)n[s]==null&&Qa(r,s,"");for(const s in n)Qa(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const Yu=/\s*!important$/;function Qa(t,e,n){if(K(n))n.forEach(r=>Qa(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=pw(t,e);Yu.test(n)?t.setProperty(_r(r),n.replace(Yu,""),"important"):t[r]=n}}const Ju=["Webkit","Moz","ms"],ra={};function pw(t,e){const n=ra[e];if(n)return n;let r=je(e);if(r!=="filter"&&r in t)return ra[e]=r;r=ao(r);for(let i=0;i<Ju.length;i++){const s=Ju[i]+r;if(s in t)return ra[e]=s}return e}const Zu="http://www.w3.org/1999/xlink";function gw(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Zu,e.slice(6,e.length)):t.setAttributeNS(Zu,e,n);else{const s=wb(e);n==null||s&&!rd(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function mw(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=rd(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function nr(t,e,n,r){t.addEventListener(e,n,r)}function yw(t,e,n,r){t.removeEventListener(e,n,r)}function vw(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,c]=bw(e);if(r){const l=s[e]=Iw(r,i);nr(t,a,l,c)}else o&&(yw(t,a,o,c),s[e]=void 0)}}const th=/(?:Once|Passive|Capture)$/;function bw(t){let e;if(th.test(t)){e={};let n;for(;n=t.match(th);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_r(t.slice(2)),e]}let ia=0;const ww=Promise.resolve(),Ew=()=>ia||(ww.then(()=>ia=0),ia=Date.now());function Iw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ce(Tw(r,n.value),e,5,[r])};return n.value=t,n.attached=Ew(),n}function Tw(t,e){if(K(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const eh=/^on[a-z]/,Sw=(t,e,n,r,i=!1,s,o,a,c)=>{e==="class"?fw(t,r,i):e==="style"?dw(t,n,r):io(e)?Lc(e)||vw(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_w(t,e,r,i))?mw(t,e,r,s,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),gw(t,e,r,i))};function _w(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&eh.test(e)&&W(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||eh.test(e)&&jt(n)?!1:e in t}const nh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return K(e)?n=>ps(e,n):e};function Cw(t){t.target.composing=!0}function rh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const sa={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=nh(i);const s=r||i.props&&i.props.type==="number";nr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=La(a)),t._assign(a)}),n&&nr(t,"change",()=>{t.value=t.value.trim()}),e||(nr(t,"compositionstart",Cw),nr(t,"compositionend",rh),nr(t,"change",rh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=nh(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&La(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Aw=["ctrl","shift","alt","meta"],xw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Aw.some(n=>t[`${n}Key`]&&!e.includes(n))},Ow=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=xw[e[i]];if(s&&s(n,e))return}return t(n,...r)},kw=Ot({patchProp:Sw},hw);let ih;function Dw(){return ih||(ih=H1(kw))}const Nw=(...t)=>{const e=Dw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Mw(r);if(!i)return;const s=e._component;!W(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Mw(t){return jt(t)?document.querySelector(t):t}function oa(t){return t!==null&&typeof t=="object"}function Xa(t,e,n=".",r){if(!oa(e))return Xa(t,{},n,r);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(r&&r(i,s,o,n)||(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:oa(o)&&oa(i[s])?i[s]=Xa(o,i[s],(n?`${n}.`:"")+s.toString(),r):i[s]=o))}return i}function Rw(t){return(...e)=>e.reduce((n,r)=>Xa(n,r,"",t),{})}const Pw=Rw();function Yd(t){return id()?(Tb(t),!0):!1}function il(t){return typeof t=="function"?t():fe(t)}const Lw=typeof window<"u",Fw=t=>t!=null,jw=Object.prototype.toString,Ya=t=>jw.call(t)==="[object Object]",bs=()=>{};function Vw(t){nl()&&Jc(t)}function Qr(t){var e;const n=il(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Jd=Lw?window:void 0;function we(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=Jd):[e,n,r,i]=t,!e)return bs;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,h,d,g)=>(u.addEventListener(h,d,g),()=>u.removeEventListener(h,d,g)),c=Gt(()=>[Qr(e),il(i)],([u,h])=>{o(),u&&s.push(...n.flatMap(d=>r.map(g=>a(u,d,g,h))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return Yd(l),l}function Uw(){const t=ve(!1);return nl()&&Nd(()=>{t.value=!0}),t}function Bw(t){const e=Uw();return wt(()=>(e.value,!!t()))}function $w(t,e,n={}){const{root:r,rootMargin:i="0px",threshold:s=.1,window:o=Jd,immediate:a=!0}=n,c=Bw(()=>o&&"IntersectionObserver"in o),l=wt(()=>{const b=il(t);return(Array.isArray(b)?b:[b]).map(Qr).filter(Fw)});let u=bs;const h=ve(a),d=c.value?Gt(()=>[l.value,Qr(r),h.value],([b,T])=>{if(u(),!h.value||!b.length)return;const A=new IntersectionObserver(e,{root:Qr(T),rootMargin:i,threshold:s});b.forEach(x=>x&&A.observe(x)),u=()=>{A.disconnect(),u=bs}},{immediate:a,flush:"post"}):bs,g=()=>{u(),d(),h.value=!1};return Yd(g),{isSupported:c,isActive:h,pause(){u(),h.value=!1},resume(){h.value=!0},stop:g}}const Zd=1/60*1e3,qw=typeof performance<"u"?()=>performance.now():()=>Date.now(),tp=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(qw()),Zd);function zw(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const h=u&&i,d=h?e:n;return l&&o.add(c),d.indexOf(c)===-1&&(d.push(c),h&&i&&(r=e.length)),c},cancel:c=>{const l=n.indexOf(c);l!==-1&&n.splice(l,1),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let l=0;l<r;l++){const u=e[l];u(c),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(c))}};return a}const Hw=40;let Ja=!0,di=!1,Za=!1;const lr={delta:0,timestamp:0},Ni=["read","update","preRender","render","postRender"],yo=Ni.reduce((t,e)=>(t[e]=zw(()=>di=!0),t),{}),tc=Ni.reduce((t,e)=>{const n=yo[e];return t[e]=(r,i=!1,s=!1)=>(di||Ww(),n.schedule(r,i,s)),t},{}),Kw=Ni.reduce((t,e)=>(t[e]=yo[e].cancel,t),{});Ni.reduce((t,e)=>(t[e]=()=>yo[e].process(lr),t),{});const Gw=t=>yo[t].process(lr),ep=t=>{di=!1,lr.delta=Ja?Zd:Math.max(Math.min(t-lr.timestamp,Hw),1),lr.timestamp=t,Za=!0,Ni.forEach(Gw),Za=!1,di&&(Ja=!1,tp(ep))},Ww=()=>{di=!0,Ja=!0,Za||tp(ep)},np=()=>lr;function rp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var sh=function(){};const ec=(t,e,n)=>Math.min(Math.max(n,t),e),aa=.001,Qw=.01,Xw=10,Yw=.05,Jw=1;function Zw({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ec(Yw,Jw,o),t=ec(Qw,Xw,t/1e3),o<1?(i=l=>{const u=l*o,h=u*t,d=u-n,g=nc(l,o),b=Math.exp(-h);return aa-d/g*b},s=l=>{const u=l*o*t,h=u*n+n,d=Math.pow(o,2)*Math.pow(l,2)*t,g=Math.exp(-u),b=nc(Math.pow(l,2),o);return(-i(l)+aa>0?-1:1)*((h-d)*g)/b}):(i=l=>{const u=Math.exp(-l*t),h=(l-n)*t+1;return-aa+u*h},s=l=>{const u=Math.exp(-l*t),h=(n-l)*(t*t);return u*h});const a=5/t,c=eE(i,s,a);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:t}}}const tE=12;function eE(t,e,n){let r=n;for(let i=1;i<tE;i++)r=r-t(r)/e(r);return r}function nc(t,e){return t*Math.sqrt(1-e*e)}const nE=["duration","bounce"],rE=["stiffness","damping","mass"];function oh(t,e){return e.some(n=>t[n]!==void 0)}function iE(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!oh(t,rE)&&oh(t,nE)){const n=Zw(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function sl(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:i}=t,s=rp(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:c,mass:l,velocity:u,duration:h,isResolvedFromDuration:d}=iE(s),g=ah,b=ah;function T(){const A=u?-(u/1e3):0,x=n-e,O=c/(2*Math.sqrt(a*l)),R=Math.sqrt(a/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(n-e)/100,.4)),O<1){const _=nc(R,O);g=z=>{const Y=Math.exp(-O*R*z);return n-Y*((A+O*R*x)/_*Math.sin(_*z)+x*Math.cos(_*z))},b=z=>{const Y=Math.exp(-O*R*z);return O*R*Y*(Math.sin(_*z)*(A+O*R*x)/_+x*Math.cos(_*z))-Y*(Math.cos(_*z)*(A+O*R*x)-_*x*Math.sin(_*z))}}else if(O===1)g=_=>n-Math.exp(-R*_)*(x+(A+R*x)*_);else{const _=R*Math.sqrt(O*O-1);g=z=>{const Y=Math.exp(-O*R*z),pt=Math.min(_*z,300);return n-Y*((A+O*R*x)*Math.sinh(pt)+_*x*Math.cosh(pt))/_}}}return T(),{next:A=>{const x=g(A);if(d)o.done=A>=h;else{const O=b(A)*1e3,R=Math.abs(O)<=r,_=Math.abs(n-x)<=i;o.done=R&&_}return o.value=o.done?n:x,o},flipTarget:()=>{u=-u,[e,n]=[n,e],T()}}}sl.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const ah=t=>0,ip=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ol=(t,e,n)=>-n*t+n*e+t,sp=(t,e)=>n=>Math.max(Math.min(n,e),t),Xr=t=>t%1?Number(t.toFixed(5)):t,pi=/(-)?([\d]*\.?[\d])+/g,rc=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sE=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mi(t){return typeof t=="string"}const Ri={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yr=Object.assign(Object.assign({},Ri),{transform:sp(0,1)}),ns=Object.assign(Object.assign({},Ri),{default:1}),al=t=>({test:e=>Mi(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cn=al("deg"),Jr=al("%"),G=al("px"),ch=Object.assign(Object.assign({},Jr),{parse:t=>Jr.parse(t)/100,transform:t=>Jr.transform(t*100)}),cl=(t,e)=>n=>!!(Mi(n)&&sE.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),op=(t,e,n)=>r=>{if(!Mi(r))return r;const[i,s,o,a]=r.match(pi);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Mn={test:cl("hsl","hue"),parse:op("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jr.transform(Xr(e))+", "+Jr.transform(Xr(n))+", "+Xr(Yr.transform(r))+")"},oE=sp(0,255),ca=Object.assign(Object.assign({},Ri),{transform:t=>Math.round(oE(t))}),ln={test:cl("rgb","red"),parse:op("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ca.transform(t)+", "+ca.transform(e)+", "+ca.transform(n)+", "+Xr(Yr.transform(r))+")"};function aE(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ic={test:cl("#"),parse:aE,transform:ln.transform},ne={test:t=>ln.test(t)||ic.test(t)||Mn.test(t),parse:t=>ln.test(t)?ln.parse(t):Mn.test(t)?Mn.parse(t):ic.parse(t),transform:t=>Mi(t)?t:t.hasOwnProperty("red")?ln.transform(t):Mn.transform(t)},ap="${c}",cp="${n}";function cE(t){var e,n,r,i;return isNaN(t)&&Mi(t)&&((n=(e=t.match(pi))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((i=(r=t.match(rc))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function lp(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(rc);r&&(n=r.length,t=t.replace(rc,ap),e.push(...r.map(ne.parse)));const i=t.match(pi);return i&&(t=t.replace(pi,cp),e.push(...i.map(Ri.parse))),{values:e,numColors:n,tokenised:t}}function up(t){return lp(t).values}function hp(t){const{values:e,numColors:n,tokenised:r}=lp(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?ap:cp,a<n?ne.transform(s[a]):Xr(s[a]));return o}}const lE=t=>typeof t=="number"?0:t;function uE(t){const e=up(t);return hp(t)(e.map(lE))}const Pi={test:cE,parse:up,createTransformer:hp,getAnimatableNone:uE},hE=new Set(["brightness","contrast","saturate","opacity"]);function fE(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pi)||[];if(!r)return t;const i=n.replace(r,"");let s=hE.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const dE=/([a-z-]*)\(.*?\)/g,sc=Object.assign(Object.assign({},Pi),{getAnimatableNone:t=>{const e=t.match(dE);return e?e.map(fE).join(" "):t}});function la(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lh({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=la(c,a,t+1/3),s=la(c,a,t),o=la(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const pE=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},gE=[ic,ln,Mn],uh=t=>gE.find(e=>e.test(t)),fp=(t,e)=>{let n=uh(t),r=uh(e),i=n.parse(t),s=r.parse(e);n===Mn&&(i=lh(i),n=ln),r===Mn&&(s=lh(s),r=ln);const o=Object.assign({},i);return a=>{for(const c in o)c!=="alpha"&&(o[c]=pE(i[c],s[c],a));return o.alpha=ol(i.alpha,s.alpha,a),n.transform(o)}},mE=t=>typeof t=="number",yE=(t,e)=>n=>e(t(n)),dp=(...t)=>t.reduce(yE);function pp(t,e){return mE(t)?n=>ol(t,e,n):ne.test(t)?fp(t,e):mp(t,e)}const gp=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>pp(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},vE=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=pp(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}};function hh(t){const e=Pi.parse(t),n=e.length;let r=0,i=0,s=0;for(let o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}const mp=(t,e)=>{const n=Pi.createTransformer(e),r=hh(t),i=hh(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?dp(gp(r.parsed,i.parsed),n):s=>`${s>0?e:t}`},bE=(t,e)=>n=>ol(t,e,n);function wE(t){if(typeof t=="number")return bE;if(typeof t=="string")return ne.test(t)?fp:mp;if(Array.isArray(t))return gp;if(typeof t=="object")return vE}function EE(t,e,n){const r=[],i=n||wE(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;a=dp(c,a)}r.push(a)}return r}function IE([t,e],[n]){return r=>n(ip(t,e,r))}function TE(t,e){const n=t.length,r=n-1;return i=>{let s=0,o=!1;if(i<=t[0]?o=!0:i>=t[r]&&(s=r-1,o=!0),!o){let c=1;for(;c<n&&!(t[c]>i||c===r);c++);s=c-1}const a=ip(t[s],t[s+1],i);return e[s](a)}}function yp(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;sh(s===e.length),sh(!r||!Array.isArray(r)||r.length===s-1),t[0]>t[s-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=EE(e,r,i),a=s===2?IE(t,o):TE(t,o);return n?c=>a(ec(t[0],t[s-1],c)):a}const vo=t=>e=>1-t(1-e),ll=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SE=t=>e=>Math.pow(e,t),vp=t=>e=>e*e*((t+1)*e-t),_E=t=>{const e=vp(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},bp=1.525,CE=4/11,AE=8/11,xE=9/10,wp=t=>t,ul=SE(2),OE=vo(ul),Ep=ll(ul),Ip=t=>1-Math.sin(Math.acos(t)),Tp=vo(Ip),kE=ll(Tp),hl=vp(bp),DE=vo(hl),NE=ll(hl),ME=_E(bp),RE=4356/361,PE=35442/1805,LE=16061/1805,Ps=t=>{if(t===1||t===0)return t;const e=t*t;return t<CE?7.5625*e:t<AE?9.075*e-9.9*t+3.4:t<xE?RE*e-PE*t+LE:10.8*t*t-20.52*t+10.72},FE=vo(Ps),jE=t=>t<.5?.5*(1-Ps(1-t*2)):.5*Ps(t*2-1)+.5;function VE(t,e){return t.map(()=>e||Ep).splice(0,t.length-1)}function UE(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function BE(t,e){return t.map(n=>n*e)}function ws({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const s={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=BE(r&&r.length===o.length?r:UE(o),i);function c(){return yp(a,o,{ease:Array.isArray(n)?n:VE(o,n)})}let l=c();return{next:u=>(s.value=l(u),s.done=u>=i,s),flipTarget:()=>{o.reverse(),l=c()}}}function $E({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=n*t;const c=e+a,l=s===void 0?c:s(c);return l!==c&&(a=l-e),{next:u=>{const h=-a*Math.exp(-u/r);return o.done=!(h>i||h<-i),o.value=o.done?l:l+h,o},flipTarget:()=>{}}}const fh={keyframes:ws,spring:sl,decay:$E};function qE(t){if(Array.isArray(t.to))return ws;if(fh[t.type])return fh[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?ws:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?sl:ws}function Sp(t,e,n=0){return t-e-n}function zE(t,e,n=0,r=!0){return r?Sp(e+-t,e,n):e-(t-e)+n}function HE(t,e,n,r){return r?t>=e+n:t<=-n}const KE=t=>{const e=({delta:n})=>t(n);return{start:()=>tc.update(e,!0),stop:()=>Kw.update(e)}};function _p(t){var e,n,{from:r,autoplay:i=!0,driver:s=KE,elapsed:o=0,repeat:a=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:h,onComplete:d,onRepeat:g,onUpdate:b}=t,T=rp(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:A}=T,x,O=0,R=T.duration,_,z=!1,Y=!0,pt;const Vt=qE(T);!((n=(e=Vt).needsInterpolation)===null||n===void 0)&&n.call(e,r,A)&&(pt=yp([0,100],[r,A],{clamp:!1}),r=0,A=100);const St=Vt(Object.assign(Object.assign({},T),{from:r,to:A}));function pe(){O++,c==="reverse"?(Y=O%2===0,o=zE(o,R,l,Y)):(o=Sp(o,R,l),c==="mirror"&&St.flipTarget()),z=!1,g&&g()}function xe(){x.stop(),d&&d()}function Be($e){if(Y||($e=-$e),o+=$e,!z){const bt=St.next(Math.max(0,o));_=bt.value,pt&&(_=pt(_)),z=Y?bt.done:o<=0}b==null||b(_),z&&(O===0&&(R??(R=o)),O<a?HE(o,R,l,Y)&&pe():xe())}function ge(){u==null||u(),x=s(Be),x.start()}return i&&ge(),{stop:()=>{h==null||h(),x.stop()}}}function Cp(t,e){return e?t*(1e3/e):0}function GE({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:l,driver:u,onUpdate:h,onComplete:d,onStop:g}){let b;function T(R){return n!==void 0&&R<n||r!==void 0&&R>r}function A(R){return n===void 0?r:r===void 0||Math.abs(n-R)<Math.abs(r-R)?n:r}function x(R){b==null||b.stop(),b=_p(Object.assign(Object.assign({},R),{driver:u,onUpdate:_=>{var z;h==null||h(_),(z=R.onUpdate)===null||z===void 0||z.call(R,_)},onComplete:d,onStop:g}))}function O(R){x(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:c},R))}if(T(t))O({from:t,velocity:e,to:A(t)});else{let R=i*e+t;typeof l<"u"&&(R=l(R));const _=A(R),z=_===n?-1:1;let Y,pt;const Vt=St=>{Y=pt,pt=St,e=Cp(St-Y,np().delta),(z===1&&St>_||z===-1&&St<_)&&O({from:St,to:_,velocity:e})};x({type:"decay",from:t,velocity:e,timeConstant:s,power:i,restDelta:c,modifyTarget:l,onUpdate:T(R)?Vt:void 0})}return{stop:()=>b==null?void 0:b.stop()}}const Ap=(t,e)=>1-3*e+3*t,xp=(t,e)=>3*e-6*t,Op=t=>3*t,Ls=(t,e,n)=>((Ap(e,n)*t+xp(e,n))*t+Op(e))*t,kp=(t,e,n)=>3*Ap(e,n)*t*t+2*xp(e,n)*t+Op(e),WE=1e-7,QE=10;function XE(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Ls(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>WE&&++a<QE);return o}const YE=8,JE=.001;function ZE(t,e,n,r){for(let i=0;i<YE;++i){const s=kp(e,n,r);if(s===0)return e;const o=Ls(e,n,r)-t;e-=o/s}return e}const Es=11,rs=1/(Es-1);function tI(t,e,n,r){if(t===e&&n===r)return wp;const i=new Float32Array(Es);for(let o=0;o<Es;++o)i[o]=Ls(o*rs,t,n);function s(o){let a=0,c=1;const l=Es-1;for(;c!==l&&i[c]<=o;++c)a+=rs;--c;const u=(o-i[c])/(i[c+1]-i[c]),h=a+u*rs,d=kp(h,t,n);return d>=JE?ZE(o,h,t,n):d===0?h:XE(o,a,a+rs,t,n)}return o=>o===0||o===1?o:Ls(s(o),e,r)}const ua={};class eI{constructor(){this.subscriptions=new Set}add(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}notify(e,n,r){if(this.subscriptions.size)for(const i of this.subscriptions)i(e,n,r)}clear(){this.subscriptions.clear()}}function dh(t){return!isNaN(parseFloat(t))}class nI{constructor(e){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new eI,this.canTrackVelocity=!1,this.updateAndNotify=n=>{this.prev=this.current,this.current=n;const{delta:r,timestamp:i}=np();this.lastUpdated!==i&&(this.timeDelta=r,this.lastUpdated=i),tc.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>tc.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=dh(this.current)),n!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=e,this.canTrackVelocity=dh(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Cp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{const{stop:r}=e(n);this.stopAnimation=r}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function rI(t){return new nI(t)}const{isArray:iI}=Array;function sI(){const t=ve({}),e=r=>{const i=s=>{t.value[s]&&(t.value[s].stop(),t.value[s].destroy(),delete t.value[s])};r?iI(r)?r.forEach(i):i(r):Object.keys(t.value).forEach(i)},n=(r,i,s)=>{if(t.value[r])return t.value[r];const o=rI(i);return o.onChange(a=>s[r]=a),t.value[r]=o,o};return Vw(e),{motionValues:t,get:n,stop:e}}function oI(t){return Array.isArray(t)}function An(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function ha(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function aI(t){return{type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}}function fa(){return{type:"keyframes",ease:"linear",duration:300}}function cI(t){return{type:"keyframes",duration:800,values:t}}const ph={default:aI,x:An,y:An,z:An,rotate:An,rotateX:An,rotateY:An,rotateZ:An,scaleX:ha,scaleY:ha,scale:ha,backgroundColor:fa,color:fa,opacity:fa};function Dp(t,e){let n;return oI(e)?n=cI:n=ph[t]||ph.default,{to:e,...n(e)}}const gh={...Ri,transform:Math.round},Np={color:ne,backgroundColor:ne,outlineColor:ne,fill:ne,stroke:ne,borderColor:ne,borderTopColor:ne,borderRightColor:ne,borderBottomColor:ne,borderLeftColor:ne,borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:Cn,rotateX:Cn,rotateY:Cn,rotateZ:Cn,scale:ns,scaleX:ns,scaleY:ns,scaleZ:ns,skew:Cn,skewX:Cn,skewY:Cn,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Yr,originX:ch,originY:ch,originZ:G,zIndex:gh,filter:sc,WebkitFilter:sc,fillOpacity:Yr,strokeOpacity:Yr,numOctaves:gh},fl=t=>Np[t];function Mp(t,e){return e&&typeof t=="number"&&e.transform?e.transform(t):t}function lI(t,e){let n=fl(t);return n!==sc&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uI={linear:wp,easeIn:ul,easeInOut:Ep,easeOut:OE,circIn:Ip,circInOut:kE,circOut:Tp,backIn:hl,backInOut:NE,backOut:DE,anticipate:ME,bounceIn:FE,bounceInOut:jE,bounceOut:Ps};function mh(t){if(Array.isArray(t)){const[e,n,r,i]=t;return tI(e,n,r,i)}else if(typeof t=="string")return uI[t];return t}function hI(t){return Array.isArray(t)&&typeof t[0]!="number"}function yh(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Pi.test(e)&&!e.startsWith("url("))}function fI(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function dI({ease:t,times:e,delay:n,...r}){const i={...r};return e&&(i.offset=e),t&&(i.ease=hI(t)?t.map(mh):mh(t)),n&&(i.elapsed=-n),i}function pI(t,e,n){return Array.isArray(e.to)&&(t.duration||(t.duration=800)),fI(e),gI(t)||(t={...t,...Dp(n,e.to)}),{...e,...dI(t)}}function gI({delay:t,repeat:e,repeatType:n,repeatDelay:r,from:i,...s}){return!!Object.keys(s).length}function mI(t,e){return t[e]||t.default||t}function yI(t,e,n,r,i){const s=mI(r,t);let o=s.from===null||s.from===void 0?e.get():s.from;const a=yh(t,n);o==="none"&&a&&typeof n=="string"&&(o=lI(t,n));const c=yh(t,o);function l(h){const d={from:o,to:n,velocity:r.velocity?r.velocity:e.getVelocity(),onUpdate:g=>e.set(g)};return s.type==="inertia"||s.type==="decay"?GE({...d,...s}):_p({...pI(s,d,t),onUpdate:g=>{d.onUpdate(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{r.onComplete&&r.onComplete(),i&&i(),h&&h()}})}function u(h){return e.set(n),r.onComplete&&r.onComplete(),i&&i(),h&&h(),{stop:()=>{}}}return!c||!a||s.type===!1?u:l}function vI(){const{motionValues:t,stop:e,get:n}=sI();return{motionValues:t,stop:e,push:(r,i,s,o={},a)=>{const c=s[r],l=n(r,c,s);if(o&&o.immediate){l.set(i);return}const u=yI(r,l,i,o,a);l.start(u)}}}function bI(t,e={},{motionValues:n,push:r,stop:i}=vI()){const s=fe(e),o=ve(!1);Gt(n,l=>{o.value=Object.values(l).filter(u=>u.isAnimating()).length>0},{immediate:!0,deep:!0});const a=l=>{if(!s||!s[l])throw new Error(`The variant ${l} does not exist.`);return s[l]},c=l=>(typeof l=="string"&&(l=a(l)),Promise.all(Object.entries(l).map(([u,h])=>{if(u!=="transition")return new Promise(d=>r(u,h,t,l.transition||Dp(u,l[u]),d))}).filter(Boolean)));return{isAnimating:o,apply:c,set:l=>{const u=Ya(l)?l:a(l);Object.entries(u).forEach(([h,d])=>{h!=="transition"&&r(h,d,t,{immediate:!0})})},leave:async l=>{let u;if(s&&(s.leave&&(u=s.leave),!s.leave&&s.initial&&(u=s.initial)),!u){l();return}await c(u),l()},stop:i}}const dl=typeof window<"u",wI=()=>dl&&window.onpointerdown===null,EI=()=>dl&&window.ontouchstart===null,II=()=>dl&&window.onmousedown===null;function TI({target:t,state:e,variants:n,apply:r}){const i=fe(n),s=ve(!1),o=ve(!1),a=ve(!1),c=wt(()=>{let u=[];return i&&(i.hovered&&(u=[...u,...Object.keys(i.hovered)]),i.tapped&&(u=[...u,...Object.keys(i.tapped)]),i.focused&&(u=[...u,...Object.keys(i.focused)])),u}),l=wt(()=>{const u={};Object.assign(u,e.value),s.value&&i.hovered&&Object.assign(u,i.hovered),o.value&&i.tapped&&Object.assign(u,i.tapped),a.value&&i.focused&&Object.assign(u,i.focused);for(const h in u)c.value.includes(h)||delete u[h];return u});i.hovered&&(we(t,"mouseenter",()=>s.value=!0),we(t,"mouseleave",()=>{s.value=!1,o.value=!1}),we(t,"mouseout",()=>{s.value=!1,o.value=!1})),i.tapped&&(II()&&(we(t,"mousedown",()=>o.value=!0),we(t,"mouseup",()=>o.value=!1)),wI()&&(we(t,"pointerdown",()=>o.value=!0),we(t,"pointerup",()=>o.value=!1)),EI()&&(we(t,"touchstart",()=>o.value=!0),we(t,"touchend",()=>o.value=!1))),i.focused&&(we(t,"focus",()=>a.value=!0),we(t,"blur",()=>a.value=!1)),Gt(l,r)}function SI({set:t,target:e,variants:n,variant:r}){const i=fe(n);Gt(()=>e,()=>{i&&(i.initial&&t("initial"),i.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function _I({state:t,apply:e}){Gt(t,n=>{n&&e(n)},{immediate:!0})}function CI({target:t,variants:e,variant:n}){const r=fe(e);r&&(r.visible||r.visibleOnce)&&$w(t,([{isIntersecting:i}])=>{r.visible?i?n.value="visible":n.value="initial":r.visibleOnce&&(i&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function AI(t,e={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){e.lifeCycleHooks&&SI(t),e.syncVariants&&_I(t),e.visibilityHooks&&CI(t),e.eventListeners&&TI(t)}function Rp(t={}){const e=nn({...t}),n=ve({});return Gt(e,()=>{const r={};for(const[i,s]of Object.entries(e)){const o=fl(i),a=Mp(s,o);r[i]=a}n.value=r},{immediate:!0,deep:!0}),{state:e,style:n}}function pl(t,e){Gt(()=>Qr(t),n=>{n&&e(n)},{immediate:!0})}const xI={x:"translateX",y:"translateY",z:"translateZ"};function Pp(t={},e=!0){const n=nn({...t}),r=ve("");return Gt(n,i=>{let s="",o=!1;if(e&&(i.x||i.y||i.z)){const a=[i.x||0,i.y||0,i.z||0].map(G.transform).join(",");s+=`translate3d(${a}) `,o=!0}for(const[a,c]of Object.entries(i)){if(e&&(a==="x"||a==="y"||a==="z"))continue;const l=fl(a),u=Mp(c,l);s+=`${xI[a]||a}(${u}) `}e&&!o&&(s+="translateZ(0px) "),r.value=s.trim()},{immediate:!0,deep:!0}),{state:n,transform:r}}const OI=["","X","Y","Z"],kI=["perspective","translate","scale","rotate","skew"],Lp=["transformPerspective","x","y","z"];kI.forEach(t=>{OI.forEach(e=>{const n=t+e;Lp.push(n)})});const DI=new Set(Lp);function gl(t){return DI.has(t)}const NI=new Set(["originX","originY","originZ"]);function Fp(t){return NI.has(t)}function MI(t){const e={},n={};return Object.entries(t).forEach(([r,i])=>{gl(r)||Fp(r)?e[r]=i:n[r]=i}),{transform:e,style:n}}function jp(t){const{transform:e,style:n}=MI(t),{transform:r}=Pp(e),{style:i}=Rp(n);return r.value&&(i.value.transform=r.value),i.value}function RI(t,e){let n,r;const{state:i,style:s}=Rp();return pl(t,o=>{r=o;for(const a of Object.keys(Np))o.style[a]===null||o.style[a]===""||gl(a)||Fp(a)||(i[a]=o.style[a]);n&&Object.entries(n).forEach(([a,c])=>o.style[a]=c),e&&e(i)}),Gt(s,o=>{if(!r){n=o;return}for(const a in o)r.style[a]=o[a]},{immediate:!0}),{style:i}}function PI(t){const e=t.trim().split(/\) |\)/);if(e.length===1)return{};const n=r=>r.endsWith("px")||r.endsWith("deg")?parseFloat(r):isNaN(Number(r))?Number(r):r;return e.reduce((r,i)=>{if(!i)return r;const[s,o]=i.split("("),a=o.split(",").map(l=>n(l.endsWith(")")?l.replace(")",""):l.trim())),c=a.length===1?a[0]:a;return{...r,[s]:c}},{})}function LI(t,e){Object.entries(PI(e)).forEach(([n,r])=>{const i=["x","y","z"];if(n==="translate3d"){if(r===0){i.forEach(s=>t[s]=0);return}r.forEach((s,o)=>t[i[o]]=s);return}if(r=parseFloat(r),n==="translateX"){t.x=r;return}if(n==="translateY"){t.y=r;return}if(n==="translateZ"){t.z=r;return}t[n]=r})}function FI(t,e){let n,r;const{state:i,transform:s}=Pp();return pl(t,o=>{r=o,o.style.transform&&LI(i,o.style.transform),n&&(o.style.transform=n),e&&e(i)}),Gt(s,o=>{if(!r){n=o;return}r.style.transform=o},{immediate:!0}),{transform:i}}function jI(t,e){const n=nn({}),r=o=>Object.entries(o).forEach(([a,c])=>n[a]=c),{style:i}=RI(t,r),{transform:s}=FI(t,r);return Gt(n,o=>{Object.entries(o).forEach(([a,c])=>{const l=gl(a)?s:i;l[a]&&l[a]===c||(l[a]=c)})},{immediate:!0,deep:!0}),pl(t,()=>e&&r(e)),{motionProperties:n,style:i,transform:s}}function VI(t={}){const e=fe(t),n=ve();return{state:wt(()=>{if(n.value)return e[n.value]}),variant:n}}function Vp(t,e={},n){const{motionProperties:r}=jI(t),{variant:i,state:s}=VI(e),o=bI(r,e),a={target:t,variant:i,variants:e,state:s,motionProperties:r,...o};return AI(a,n),a}const UI=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"];function BI(t,e){const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};n&&(n.variants&&Ya(n.variants)&&(e.value={...e.value,...n.variants}),UI.forEach(r=>{if(r==="delay"){if(n&&n[r]&&typeof n[r]=="number"){const i=n[r];e&&e.value&&(e.value.enter&&(e.value.enter.transition||(e.value.enter.transition={}),e.value.enter.transition={delay:i,...e.value.enter.transition}),e.value.visible&&(e.value.visible.transition||(e.value.visible.transition={}),e.value.visible.transition={delay:i,...e.value.visible.transition}),e.value.visibleOnce&&(e.value.visibleOnce.transition||(e.value.visibleOnce.transition={}),e.value.visibleOnce.transition={delay:i,...e.value.visibleOnce.transition}))}return}r==="visible-once"&&(r="visibleOnce"),n&&n[r]&&Ya(n[r])&&(e.value[r]=n[r])}))}function da(t){return{created:(e,n,r)=>{const i=n.value&&typeof n.value=="string"?n.value:r.key;i&&ua[i]&&ua[i].stop();const s=ve(t||{});typeof n.value=="object"&&(s.value=n.value),BI(r,s);const o=Vp(e,s);e.motionInstance=o,i&&(ua[i]=o)},getSSRProps(e,n){let{initial:r}=e.value||n&&(n==null?void 0:n.props)||{};r=fe(r);const i=Pw((t==null?void 0:t.initial)||{},r||{});return!i||Object.keys(i).length===0?void 0:{style:jp(i)}}}}const $I={initial:{opacity:0},enter:{opacity:1}},qI={initial:{opacity:0},visible:{opacity:1}},zI={initial:{opacity:0},visibleOnce:{opacity:1}},HI={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},KI={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},GI={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},WI={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},QI={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},XI={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},YI={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},JI={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},ZI={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},tT={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},eT={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},nT={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rT={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},iT={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},sT={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},oT={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},aT={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},cT={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},lT={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},uT={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},hT={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},fT={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},dT={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},pT={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},gT={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},mT={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},yT={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},oc={__proto__:null,fade:$I,fadeVisible:qI,fadeVisibleOnce:zI,pop:HI,popVisible:KI,popVisibleOnce:GI,rollBottom:rT,rollLeft:WI,rollRight:YI,rollTop:tT,rollVisibleBottom:iT,rollVisibleLeft:QI,rollVisibleOnceBottom:sT,rollVisibleOnceLeft:XI,rollVisibleOnceRight:ZI,rollVisibleOnceTop:nT,rollVisibleRight:JI,rollVisibleTop:eT,slideBottom:gT,slideLeft:oT,slideRight:lT,slideTop:fT,slideVisibleBottom:mT,slideVisibleLeft:aT,slideVisibleOnceBottom:yT,slideVisibleOnceLeft:cT,slideVisibleOnceRight:hT,slideVisibleOnceTop:pT,slideVisibleRight:uT,slideVisibleTop:dT},vT=Yc({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var e;const n=D1(),r=nn({});if(!t.is&&!n.default)return()=>Rs("div",{});const i=wt(()=>{let c;return t.preset&&(c=oc[t.preset]),c}),s=wt(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),o=wt(()=>{const c={...s.value,...i.value||{},...t.variants||{}};return t.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(t.delay)),c}),a=wt(()=>{if(!t.is)return;let c=t.is;return typeof a.value=="string"&&!vb(c)&&(c=Pd(c)),c});if(((e=process==null?void 0:process.env)==null?void 0:e.NODE_ENV)==="development"||process!=null&&process.dev){const c=l=>{var u;(u=l.variants)!=null&&u.initial&&l.set("initial"),setTimeout(()=>{var h,d,g;(h=l.variants)!=null&&h.enter&&l.apply("enter"),(d=l.variants)!=null&&d.visible&&l.apply("visible"),(g=l.variants)!=null&&g.visibleOnce&&l.apply("visibleOnce")},10)};Md(()=>Object.entries(r).forEach(([l,u])=>c(u)))}return{slots:n,component:a,motionConfig:o,instances:r}},render({slots:t,motionConfig:e,instances:n,component:r}){var i;const s=jp(e.initial||{}),o=(a,c)=>(a.props||(a.props={}),a.props.style=s,a.props.onVnodeMounted=({el:l})=>{const u=Vp(l,e);n[c]=u},a);if(r){const a=Rs(r,void 0,t);return o(a,0),a}return(((i=t.default)==null?void 0:i.call(t))||[]).map((a,c)=>o(a,c))}});function bT(t){const e="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",r=new RegExp(e.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,i=>`-${i}`).toLowerCase().replace(/\s+/g,"-").replace(r,i=>n.charAt(e.indexOf(i))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const wT={install(t,e){if(t.directive("motion",da()),t.component("Motion",vT),!e||e&&!e.excludePresets)for(const n in oc){const r=oc[n];t.directive(`motion-${bT(n)}`,da(r))}if(e&&e.directives)for(const n in e.directives){const r=e.directives[n];!r.initial&&__DEV__&&console.warn(`Your directive v-motion-${n} is missing initial variant!`),t.directive(`motion-${n}`,da(r))}}},ml=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},ET={};function IT(t,e){const n=Pd("RouterView");return Mt(),Kd(n)}const TT=ml(ET,[["render",IT]]);/*!
* vue-router v4.2.2
* (c) 2023 Eduardo San Martin Morote
* @license MIT
*/const rr=typeof window<"u";function ST(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const st=Object.assign;function pa(t,e){const n={};for(const r in e){const i=e[r];n[r]=Ae(i)?i.map(t):t(i)}return n}const Zr=()=>{},Ae=Array.isArray,_T=/\/$/,CT=t=>t.replace(_T,"");function ga(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=kT(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function AT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function vh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function xT(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&mr(e.matched[r],n.matched[i])&&Up(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Up(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!OT(t[n],e[n]))return!1;return!0}function OT(t,e){return Ae(t)?bh(t,e):Ae(e)?bh(e,t):t===e}function bh(t,e){return Ae(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function kT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var gi;(function(t){t.pop="pop",t.push="push"})(gi||(gi={}));var ti;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ti||(ti={}));function DT(t){if(!t)if(rr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),CT(t)}const NT=/^[^#]+#/;function MT(t,e){return t.replace(NT,"#")+e}function RT(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const bo=()=>({left:window.pageXOffset,top:window.pageYOffset});function PT(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=RT(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function wh(t,e){return(history.state?history.state.position-e:-1)+t}const ac=new Map;function LT(t,e){ac.set(t,e)}function FT(t){const e=ac.get(t);return ac.delete(t),e}let jT=()=>location.protocol+"//"+location.host;function Bp(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),vh(a,"")}return vh(n,t)+r+i}function VT(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const g=Bp(t,location),b=n.value,T=e.value;let A=0;if(d){if(n.value=g,e.value=d,o&&o===b){o=null;return}A=T?d.position-T.position:0}else r(g);i.forEach(x=>{x(n.value,b,{delta:A,type:gi.pop,direction:A?A>0?ti.forward:ti.back:ti.unknown})})};function c(){o=n.value}function l(d){i.push(d);const g=()=>{const b=i.indexOf(d);b>-1&&i.splice(b,1)};return s.push(g),g}function u(){const{history:d}=window;d.state&&d.replaceState(st({},d.state,{scroll:bo()}),"")}function h(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function Eh(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?bo():null}}function UT(t){const{history:e,location:n}=window,r={value:Bp(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:jT()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),i.value=l}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function o(c,l){const u=st({},e.state,Eh(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});s(c,u,!0),r.value=c}function a(c,l){const u=st({},i.value,e.state,{forward:c,scroll:bo()});s(u.current,u,!0);const h=st({},Eh(r.value,c,null),{position:u.position+1},l);s(c,h,!1),r.value=c}return{location:r,state:i,push:a,replace:o}}function BT(t){t=DT(t);const e=UT(t),n=VT(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=st({location:"",base:t,go:r,createHref:MT.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function $T(t){return typeof t=="string"||t&&typeof t=="object"}function $p(t){return typeof t=="string"||typeof t=="symbol"}const on={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qp=Symbol("");var Ih;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ih||(Ih={}));function yr(t,e){return st(new Error,{type:t,[qp]:!0},e)}function He(t,e){return t instanceof Error&&qp in t&&(e==null||!!(t.type&e))}const Th="[^/]+?",qT={sensitive:!1,strict:!1,start:!0,end:!0},zT=/[.+*?^${}()[\]/\\]/g;function HT(t,e){const n=st({},qT,e),r=[];let i=n.start?"^":"";const s=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let h=0;h<l.length;h++){const d=l[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(zT,"\\$&"),g+=40;else if(d.type===1){const{value:b,repeatable:T,optional:A,regexp:x}=d;s.push({name:b,repeatable:T,optional:A});const O=x||Th;if(O!==Th){g+=10;try{new RegExp(`(${O})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${b}" (${O}): `+_.message)}}let R=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;h||(R=A&&l.length<2?`(?:/${R})`:"/"+R),A&&(R+="?"),i+=R,g+=20,A&&(g+=-8),T&&(g+=-20),O===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",b=s[d-1];h[b.name]=g&&b.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:b,repeatable:T,optional:A}=g,x=b in l?l[b]:"";if(Ae(x)&&!T)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const O=Ae(x)?x.join("/"):x;if(!O)if(A)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);u+=O}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function KT(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function GT(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=KT(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Sh(r))return 1;if(Sh(i))return-1}return i.length-r.length}function Sh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const WT={type:0,value:""},QT=/[a-zA-Z0-9_]/;function XT(t){if(!t)return[[]];if(t==="/")return[[WT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,l="",u="";function h(){l&&(n===0?s.push({type:0,value:l}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:QT.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),i}function YT(t,e,n){const r=HT(XT(t.path),n),i=st(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function JT(t,e){const n=[],r=new Map;e=Ah({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function s(u,h,d){const g=!d,b=ZT(u);b.aliasOf=d&&d.record;const T=Ah(e,u),A=[b];if("alias"in u){const R=typeof u.alias=="string"?[u.alias]:u.alias;for(const _ of R)A.push(st({},b,{components:d?d.record.components:b.components,path:_,aliasOf:d?d.record:b}))}let x,O;for(const R of A){const{path:_}=R;if(h&&_[0]!=="/"){const z=h.record.path,Y=z[z.length-1]==="/"?"":"/";R.path=h.record.path+(_&&Y+_)}if(x=YT(R,h,T),d?d.alias.push(x):(O=O||x,O!==x&&O.alias.push(x),g&&u.name&&!Ch(x)&&o(u.name)),b.children){const z=b.children;for(let Y=0;Y<z.length;Y++)s(z[Y],x,d&&d.children[Y])}d=d||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&c(x)}return O?()=>{o(O)}:Zr}function o(u){if($p(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&GT(u,n[h])>=0&&(u.record.path!==n[h].record.path||!zp(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Ch(u)&&r.set(u.record.name,u)}function l(u,h){let d,g={},b,T;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw yr(1,{location:u});T=d.record.name,g=st(_h(h.params,d.keys.filter(O=>!O.optional).map(O=>O.name)),u.params&&_h(u.params,d.keys.map(O=>O.name))),b=d.stringify(g)}else if("path"in u)b=u.path,d=n.find(O=>O.re.test(b)),d&&(g=d.parse(b),T=d.record.name);else{if(d=h.name?r.get(h.name):n.find(O=>O.re.test(h.path)),!d)throw yr(1,{location:u,currentLocation:h});T=d.record.name,g=st({},h.params,u.params),b=d.stringify(g)}const A=[];let x=d;for(;x;)A.unshift(x.record),x=x.parent;return{name:T,path:b,params:g,matched:A,meta:eS(A)}}return t.forEach(u=>s(u)),{addRoute:s,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function _h(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ZT(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:tS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function tS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Ch(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function eS(t){return t.reduce((e,n)=>st(e,n.meta),{})}function Ah(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function zp(t,e){return e.children.some(n=>n===t||zp(t,n))}const Hp=/#/g,nS=/&/g,rS=/\//g,iS=/=/g,sS=/\?/g,Kp=/\+/g,oS=/%5B/g,aS=/%5D/g,Gp=/%5E/g,cS=/%60/g,Wp=/%7B/g,lS=/%7C/g,Qp=/%7D/g,uS=/%20/g;function yl(t){return encodeURI(""+t).replace(lS,"|").replace(oS,"[").replace(aS,"]")}function hS(t){return yl(t).replace(Wp,"{").replace(Qp,"}").replace(Gp,"^")}function cc(t){return yl(t).replace(Kp,"%2B").replace(uS,"+").replace(Hp,"%23").replace(nS,"%26").replace(cS,"`").replace(Wp,"{").replace(Qp,"}").replace(Gp,"^")}function fS(t){return cc(t).replace(iS,"%3D")}function dS(t){return yl(t).replace(Hp,"%23").replace(sS,"%3F")}function pS(t){return t==null?"":dS(t).replace(rS,"%2F")}function Fs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function gS(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Kp," "),s=i.indexOf("="),o=Fs(s<0?i:i.slice(0,s)),a=s<0?null:Fs(i.slice(s+1));if(o in e){let c=e[o];Ae(c)||(c=e[o]=[c]),c.push(a)}else e[o]=a}return e}function xh(t){let e="";for(let n in t){const r=t[n];if(n=fS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ae(r)?r.map(i=>i&&cc(i)):[r&&cc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function mS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Ae(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const yS=Symbol(""),Oh=Symbol(""),vl=Symbol(""),Xp=Symbol(""),lc=Symbol("");function Fr(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function cn(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(yr(4,{from:n,to:e})):h instanceof Error?a(h):$T(h)?a(yr(2,{from:e,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},l=t.call(r&&r.instances[i],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function ma(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(vS(a)){const c=(a.__vccOpts||a)[e];c&&i.push(cn(c,n,r,s,o))}else{let c=a();i.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=ST(l)?l.default:l;s.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&cn(h,n,r,s,o)()}))}}return i}function vS(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kh(t){const e=Qe(vl),n=Qe(Xp),r=wt(()=>e.resolve(fe(t.to))),i=wt(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(mr.bind(null,u));if(d>-1)return d;const g=Dh(c[l-2]);return l>1&&Dh(u)===g&&h[h.length-1].path!==g?h.findIndex(mr.bind(null,c[l-2])):d}),s=wt(()=>i.value>-1&&IS(n.params,r.value.params)),o=wt(()=>i.value>-1&&i.value===n.matched.length-1&&Up(n.params,r.value.params));function a(c={}){return ES(c)?e[fe(t.replace)?"replace":"push"](fe(t.to)).catch(Zr):Promise.resolve()}return{route:r,href:wt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const bS=Yc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kh,setup(t,{slots:e}){const n=nn(kh(t)),{options:r}=Qe(vl),i=wt(()=>({[Nh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Nh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Rs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),wS=bS;function ES(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function IS(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ae(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Dh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Nh=(t,e,n)=>t??e??n,TS=Yc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Qe(lc),i=wt(()=>t.route||r.value),s=Qe(Oh,0),o=wt(()=>{let l=fe(s);const{matched:u}=i.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=wt(()=>i.value.matched[o.value]);ms(Oh,wt(()=>o.value+1)),ms(yS,a),ms(lc,i);const c=ve();return Gt(()=>[c.value,a.value,t.name],([l,u,h],[d,g,b])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!mr(u,g)||!d)&&(u.enterCallbacks[h]||[]).forEach(T=>T(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Mh(n.default,{Component:d,route:l});const g=h.props[u],b=g?g===!0?l.params:typeof g=="function"?g(l):g:null,T=Rs(d,st({},b,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return Mh(n.default,{Component:T,route:l})||T}}});function Mh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const SS=TS;function _S(t){const e=JT(t.routes,t),n=t.parseQuery||gS,r=t.stringifyQuery||xh,i=t.history,s=Fr(),o=Fr(),a=Fr(),c=Yb(on);let l=on;rr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pa.bind(null,v=>""+v),h=pa.bind(null,pS),d=pa.bind(null,Fs);function g(v,L){let N,V;return $p(v)?(N=e.getRecordMatcher(v),V=L):V=v,e.addRoute(V,N)}function b(v){const L=e.getRecordMatcher(v);L&&e.removeRoute(L)}function T(){return e.getRoutes().map(v=>v.record)}function A(v){return!!e.getRecordMatcher(v)}function x(v,L){if(L=st({},L||c.value),typeof v=="string"){const m=ga(n,v,L.path),y=e.resolve({path:m.path},L),w=i.createHref(m.fullPath);return st(m,y,{params:d(y.params),hash:Fs(m.hash),redirectedFrom:void 0,href:w})}let N;if("path"in v)N=st({},v,{path:ga(n,v.path,L.path).path});else{const m=st({},v.params);for(const y in m)m[y]==null&&delete m[y];N=st({},v,{params:h(m)}),L.params=h(L.params)}const V=e.resolve(N,L),rt=v.hash||"";V.params=u(d(V.params));const f=AT(r,st({},v,{hash:hS(rt),path:V.path})),p=i.createHref(f);return st({fullPath:f,hash:rt,query:r===xh?mS(v.query):v.query||{}},V,{redirectedFrom:void 0,href:p})}function O(v){return typeof v=="string"?ga(n,v,c.value.path):st({},v)}function R(v,L){if(l!==v)return yr(8,{from:L,to:v})}function _(v){return pt(v)}function z(v){return _(st(O(v),{replace:!0}))}function Y(v){const L=v.matched[v.matched.length-1];if(L&&L.redirect){const{redirect:N}=L;let V=typeof N=="function"?N(v):N;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=O(V):{path:V},V.params={}),st({query:v.query,hash:v.hash,params:"path"in V?{}:v.params},V)}}function pt(v,L){const N=l=x(v),V=c.value,rt=v.state,f=v.force,p=v.replace===!0,m=Y(N);if(m)return pt(st(O(m),{state:typeof m=="object"?st({},rt,m.state):rt,force:f,replace:p}),L||N);const y=N;y.redirectedFrom=L;let w;return!f&&xT(r,V,N)&&(w=yr(16,{to:y,from:V}),ze(V,V,!0,!1)),(w?Promise.resolve(w):pe(y,V)).catch(E=>He(E)?He(E,2)?E:qe(E):ae(E,y,V)).then(E=>{if(E){if(He(E,2))return pt(st({replace:p},O(E.to),{state:typeof E.to=="object"?st({},rt,E.to.state):rt,force:f}),L||y)}else E=Be(y,V,!0,p,rt);return xe(y,V,E),E})}function Vt(v,L){const N=R(v,L);return N?Promise.reject(N):Promise.resolve()}function St(v){const L=Jn.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(v):v()}function pe(v,L){let N;const[V,rt,f]=CS(v,L);N=ma(V.reverse(),"beforeRouteLeave",v,L);for(const m of V)m.leaveGuards.forEach(y=>{N.push(cn(y,v,L))});const p=Vt.bind(null,v,L);return N.push(p),Ut(N).then(()=>{N=[];for(const m of s.list())N.push(cn(m,v,L));return N.push(p),Ut(N)}).then(()=>{N=ma(rt,"beforeRouteUpdate",v,L);for(const m of rt)m.updateGuards.forEach(y=>{N.push(cn(y,v,L))});return N.push(p),Ut(N)}).then(()=>{N=[];for(const m of v.matched)if(m.beforeEnter&&!L.matched.includes(m))if(Ae(m.beforeEnter))for(const y of m.beforeEnter)N.push(cn(y,v,L));else N.push(cn(m.beforeEnter,v,L));return N.push(p),Ut(N)}).then(()=>(v.matched.forEach(m=>m.enterCallbacks={}),N=ma(f,"beforeRouteEnter",v,L),N.push(p),Ut(N))).then(()=>{N=[];for(const m of o.list())N.push(cn(m,v,L));return N.push(p),Ut(N)}).catch(m=>He(m,8)?m:Promise.reject(m))}function xe(v,L,N){for(const V of a.list())St(()=>V(v,L,N))}function Be(v,L,N,V,rt){const f=R(v,L);if(f)return f;const p=L===on,m=rr?history.state:{};N&&(V||p?i.replace(v.fullPath,st({scroll:p&&m&&m.scroll},rt)):i.push(v.fullPath,rt)),c.value=v,ze(v,L,N,p),qe()}let ge;function $e(){ge||(ge=i.listen((v,L,N)=>{if(!Qi.listening)return;const V=x(v),rt=Y(V);if(rt){pt(st(rt,{replace:!0}),V).catch(Zr);return}l=V;const f=c.value;rr&&LT(wh(f.fullPath,N.delta),bo()),pe(V,f).catch(p=>He(p,12)?p:He(p,2)?(pt(p.to,V).then(m=>{He(m,20)&&!N.delta&&N.type===gi.pop&&i.go(-1,!1)}).catch(Zr),Promise.reject()):(N.delta&&i.go(-N.delta,!1),ae(p,V,f))).then(p=>{p=p||Be(V,f,!1),p&&(N.delta&&!He(p,8)?i.go(-N.delta,!1):N.type===gi.pop&&He(p,20)&&i.go(-1,!1)),xe(V,f,p)}).catch(Zr)}))}let bt=Fr(),ut=Fr(),nt;function ae(v,L,N){qe(v);const V=ut.list();return V.length?V.forEach(rt=>rt(v,L,N)):console.error(v),Promise.reject(v)}function Mr(){return nt&&c.value!==on?Promise.resolve():new Promise((v,L)=>{bt.add([v,L])})}function qe(v){return nt||(nt=!v,$e(),bt.list().forEach(([L,N])=>v?N(v):L()),bt.reset()),v}function ze(v,L,N,V){const{scrollBehavior:rt}=t;if(!rr||!rt)return Promise.resolve();const f=!N&&FT(wh(v.fullPath,0))||(V||!N)&&history.state&&history.state.scroll||null;return Td().then(()=>rt(v,L,f)).then(p=>p&&PT(p)).catch(p=>ae(p,v,L))}const me=v=>i.go(v);let Yn;const Jn=new Set,Qi={currentRoute:c,listening:!0,addRoute:g,removeRoute:b,hasRoute:A,getRoutes:T,resolve:x,options:t,push:_,replace:z,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ut.add,isReady:Mr,install(v){const L=this;v.component("RouterLink",wS),v.component("RouterView",SS),v.config.globalProperties.$router=L,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(c)}),rr&&!Yn&&c.value===on&&(Yn=!0,_(i.location).catch(rt=>{}));const N={};for(const rt in on)N[rt]=wt(()=>c.value[rt]);v.provide(vl,L),v.provide(Xp,nn(N)),v.provide(lc,c);const V=v.unmount;Jn.add(v),v.unmount=function(){Jn.delete(v),Jn.size<1&&(l=on,ge&&ge(),ge=null,c.value=on,Yn=!1,nt=!1),V()}}};function Ut(v){return v.reduce((L,N)=>L.then(()=>St(N)),Promise.resolve())}return Qi}function CS(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(l=>mr(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>mr(l,c))||i.push(c))}return[n,r,i]}const mi={_origin:"https://api.emailjs.com"},AS=(t,e="https://api.emailjs.com")=>{mi._userID=t,mi._origin=e},Yp=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Rh{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Jp=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new Rh(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new Rh(o))}),s.open("POST",mi._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),xS=(t,e,n,r)=>{const i=r||mi._userID;return Yp(i,t,e),Jp("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},OS=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},kS=(t,e,n,r)=>{const i=r||mi._userID,s=OS(n);Yp(i,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),Jp("/api/v1.0/email/send-form",o)},DS={init:AS,send:xS,sendForm:kS};var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,bl=bl||{},q=NS||self;function wo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Li(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MS(t){return Object.prototype.hasOwnProperty.call(t,ya)&&t[ya]||(t[ya]=++RS)}var ya="closure_uid_"+(1e9*Math.random()>>>0),RS=0;function PS(t,e,n){return t.call.apply(t.bind,arguments)}function LS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=PS:Wt=LS,Wt.apply(null,arguments)}function is(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function In(){this.s=this.s,this.o=this.o}var FS=0;In.prototype.s=!1;In.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),FS!=0)&&MS(this)};In.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wl(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ph(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wo(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qt.prototype.h=function(){this.defaultPrevented=!0};var jS=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{q.addEventListener("test",()=>{},e),q.removeEventListener("test",()=>{},e)}catch{}return t}();function yi(t){return/^[\s\xa0]*$/.test(t)}function Eo(){var t=q.navigator;return t&&(t=t.userAgent)?t:""}function Me(t){return Eo().indexOf(t)!=-1}function El(t){return El[" "](t),t}El[" "]=function(){};function VS(t,e){var n=N_;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var US=Me("Opera"),vr=Me("Trident")||Me("MSIE"),tg=Me("Edge"),uc=tg||vr,eg=Me("Gecko")&&!(Eo().toLowerCase().indexOf("webkit")!=-1&&!Me("Edge"))&&!(Me("Trident")||Me("MSIE"))&&!Me("Edge"),BS=Eo().toLowerCase().indexOf("webkit")!=-1&&!Me("Edge");function ng(){var t=q.document;return t?t.documentMode:void 0}var hc;t:{var va="",ba=function(){var t=Eo();if(eg)return/rv:([^\);]+)(\)|;)/.exec(t);if(tg)return/Edge\/([\d\.]+)/.exec(t);if(vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BS)return/WebKit\/(\S+)/.exec(t);if(US)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ba&&(va=ba?ba[1]:""),vr){var wa=ng();if(wa!=null&&wa>parseFloat(va)){hc=String(wa);break t}}hc=va}var fc;if(q.document&&vr){var $S=ng();fc=$S||parseInt(hc,10)||void 0}else fc=void 0;var qS=fc;function vi(t,e){if(Qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eg){t:{try{El(e.nodeName);var i=!0;break t}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zS[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vi.$.h.call(this)}}Nt(vi,Qt);var zS={2:"touch",3:"pen",4:"mouse"};vi.prototype.h=function(){vi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fi="closure_listenable_"+(1e6*Math.random()|0),HS=0;function KS(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++HS,this.fa=this.ia=!1}function Io(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Il(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GS(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function rg(t){const e={};for(const n in t)e[n]=t[n];return e}const Lh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ig(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Lh.length;s++)n=Lh[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function To(t){this.src=t,this.g={},this.h=0}To.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=pc(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new KS(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function dc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Zp(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Io(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pc(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Tl="closure_lm_"+(1e6*Math.random()|0),Ea={};function sg(t,e,n,r,i){if(r&&r.once)return ag(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sg(t,e[s],n,r,i);return null}return n=Cl(n),t&&t[Fi]?t.O(e,n,Li(r)?!!r.capture:!!r,i):og(t,e,n,!1,r,i)}function og(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Li(i)?!!i.capture:!!i,a=_l(t);if(a||(t[Tl]=a=new To(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=WS(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jS||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lg(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function WS(){function t(n){return e.call(t.src,t.listener,n)}const e=QS;return t}function ag(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ag(t,e[s],n,r,i);return null}return n=Cl(n),t&&t[Fi]?t.P(e,n,Li(r)?!!r.capture:!!r,i):og(t,e,n,!0,r,i)}function cg(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cg(t,e[s],n,r,i);else r=Li(r)?!!r.capture:!!r,n=Cl(n),t&&t[Fi]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=pc(s,n,r,i),-1<n&&(Io(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_l(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pc(e,n,r,i)),(n=-1<t?e[t]:null)&&Sl(n))}function Sl(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Fi])dc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lg(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_l(e))?(dc(n,t),n.h==0&&(n.src=null,e[Tl]=null)):Io(t)}}}function lg(t){return t in Ea?Ea[t]:Ea[t]="on"+t}function QS(t,e){if(t.fa)t=!0;else{e=new vi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Sl(t),t=n.call(r,e)}return t}function _l(t){return t=t[Tl],t instanceof To?t:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cl(t){return typeof t=="function"?t:(t[Ia]||(t[Ia]=function(e){return t.handleEvent(e)}),t[Ia])}function kt(){In.call(this),this.i=new To(this),this.S=this,this.J=null}Nt(kt,In);kt.prototype[Fi]=!0;kt.prototype.removeEventListener=function(t,e,n,r){cg(this,t,e,n,r)};function Ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qt(e,t);else if(e instanceof Qt)e.target=e.target||t;else{var i=e;e=new Qt(r,t),ig(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ss(o,r,!0,e)&&i}if(o=e.g=t,i=ss(o,r,!0,e)&&i,i=ss(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ss(o,r,!1,e)&&i}kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Io(n[r]);delete t.g[e],t.h--}}this.J=null};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ss(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&dc(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Al=q.JSON.stringify;class XS{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function YS(){var t=xl;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JS{constructor(){this.h=this.g=null}add(e,n){const r=ug.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ug=new XS(()=>new ZS,t=>t.reset());class ZS{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function t_(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function e_(t){q.setTimeout(()=>{throw t},0)}let bi,wi=!1,xl=new JS,hg=()=>{const t=q.Promise.resolve(void 0);bi=()=>{t.then(n_)}};var n_=()=>{for(var t;t=YS();){try{t.h.call(t.g)}catch(n){e_(n)}var e=ug;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wi=!1};function So(t,e){kt.call(this),this.h=t||1,this.g=e||q,this.j=Wt(this.qb,this),this.l=Date.now()}Nt(So,kt);M=So.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(Ol(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ol(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){So.$.N.call(this),Ol(this),delete this.g};function kl(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:q.setTimeout(t,e||0)}function fg(t){t.g=kl(()=>{t.g=null,t.i&&(t.i=!1,fg(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class r_ extends In{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fg(this)}N(){super.N(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(t){In.call(this),this.h=t,this.g={}}Nt(Ei,In);var Fh=[];function dg(t,e,n,r){Array.isArray(n)||(n&&(Fh[0]=n.toString()),n=Fh);for(var i=0;i<n.length;i++){var s=sg(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pg(t){Il(t.g,function(e,n){this.g.hasOwnProperty(n)&&Sl(e)},t),t.g={}}Ei.prototype.N=function(){Ei.$.N.call(this),pg(this)};Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _o(){this.g=!0}_o.prototype.Ea=function(){this.g=!1};function i_(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function s_(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function sr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+a_(t,n)+(r?" "+r:"")})}function o_(t,e){t.info(function(){return"TIMEOUT: "+e})}_o.prototype.info=function(){};function a_(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Al(n)}catch{return e}}var Qn={},jh=null;function Co(){return jh=jh||new kt}Qn.Ta="serverreachability";function gg(t){Qt.call(this,Qn.Ta,t)}Nt(gg,Qt);function Ii(t){const e=Co();Ft(e,new gg(e))}Qn.STAT_EVENT="statevent";function mg(t,e){Qt.call(this,Qn.STAT_EVENT,t),this.stat=e}Nt(mg,Qt);function Jt(t){const e=Co();Ft(e,new mg(e,t))}Qn.Ua="timingevent";function yg(t,e){Qt.call(this,Qn.Ua,t),this.size=e}Nt(yg,Qt);function ji(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){t()},e)}var Ao={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dl(){}Dl.prototype.h=null;function Vh(t){return t.h||(t.h=t.i())}function bg(){}var Vi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nl(){Qt.call(this,"d")}Nt(Nl,Qt);function Ml(){Qt.call(this,"c")}Nt(Ml,Qt);var gc;function xo(){}Nt(xo,Dl);xo.prototype.g=function(){return new XMLHttpRequest};xo.prototype.i=function(){return{}};gc=new xo;function Ui(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ei(this),this.P=c_,t=uc?125:void 0,this.V=new So(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wg}function wg(){this.i=null,this.g="",this.h=!1}var c_=45e3,mc={},js={};M=Ui.prototype;M.setTimeout=function(t){this.P=t};function yc(t,e,n){t.L=1,t.v=ko(tn(e)),t.s=n,t.S=!0,Eg(t,null)}function Eg(t,e){t.G=Date.now(),Bi(t),t.A=tn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Og(n.i,"t",r),t.C=0,n=t.l.J,t.h=new wg,t.g=Xg(t.l,n?e:null,!t.s),0<t.O&&(t.M=new r_(Wt(t.Pa,t,t.g),t.O)),dg(t.U,t.g,"readystatechange",t.nb),e=t.I?rg(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ii(),i_(t.j,t.u,t.A,t.m,t.W,t.s)}M.nb=function(t){t=t.target;const e=this.M;e&&Re(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)t:{const u=Re(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||uc||this.g&&(this.h.h||this.g.ja()||qh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ii(3):Ii(2)),Oo(this);var n=this.g.da();this.ca=n;e:if(Ig(this)){var r=qh(this.g);t="";var i=r.length,s=Re(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),ei(this);var o="";break e}this.h.i=new q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,s_(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yi(a)){var l=a;break e}}l=null}if(n=l)sr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vc(this,n);else{this.i=!1,this.o=3,Jt(12),Rn(this),ei(this);break t}}this.S?(Tg(this,u,o),uc&&this.i&&u==3&&(dg(this.U,this.V,"tick",this.mb),this.V.start())):(sr(this.j,this.m,o,null),vc(this,o)),u==4&&Rn(this),this.i&&!this.J&&(u==4?Kg(this.l,this):(this.i=!1,Bi(this)))}else O_(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Jt(12)):(this.o=0,Jt(13)),Rn(this),ei(this)}}}catch{}finally{}};function Ig(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Tg(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=l_(t,n),i==js){e==4&&(t.o=4,Jt(14),r=!1),sr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==mc){t.o=4,Jt(15),sr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else sr(t.j,t.m,i,null),vc(t,i);Ig(t)&&i!=js&&i!=mc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vl(e),e.M=!0,Jt(11))):(sr(t.j,t.m,n,"[Invalid Chunked Response]"),Rn(t),ei(t))}M.mb=function(){if(this.g){var t=Re(this.g),e=this.g.ja();this.C<e.length&&(Oo(this),Tg(this,t,e),this.i&&t!=4&&Bi(this))}};function l_(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?js:(n=Number(e.substring(n,r)),isNaN(n)?mc:(r+=1,r+n>e.length?js:(e=e.slice(r,r+n),t.C=r+n,e)))}M.cancel=function(){this.J=!0,Rn(this)};function Bi(t){t.Y=Date.now()+t.P,Sg(t,t.P)}function Sg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ji(Wt(t.lb,t),e)}function Oo(t){t.B&&(q.clearTimeout(t.B),t.B=null)}M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(o_(this.j,this.A),this.L!=2&&(Ii(),Jt(17)),Rn(this),this.o=2,ei(this)):Sg(this,this.Y-t)};function ei(t){t.l.H==0||t.J||Kg(t.l,t)}function Rn(t){Oo(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ol(t.V),pg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function vc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bc(n.i,t))){if(!t.K&&bc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bs(n),Mo(n);else break t;jl(n),Jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ji(Wt(n.ib,n),6e3));if(1>=Ng(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pn(n,11)}else if((t.K||n.g==t)&&Bs(n),!yi(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const b=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Rl(s,s.h),s.h=null))}if(r.F){const T=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,ft(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Qg(r,r.J?r.pa:null,r.Y),o.K){Mg(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Oo(a),Bi(a)),r.g=o}else zg(r);0<n.j.length&&Ro(n)}else l[0]!="stop"&&l[0]!="close"||Pn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Pn(n,7):Fl(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ii(4)}catch{}}function u_(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function h_(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _g(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=h_(t),r=u_(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f_(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vn){this.h=t.h,Vs(this,t.j),this.s=t.s,this.g=t.g,Us(this,t.m),this.l=t.l;var e=t.i,n=new Ti;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Uh(this,n),this.o=t.o}else t&&(e=String(t).match(Cg))?(this.h=!1,Vs(this,e[1]||"",!0),this.s=qr(e[2]||""),this.g=qr(e[3]||"",!0),Us(this,e[4]),this.l=qr(e[5]||"",!0),Uh(this,e[6]||"",!0),this.o=qr(e[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Vn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zr(e,Bh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zr(e,Bh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zr(n,n.charAt(0)=="/"?g_:p_,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zr(n,y_)),t.join("")};function tn(t){return new Vn(t)}function Vs(t,e,n){t.j=n?qr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Us(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Uh(t,e,n){e instanceof Ti?(t.i=e,v_(t.i,t.h)):(n||(e=zr(e,m_)),t.i=new Ti(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function ko(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,d_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function d_(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Bh=/[#\/\?@]/g,p_=/[#\?:]/g,g_=/[#\?]/g,m_=/[#\?@]/g,y_=/#/g;function Ti(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tn(t){t.g||(t.g=new Map,t.h=0,t.i&&f_(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Ti.prototype;M.add=function(t,e){Tn(this),this.i=null,t=Or(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ag(t,e){Tn(t),e=Or(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xg(t,e){return Tn(t),e=Or(t,e),t.g.has(e)}M.forEach=function(t,e){Tn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){Tn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.Z=function(t){Tn(this);let e=[];if(typeof t=="string")xg(this,t)&&(e=e.concat(this.g.get(Or(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return Tn(this),this.i=null,t=Or(this,t),xg(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Og(t,e,n){Ag(t,e),0<n.length&&(t.i=null,t.g.set(Or(t,e),wl(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Or(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function v_(t,e){e&&!t.j&&(Tn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ag(this,r),Og(this,i,n))},t)),t.j=e}var b_=class{constructor(t,e){this.g=t,this.map=e}};function kg(t){this.l=t||w_,q.PerformanceNavigationTiming?(t=q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(q.g&&q.g.Ka&&q.g.Ka()&&q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var w_=10;function Dg(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ng(t){return t.h?1:t.g?t.g.size:0}function bc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Rl(t,e){t.g?t.g.add(e):t.h=e}function Mg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}kg.prototype.cancel=function(){if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Rg(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return wl(t.i)}var E_=class{stringify(t){return q.JSON.stringify(t,void 0)}parse(t){return q.JSON.parse(t,void 0)}};function I_(){this.g=new E_}function T_(t,e,n){const r=n||"";try{_g(t,function(i,s){let o=i;Li(i)&&(o=Al(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function S_(t,e){const n=new _o;if(q.Image){const r=new Image;r.onload=is(os,n,r,"TestLoadImage: loaded",!0,e),r.onerror=is(os,n,r,"TestLoadImage: error",!1,e),r.onabort=is(os,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=is(os,n,r,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function os(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $i(t){this.l=t.fc||null,this.j=t.ob||!1}Nt($i,Dl);$i.prototype.g=function(){return new Do(this.l,this.j)};$i.prototype.i=function(t){return function(){return t}}({});function Do(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Pl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(Do,kt);var Pl=0;M=Do.prototype;M.open=function(t,e){if(this.readyState!=Pl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Si(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=Pl};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pg(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Pg(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qi(this):Si(this),this.readyState==3&&Pg(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,qi(this))};M.Ya=function(t){this.g&&(this.response=t,qi(this))};M.ka=function(){this.g&&qi(this)};function qi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Si(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Si(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var __=q.JSON.parse;function vt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Lg,this.L=this.M=!1}Nt(vt,kt);var Lg="",C_=/^https?$/i,A_=["POST","PUT"];M=vt.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gc.g(),this.C=this.u?Vh(this.u):Vh(gc),this.g.onreadystatechange=Wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){$h(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=q.FormData&&t instanceof q.FormData,!(0<=Zp(A_,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vg(this),0<this.B&&((this.L=x_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.ua,this)):this.A=kl(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){$h(this,s)}};function x_(t){return vr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof bl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))};function $h(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fg(t),No(t)}function Fg(t){t.F||(t.F=!0,Ft(t,"complete"),Ft(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),No(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),No(this,!0)),vt.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?jg(this):this.kb())};M.kb=function(){jg(this)};function jg(t){if(t.h&&typeof bl<"u"&&(!t.C[1]||Re(t)!=4||t.da()!=2)){if(t.v&&Re(t)==4)kl(t.La,0,t);else if(Ft(t,"readystatechange"),Re(t)==4){t.h=!1;try{const o=t.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Cg)[1]||null;!i&&q.self&&q.self.location&&(i=q.self.location.protocol.slice(0,-1)),r=!C_.test(i?i.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var s=2<Re(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Fg(t)}}finally{No(t)}}}}function No(t,e){if(t.g){Vg(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function Vg(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(q.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function Re(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<Re(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),__(e)}};function qh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Lg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O_(t){const e={};t=(t.g&&2<=Re(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(yi(t[r]))continue;var n=t_(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}GS(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ug(t){let e="";return Il(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ll(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Ug(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function jr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bg(t){this.Ga=0,this.j=[],this.l=new _o,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jr("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jr("baseRetryDelayMs",5e3,t),this.hb=jr("retryDelaySeedMs",1e4,t),this.eb=jr("forwardChannelMaxRetries",2,t),this.xa=jr("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new kg(t&&t.concurrentRequestLimit),this.Ja=new I_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=Bg.prototype;M.ra=8;M.H=1;function Fl(t){if($g(t),t.H==3){var e=t.W++,n=tn(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),zi(t,n),e=new Ui(t,t.l,e),e.L=2,e.v=ko(tn(n)),n=!1,q.navigator&&q.navigator.sendBeacon)try{n=q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&q.Image&&(new Image().src=e.v,n=!0),n||(e.g=Xg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bi(e)}Wg(t)}function Mo(t){t.g&&(Vl(t),t.g.cancel(),t.g=null)}function $g(t){Mo(t),t.u&&(q.clearTimeout(t.u),t.u=null),Bs(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&q.clearTimeout(t.m),t.m=null)}function Ro(t){if(!Dg(t.i)&&!t.m){t.m=!0;var e=t.Na;bi||hg(),wi||(bi(),wi=!0),xl.add(e,t),t.C=0}}function k_(t,e){return Ng(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ji(Wt(t.Na,t,e),Gg(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ui(this,this.l,t);let s=this.s;if(this.U&&(s?(s=rg(s),ig(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break t}if(e===4096||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=qg(this,i,e),n=tn(this.I),ft(n,"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),zi(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ug(s)))+"&"+e:this.o&&Ll(n,this.o,s)),Rl(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,yc(i,n,null)):yc(i,n,e),this.H=2}}else this.H==3&&(t?zh(this,t):this.j.length==0||Dg(this.i)||zh(this))};function zh(t,e){var n;e?n=e.m:n=t.W++;const r=tn(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),zi(t,r),t.o&&t.s&&Ll(r,t.o,t.s),n=new Ui(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qg(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Rl(t.i,n),yc(n,r,e)}function zi(t,e){t.na&&Il(t.na,function(n,r){ft(e,r,n)}),t.h&&_g({},function(n,r){ft(e,r,n)})}function qg(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Wt(t.h.Va,t.h,t):null;t:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{T_(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,r}function zg(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bi||hg(),wi||(bi(),wi=!0),xl.add(e,t),t.A=0}}function jl(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ji(Wt(t.Ma,t),Gg(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,Hg(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ji(Wt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jt(10),Mo(this),Hg(this))};function Vl(t){t.B!=null&&(q.clearTimeout(t.B),t.B=null)}function Hg(t){t.g=new Ui(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=tn(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),zi(t,e),t.o&&t.s&&Ll(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ko(tn(e)),n.s=null,n.S=!0,Eg(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Mo(this),jl(this),Jt(19))};function Bs(t){t.v!=null&&(q.clearTimeout(t.v),t.v=null)}function Kg(t,e){var n=null;if(t.g==e){Bs(t),Vl(t),t.g=null;var r=2}else if(bc(t.i,e))n=e.F,Mg(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Co(),Ft(r,new yg(r,n)),Ro(t)}else zg(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&k_(t,e)||r==2&&jl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pn(t,5);break;case 4:Pn(t,10);break;case 3:Pn(t,6);break;default:Pn(t,2)}}}function Gg(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Wt(t.pb,t);n||(n=new Vn("//www.google.com/images/cleardot.gif"),q.location&&q.location.protocol=="http"||Vs(n,"https"),ko(n)),S_(n.toString(),r)}else Jt(2);t.H=0,t.h&&t.h.za(e),Wg(t),$g(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Jt(2)):(this.l.info("Failed to ping google.com"),Jt(1))};function Wg(t){if(t.H=0,t.ma=[],t.h){const e=Rg(t.i);(e.length!=0||t.j.length!=0)&&(Ph(t.ma,e),Ph(t.ma,t.j),t.i.i.length=0,wl(t.j),t.j.length=0),t.h.ya()}}function Qg(t,e,n){var r=n instanceof Vn?tn(n):new Vn(n);if(r.g!="")e&&(r.g=e+"."+r.g),Us(r,r.m);else{var i=q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vn(null);r&&Vs(s,r),e&&(s.g=e),i&&Us(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ft(r,n,e),ft(r,"VER",t.ra),zi(t,r),r}function Xg(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new vt(new $i({ob:!0})):new vt(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function Yg(){}M=Yg.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function $s(){if(vr&&!(10<=Number(qS)))throw Error("Environmental error: no available transport.")}$s.prototype.g=function(t,e){return new de(t,e)};function de(t,e){kt.call(this),this.g=new Bg(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new kr(this)}Nt(de,kt);de.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Qg(t,null,t.Y),Ro(t)};de.prototype.close=function(){Fl(this.g)};de.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Al(t),t=n);e.j.push(new b_(e.fb++,t)),e.H==3&&Ro(e)};de.prototype.N=function(){this.g.h=null,delete this.j,Fl(this.g),delete this.g,de.$.N.call(this)};function Jg(t){Nl.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nt(Jg,Nl);function Zg(){Ml.call(this),this.status=1}Nt(Zg,Ml);function kr(t){this.g=t}Nt(kr,Yg);kr.prototype.Ba=function(){Ft(this.g,"a")};kr.prototype.Aa=function(t){Ft(this.g,new Jg(t))};kr.prototype.za=function(t){Ft(this.g,new Zg)};kr.prototype.ya=function(){Ft(this.g,"b")};function D_(){this.blockSize=-1}function Ve(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nt(Ve,D_);Ve.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ta(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ve.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ta(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ta(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ta(this,r),i=0;break}}this.h=i,this.i+=e};Ve.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ot(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var N_={};function Ul(t){return-128<=t&&128>t?VS(t,function(e){return new ot([e|0],0>e?-1:0)}):new ot([t|0],0>t?-1:0)}function Pe(t){if(isNaN(t)||!isFinite(t))return ur;if(0>t)return Lt(Pe(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wc;return new ot(e,0)}function tm(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Lt(tm(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pe(Math.pow(e,8)),r=ur,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Pe(Math.pow(e,s)),r=r.R(s).add(Pe(o))):(r=r.R(n),r=r.add(Pe(o)))}return r}var wc=4294967296,ur=Ul(0),Ec=Ul(1),Hh=Ul(16777216);M=ot.prototype;M.ea=function(){if(ye(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wc+r)*e,e*=wc}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(We(this))return"0";if(ye(this))return"-"+Lt(this).toString(t);for(var e=Pe(Math.pow(t,6)),n=this,r="";;){var i=zs(n,e).g;n=qs(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,We(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function We(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ye(t){return t.h==-1}M.X=function(t){return t=qs(this,t),ye(t)?-1:We(t)?0:1};function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ot(n,~t.h).add(Ec)}M.abs=function(){return ye(this)?Lt(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ot(n,n[n.length-1]&-2147483648?-1:0)};function qs(t,e){return t.add(Lt(e))}M.R=function(t){if(We(this)||We(t))return ur;if(ye(this))return ye(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(ye(t))return Lt(this.R(Lt(t)));if(0>this.X(Hh)&&0>t.X(Hh))return Pe(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,as(n,2*r+2*i),n[2*r+2*i+1]+=s*c,as(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,as(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,as(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ot(n,0)};function as(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Vr(t,e){this.g=t,this.h=e}function zs(t,e){if(We(e))throw Error("division by zero");if(We(t))return new Vr(ur,ur);if(ye(t))return e=zs(Lt(t),e),new Vr(Lt(e.g),Lt(e.h));if(ye(e))return e=zs(t,Lt(e)),new Vr(Lt(e.g),e.h);if(30<t.g.length){if(ye(t)||ye(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ec,r=e;0>=r.X(t);)n=Kh(n),r=Kh(r);var i=er(n,1),s=er(r,1);for(r=er(r,2),n=er(n,2);!We(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=er(r,1),n=er(n,1)}return e=qs(t,i.R(e)),new Vr(i,e)}for(i=ur;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Pe(n),o=s.R(e);ye(o)||0<o.X(t);)n-=r,s=Pe(n),o=s.R(e);We(s)&&(s=Ec),i=i.add(s),t=qs(t,o)}return new Vr(i,t)}M.gb=function(t){return zs(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ot(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ot(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ot(n,this.h^t.h)};function Kh(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ot(n,t.h)}function er(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ot(i,t.h)}$s.prototype.createWebChannel=$s.prototype.g;de.prototype.send=de.prototype.u;de.prototype.open=de.prototype.m;de.prototype.close=de.prototype.close;Ao.NO_ERROR=0;Ao.TIMEOUT=8;Ao.HTTP_ERROR=6;vg.COMPLETE="complete";bg.EventType=Vi;Vi.OPEN="a";Vi.CLOSE="b";Vi.ERROR="c";Vi.MESSAGE="d";kt.prototype.listen=kt.prototype.O;vt.prototype.listenOnce=vt.prototype.P;vt.prototype.getLastError=vt.prototype.Sa;vt.prototype.getLastErrorCode=vt.prototype.Ia;vt.prototype.getStatus=vt.prototype.da;vt.prototype.getResponseJson=vt.prototype.Wa;vt.prototype.getResponseText=vt.prototype.ja;vt.prototype.send=vt.prototype.ha;vt.prototype.setWithCredentials=vt.prototype.Oa;Ve.prototype.digest=Ve.prototype.l;Ve.prototype.reset=Ve.prototype.reset;Ve.prototype.update=Ve.prototype.j;ot.prototype.add=ot.prototype.add;ot.prototype.multiply=ot.prototype.R;ot.prototype.modulo=ot.prototype.gb;ot.prototype.compare=ot.prototype.X;ot.prototype.toNumber=ot.prototype.ea;ot.prototype.toString=ot.prototype.toString;ot.prototype.getBits=ot.prototype.D;ot.fromNumber=Pe;ot.fromString=tm;var M_=function(){return new $s},R_=function(){return Co()},Sa=Ao,P_=vg,L_=Qn,Gh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},F_=$i,cs=bg,j_=vt,V_=ot;const Wh="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Dr="9.22.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kn=new xc("@firebase/firestore");function Qh(){return Kn.logLevel}function B(t,...e){if(Kn.logLevel<=it.DEBUG){const n=e.map(Bl);Kn.debug(`Firestore (${Dr}): ${t}`,...n)}}function Gn(t,...e){if(Kn.logLevel<=it.ERROR){const n=e.map(Bl);Kn.error(`Firestore (${Dr}): ${t}`,...n)}}function Hs(t,...e){if(Kn.logLevel<=it.WARN){const n=e.map(Bl);Kn.warn(`Firestore (${Dr}): ${t}`,...n)}}function Bl(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Z(t="Unexpected state"){const e=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function Dt(t,e){t||Z()}function dt(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends En{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Un{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class em{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class B_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $_{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt(typeof r.accessToken=="string"),new em(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(e===null||typeof e=="string"),new $t(e)}}class q_{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class z_{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new q_(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Dt(typeof n.token=="string"),this.T=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G_(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nm{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=G_(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function br(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mt(e)}static min(){return new mt(new xt(0,0))}static max(){return new mt(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _i{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends _i{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const W_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends _i{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return W_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.path=e}static fromPath(e){return new Q(yt.fromString(e))}static fromName(e){return new Q(yt.fromString(e).popFirst(5))}static empty(){return new Q(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new yt(e.slice()))}}function Q_(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=mt.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new vn(i,Q.empty(),e)}function X_(t){return new vn(t.readTime,t.key,-1)}class vn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vn(mt.min(),Q.empty(),-1)}static max(){return new vn(mt.max(),Q.empty(),-1)}}function Y_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rm(t){if(t.code!==S.FAILED_PRECONDITION||t.message!==J_)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new C((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Po(t){return t.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}im.ct=-1;function $l(t){return t==null}function Ks(t){return t===0&&1/t==-1/0}function tC(t){return typeof t=="number"&&Number.isInteger(t)&&!Ks(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oe{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ls(this.root,e,this.comparator,!0)}}class ls{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zt{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yh(this.data.getIterator())}getIteratorFrom(e){return new Yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class Yh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _e{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new _e([])}unionWith(e){let n=new Zt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _e(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eC("Invalid base64 string: "+i):i}}(e);return new en(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Dt(!!t),typeof t=="string"){let e=0;const n=nC.exec(t);if(Dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ql(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function om(t){const e=t.mapValue.fields.__previous_value__;return ql(e)?om(e):e}function Gs(t){const e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rC{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ql(t)?4:iC(t)?9007199254740991:10:Z()}function Ue(t,e){if(t===e)return!0;const n=wr(t);if(n!==wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gs(t).isEqual(Gs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Wn(r.timestampValue),o=Wn(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ci(r.bytesValue).isEqual(Ci(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pt(r.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pt(r.integerValue)===Pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pt(r.doubleValue),o=Pt(i.doubleValue);return s===o?Ks(s)===Ks(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return br(t.arrayValue.values||[],e.arrayValue.values||[],Ue);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Xh(s)!==Xh(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ue(s[a],o[a])))return!1;return!0}(t,e);default:return Z()}}function Ai(t,e){return(t.values||[]).find(n=>Ue(n,e))!==void 0}function Er(t,e){if(t===e)return 0;const n=wr(t),r=wr(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Pt(i.integerValue||i.doubleValue),a=Pt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Jh(t.timestampValue,e.timestampValue);case 4:return Jh(Gs(t),Gs(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ci(i),a=Ci(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=lt(o[c],a[c]);if(l!==0)return l}return lt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=lt(Pt(i.latitude),Pt(s.latitude));return o!==0?o:lt(Pt(i.longitude),Pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Er(o[c],a[c]);if(l)return l}return lt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===us.mapValue&&s===us.mapValue)return 0;if(i===us.mapValue)return 1;if(s===us.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=lt(a[u],l[u]);if(h!==0)return h;const d=Er(o[a[u]],c[l[u]]);if(d!==0)return d}return lt(a.length,l.length)}(t.mapValue,e.mapValue);default:throw Z()}}function Jh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Wn(t),r=Wn(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function Ir(t){return Ic(t)}function Ic(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Wn(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ci(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ic(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ic(r.fields[a])}`;return s+"}"}(t.mapValue):Z();var e,n}function Tc(t){return!!t&&"integerValue"in t}function zl(t){return!!t&&"arrayValue"in t}function Is(t){return!!t&&"mapValue"in t}function ni(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ni(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ni(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Te{constructor(e){this.value=e}static empty(){return new Te({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Is(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ni(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ni(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Is(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ue(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Is(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Te(ni(this.value))}}function am(t){const e=[];return Hi(t.fields,(n,r)=>{const i=new Ht([n]);if(Is(r)){const s=am(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _e(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ee(e,0,mt.min(),mt.min(),mt.min(),Te.empty(),0)}static newFoundDocument(e,n,r,i){return new Ee(e,1,n,mt.min(),r,i,0)}static newNoDocument(e,n){return new Ee(e,2,n,mt.min(),mt.min(),Te.empty(),0)}static newUnknownDocument(e,n){return new Ee(e,3,n,mt.min(),mt.min(),Te.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Te.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Te.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ee&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qs{constructor(e,n){this.position=e,this.inclusive=n}}function Zh(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Er(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ue(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ri{constructor(e,n="asc"){this.field=e,this.dir=n}}function sC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cm{}class At extends cm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aC(e,n,r):n==="array-contains"?new uC(e,r):n==="in"?new hC(e,r):n==="not-in"?new fC(e,r):n==="array-contains-any"?new dC(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cC(e,r):new lC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Er(n,this.value)):n!==null&&wr(this.value)===wr(n)&&this.matchesComparison(Er(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends cm{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new bn(e,n)}matches(e){return lm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function lm(t){return t.op==="and"}function um(t){return oC(t)&&lm(t)}function oC(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function Sc(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ir(t.value);if(um(t))return t.filters.map(e=>Sc(e)).join(",");{const e=t.filters.map(n=>Sc(n)).join(",");return`${t.op}(${e})`}}function hm(t,e){return t instanceof At?function(n,r){return r instanceof At&&n.op===r.op&&n.field.isEqual(r.field)&&Ue(n.value,r.value)}(t,e):t instanceof bn?function(n,r){return r instanceof bn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&hm(s,r.filters[o]),!0):!1}(t,e):void Z()}function fm(t){return t instanceof At?function(e){return`${e.field.canonicalString()} ${e.op} ${Ir(e.value)}`}(t):t instanceof bn?function(e){return e.op.toString()+" {"+e.getFilters().map(fm).join(" ,")+"}"}(t):"Filter"}class aC extends At{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class cC extends At{constructor(e,n){super(e,"in",n),this.keys=dm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lC extends At{constructor(e,n){super(e,"not-in",n),this.keys=dm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class uC extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zl(n)&&Ai(n.arrayValue,this.value)}}class hC extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ai(this.value.arrayValue,n)}}class fC extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ai(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ai(this.value.arrayValue,n)}}class dC extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ai(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pC{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function ef(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pC(t,e,n,r,i,s,o)}function Hl(t){const e=dt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$l(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ir(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ir(r)).join(",")),e.dt=n}return e.dt}function Kl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tf(t.startAt,e.startAt)&&tf(t.endAt,e.endAt)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function gC(t,e,n,r,i,s,o,a){return new Lo(t,e,n,r,i,s,o,a)}function mC(t){return new Lo(t)}function nf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vC(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bC(t){return t.collectionGroup!==null}function hr(t){const e=dt(t);if(e.wt===null){e.wt=[];const n=vC(e),r=yC(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ri(n)),e.wt.push(new ri(Ht.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ri(Ht.keyField(),s))}}}return e.wt}function Tr(t){const e=dt(t);if(!e._t)if(e.limitType==="F")e._t=ef(e.path,e.collectionGroup,hr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of hr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ri(s.field,o))}const r=e.endAt?new Qs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qs(e.startAt.position,e.startAt.inclusive):null;e._t=ef(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function _c(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pm(t,e){return Kl(Tr(t),Tr(e))&&t.limitType===e.limitType}function gm(t){return`${Hl(Tr(t))}|lt:${t.limitType}`}function rf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>fm(r)).join(", ")}]`),$l(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ir(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ir(r)).join(",")),`Target(${n})`}(Tr(t))}; limitType=${t.limitType})`}function Gl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of hr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Zh(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,hr(n),r)||n.endAt&&!function(i,s,o){const a=Zh(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,hr(n),r))}(t,e)}function wC(t){return(e,n)=>{let r=!1;for(const i of hr(t)){const s=EC(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function EC(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?Er(a,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sm(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IC=new oe(Q.comparator);function Xs(){return IC}const mm=new oe(Q.comparator);function hs(...t){let e=mm;for(const n of t)e=e.insert(n.key,n);return e}function ym(t){let e=mm;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ln(){return ii()}function vm(){return ii()}function ii(){return new Nr(t=>t.toString(),(t,e)=>t.isEqual(e))}const TC=new oe(Q.comparator),SC=new Zt(Q.comparator);function qt(...t){let e=SC;for(const n of t)e=e.add(n);return e}const _C=new Zt(lt);function CC(){return _C}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ks(e)?"-0":e}}function wm(t){return{integerValue:""+t}}function AC(t,e){return tC(e)?wm(e):bm(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fo{constructor(){this._=void 0}}function xC(t,e,n){return t instanceof Ys?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ql(i)&&(i=om(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof xi?Im(t,e):t instanceof Oi?Tm(t,e):function(r,i){const s=Em(r,i),o=sf(s)+sf(r.gt);return Tc(s)&&Tc(r.gt)?wm(o):bm(r.serializer,o)}(t,e)}function OC(t,e,n){return t instanceof xi?Im(t,e):t instanceof Oi?Tm(t,e):n}function Em(t,e){return t instanceof Js?Tc(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ys extends Fo{}class xi extends Fo{constructor(e){super(),this.elements=e}}function Im(t,e){const n=Sm(e);for(const r of t.elements)n.some(i=>Ue(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oi extends Fo{constructor(e){super(),this.elements=e}}function Tm(t,e){let n=Sm(e);for(const r of t.elements)n=n.filter(i=>!Ue(i,r));return{arrayValue:{values:n}}}class Js extends Fo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function sf(t){return Pt(t.integerValue||t.doubleValue)}function Sm(t){return zl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kC(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof xi&&r instanceof xi||n instanceof Oi&&r instanceof Oi?br(n.elements,r.elements,Ue):n instanceof Js&&r instanceof Js?Ue(n.gt,r.gt):n instanceof Ys&&r instanceof Ys}(t.transform,e.transform)}class DC{constructor(e,n){this.version=e,this.transformResults=n}}class Xe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xe}static exists(e){return new Xe(void 0,e)}static updateTime(e){return new Xe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ts(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jo{}function _m(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Am(t.key,Xe.none()):new Ki(t.key,t.data,Xe.none());{const n=t.data,r=Te.empty();let i=new Zt(Ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xn(t.key,r,new _e(i.toArray()),Xe.none())}}function NC(t,e,n){t instanceof Ki?function(r,i,s){const o=r.value.clone(),a=af(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Xn?function(r,i,s){if(!Ts(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=af(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Cm(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function si(t,e,n,r){return t instanceof Ki?function(i,s,o,a){if(!Ts(i.precondition,s))return o;const c=i.value.clone(),l=cf(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xn?function(i,s,o,a){if(!Ts(i.precondition,s))return o;const c=cf(i.fieldTransforms,a,s),l=s.data;return l.setAll(Cm(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Ts(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function MC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Em(r.transform,i||null);s!=null&&(n===null&&(n=Te.empty()),n.set(r.field,s))}return n||null}function of(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&br(n,r,(i,s)=>kC(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ki extends jo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xn extends jo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Cm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function af(t,e,n){const r=new Map;Dt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OC(o,a,n[i]))}return r}function cf(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,xC(s,o,e))}return r}class Am extends jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RC extends jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NC(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=si(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=si(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vm();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=_m(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(mt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qt())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,(n,r)=>of(n,r))&&br(this.baseMutations,e.baseMutations,(n,r)=>of(n,r))}}class Wl{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Dt(e.mutations.length===r.length);let i=TC;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wl(e,n,r,i)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Tt,J;function FC(t){switch(t){default:return Z();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function jC(t){if(t===void 0)return Gn("GRPC error has no .code"),S.UNKNOWN;switch(t){case Tt.OK:return S.OK;case Tt.CANCELLED:return S.CANCELLED;case Tt.UNKNOWN:return S.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return S.INTERNAL;case Tt.UNAVAILABLE:return S.UNAVAILABLE;case Tt.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Tt.NOT_FOUND:return S.NOT_FOUND;case Tt.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Tt.ABORTED:return S.ABORTED;case Tt.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Tt.DATA_LOSS:return S.DATA_LOSS;default:return Z()}}(J=Tt||(Tt={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/new V_([4294967295,4294967295],0);class VC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BC(t,e){return Cc(t,e.toTimestamp())}function fr(t){return Dt(!!t),mt.fromTimestamp(function(e){const n=Wn(e);return new xt(n.seconds,n.nanos)}(t))}function xm(t,e){return function(n){return new yt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function $C(t){const e=yt.fromString(t);return Dt(XC(e)),e}function Ac(t,e){return xm(t.databaseId,e.path)}function qC(t){const e=$C(t);return e.length===4?yt.emptyPath():HC(e)}function zC(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HC(t){return Dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lf(t,e,n){return{name:Ac(t,e),fields:n.value.mapValue.fields}}function KC(t,e){let n;if(e instanceof Ki)n={update:lf(t,e.key,e.value)};else if(e instanceof Am)n={delete:Ac(t,e.key)};else if(e instanceof Xn)n={update:lf(t,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof RC))return Z();n={verify:Ac(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Oi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:BC(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function GC(t,e){return t&&t.length>0?(Dt(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?fr(r.updateTime):fr(i);return s.isEqual(mt.min())&&(s=fr(i)),new DC(s,r.transformResults||[])}(n,e))):[]}function WC(t){let e=qC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const h=Om(u);return h instanceof bn&&um(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new ri(ir(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,$l(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,d=u.values||[];return new Qs(d,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,d=u.values||[];return new Qs(d,h)}(n.endAt)),gC(e,i,o,s,a,"F",c,l)}function Om(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ir(e.unaryFilter.field);return At.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ir(e.unaryFilter.field);return At.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ir(e.unaryFilter.field);return At.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ir(e.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(e){return At.create(ir(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return bn.create(e.compositeFilter.filters.map(n=>Om(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Z()}}(e.compositeFilter.op))}(t):Z()}function ir(t){return Ht.fromServerFormat(t.fieldPath)}function QC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YC{constructor(e){this.fe=e}}function JC(t){const e=WC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_c(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZC{constructor(){this.rn=new tA}addToCollectionParentIndex(e,n){return this.rn.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(vn.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(vn.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class tA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(yt.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sr{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Sr(0)}static Mn(){return new Sr(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eA{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ee.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&si(r.mutation,i,_e.empty(),xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qt()){const i=Ln();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hs();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ln();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xs();const o=ii(),a=ii();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Xn)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),si(u.mutation,l,u.mutation.getFieldMask(),xt.now())):o.set(l.key,_e.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new nA(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ii();let i=new oe((o,a)=>o-a),s=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||_e.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(i.get(a.batchId)||qt()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=vm();u.forEach(d=>{if(!s.has(d)){const g=_m(n.get(d),r.get(d));g!==null&&h.set(d,g),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):C.resolve(Ln());let a=-1,c=s;return o.next(l=>C.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,qt())).next(u=>({batchId:a,changes:ym(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=hs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=hs();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const c=function(l,u){return new Lo(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();s.get(l)===null&&(s=s.insert(l,Ee.newInvalidDocument(l)))});let o=hs();return s.forEach((a,c)=>{const l=i.get(a);l!==void 0&&si(l.mutation,c,_e.empty(),xt.now()),Gl(n,c)&&(o=o.insert(a,c))}),o})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return C.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:fr(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:JC(r.bundledQuery),readTime:fr(r.readTime)}}(n)),C.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sA{constructor(){this.overlays=new oe(Q.comparator),this.ls=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ln();return C.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const i=Ln(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return C.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new oe((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Ln(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ln(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return C.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LC(n,r));let s=this.ls.get(n);s===void 0&&(s=qt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ql{constructor(){this.fs=new Zt(_t.ds),this.ws=new Zt(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Q(new yt([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Q(new yt([])),r=new _t(n,e),i=new _t(n,e+1);let s=qt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Q.comparator(e.key,n.key)||lt(e.As,n.As)}static _s(e,n){return lt(e.As,n.As)||Q.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Zt(_t.ds)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(lt);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),C.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new _t(new Q(s),0);let a=new Zt(lt);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),C.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Dt(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return C.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _t(n,0),i=this.Rs.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aA{constructor(e){this.Ds=e,this.docs=new oe(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Ee.newInvalidDocument(n))}getEntries(e,n){let r=Xs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ee.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xs();const o=n.path,a=new Q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Y_(X_(u),r)<=0||(i.has(u.key)||Gl(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Cs(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cA(this)}getSize(e){return C.resolve(this.size)}}class cA extends eA{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lA{constructor(e){this.persistence=e,this.xs=new Nr(n=>Hl(n),Kl),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ql,this.targetCount=0,this.Ms=Sr.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),C.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Sr(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Fn(n),C.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.ks.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uA{constructor(e,n){this.$s={},this.overlays={},this.Os=new im(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lA(this),this.indexManager=new ZC,this.remoteDocumentCache=function(r){return new aA(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new YC(n),this.qs=new iA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new oA(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new hA(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return C.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class hA extends Z_{constructor(e){super(),this.currentSequenceNumber=e}}class Xl{constructor(e){this.persistence=e,this.Qs=new Ql,this.js=null}static zs(e){return new Xl(e)}get Ws(){if(this.js)return this.js;throw Z()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),C.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,r=>{const i=Q.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,mt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return C.or([()=>C.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yl{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=qt(),i=qt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yl(e,n.fromCache,r,i)}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(nf(n))return C.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_c(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=qt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,_c(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return nf(n)||i.isEqual(mt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Qh()<=it.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rf(n)),this.Wi(e,o,n,Q_(i,-1)))})}ji(e,n){let r=new Zt(wC(e));return n.forEach((i,s)=>{Gl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Qh()<=it.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",rf(n)),this.Ui.getDocumentsMatchingQuery(e,n,vn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dA{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new oe(lt),this.Yi=new Nr(s=>Hl(s),Kl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function pA(t,e,n,r){return new dA(t,e,n,r)}async function km(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=qt();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}function gA(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let d=C.resolve();return h.forEach(g=>{d=d.next(()=>l.getEntry(a,g)).next(b=>{const T=c.docVersions.get(g);Dt(T!==null),b.version.compareTo(T)<0&&(u.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),l.addEntry(b)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=qt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mA(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function yA(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class uf{constructor(){this.activeTargetIds=CC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vA{constructor(){this.Hr=new uf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bA{Yr(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let fs=null;function _a(){return fs===null?fs=268435456+Math.round(2147483648*Math.random()):fs++,"0x"+fs.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EA{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bt="WebChannelConnection";class IA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=_a(),a=this.To(e,n);B("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(B("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Hs("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=wA[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=_a();return new Promise((o,a)=>{const c=new j_;c.setWithCredentials(!0),c.listenOnce(P_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sa.NO_ERROR:const u=c.getResponseJson();B(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Sa.TIMEOUT:B(Bt,`RPC '${e}' ${s} timed out`),a(new $(S.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const h=c.getStatus();if(B(Bt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const b=function(T){const A=T.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(A)>=0?A:S.UNKNOWN}(g.status);a(new $(b,g.message))}else a(new $(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new $(S.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{B(Bt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);B(Bt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=_a(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=M_(),a=R_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new F_({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");B(Bt,`Creating RPC '${e}' stream ${i}: ${u}`,c);const h=o.createWebChannel(u,c);let d=!1,g=!1;const b=new EA({ro:A=>{g?B(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(d||(B(Bt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),B(Bt,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},oo:()=>h.close()}),T=(A,x,O)=>{A.listen(x,R=>{try{O(R)}catch(_){setTimeout(()=>{throw _},0)}})};return T(h,cs.EventType.OPEN,()=>{g||B(Bt,`RPC '${e}' stream ${i} transport opened.`)}),T(h,cs.EventType.CLOSE,()=>{g||(g=!0,B(Bt,`RPC '${e}' stream ${i} transport closed`),b.wo())}),T(h,cs.EventType.ERROR,A=>{g||(g=!0,Hs(Bt,`RPC '${e}' stream ${i} transport errored:`,A),b.wo(new $(S.UNAVAILABLE,"The operation could not be completed")))}),T(h,cs.EventType.MESSAGE,A=>{var x;if(!g){const O=A.data[0];Dt(!!O);const R=O,_=R.error||((x=R[0])===null||x===void 0?void 0:x.error);if(_){B(Bt,`RPC '${e}' stream ${i} received error:`,_);const z=_.status;let Y=function(Vt){const St=Tt[Vt];if(St!==void 0)return jC(St)}(z),pt=_.message;Y===void 0&&(Y=S.INTERNAL,pt="Unknown error status: "+z+" with message "+_.message),g=!0,b.wo(new $(Y,pt)),h.close()}else B(Bt,`RPC '${e}' stream ${i} received:`,O),b._o(O)}}),T(a,L_.STAT_EVENT,A=>{A.stat===Gh.PROXY?B(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Gh.NOPROXY&&B(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function Ca(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vo(t){return new VC(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dm{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TA{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dm(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new $(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SA extends TA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=GC(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.cu(r,n)}return Dt(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zC(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KC(this.serializer,r))};this.Wo(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _A extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new $(S.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(S.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(S.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class CA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gn(n),this.mu=!1):B("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AA{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Wi(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=dt(a);c.vu.add(4),await Gi(c),c.bu.set("Unknown"),c.vu.delete(4),await Uo(c)}(this))})}),this.bu=new CA(r,i)}}async function Uo(t){if(Wi(t))for(const e of t.Ru)await e(!0)}async function Gi(t){for(const e of t.Ru)await e(!1)}function Wi(t){return dt(t).vu.size===0}async function Nm(t,e,n){if(!Po(e))throw e;t.vu.add(1),await Gi(t),t.bu.set("Offline"),n||(n=()=>mA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Uo(t)})}function Mm(t,e){return e().catch(n=>Nm(t,n,e))}async function Bo(t){const e=dt(t),n=wn(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;xA(e);)try{const i=await yA(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,OA(e,i)}catch(i){await Nm(e,i)}Rm(e)&&Pm(e)}function xA(t){return Wi(t)&&t.Eu.length<10}function OA(t,e){t.Eu.push(e);const n=wn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Rm(t){return Wi(t)&&!wn(t).Uo()&&t.Eu.length>0}function Pm(t){wn(t).start()}async function kA(t){wn(t).hu()}async function DA(t){const e=wn(t);for(const n of t.Eu)e.uu(n.mutations)}async function NA(t,e,n){const r=t.Eu.shift(),i=Wl.from(r,e,n);await Mm(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bo(t)}async function MA(t,e){e&&wn(t).ou&&await async function(n,r){if(i=r.code,FC(i)&&i!==S.ABORTED){const s=n.Eu.shift();wn(n).Qo(),await Mm(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Bo(n)}var i}(t,e),Rm(t)&&Pm(t)}async function ff(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Wi(n);n.vu.add(3),await Gi(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Uo(n)}async function RA(t,e){const n=dt(t);e?(n.vu.delete(2),await Uo(n)):e||(n.vu.add(2),await Gi(n),n.bu.set("Unknown"))}function wn(t){return t.Du||(t.Du=function(e,n,r){const i=dt(e);return i.fu(),new SA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:kA.bind(null,t),ao:MA.bind(null,t),au:DA.bind(null,t),cu:NA.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Bo(t)):(await t.Du.stop(),t.Eu.length>0&&(B("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jl{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Jl(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),Po(t))return new $(S.UNAVAILABLE,`${e}: ${t}`);throw t}class PA{constructor(){this.queries=new Nr(e=>gm(e),pm),this.onlineState="Unknown",this.ku=new Set}}function LA(t){t.ku.forEach(e=>{e.next()})}class FA{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Nr(a=>gm(a),pm),this._c=new Map,this.mc=new Set,this.gc=new oe(Q.comparator),this.yc=new Map,this.Ic=new Ql,this.Tc={},this.Ec=new Map,this.Ac=Sr.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function jA(t,e,n){const r=$A(t);try{const i=await function(s,o){const a=dt(s),c=xt.now(),l=o.reduce((d,g)=>d.add(g.key),qt());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=Xs(),b=qt();return a.Zi.getEntries(d,l).next(T=>{g=T,g.forEach((A,x)=>{x.isValidDocument()||(b=b.add(A))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,g)).next(T=>{u=T;const A=[];for(const x of o){const O=MC(x,u.get(x.key).overlayedDocument);O!=null&&A.push(new Xn(x.key,O,am(O.value.mapValue),Xe.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,A,o)}).next(T=>{h=T;const A=T.applyToLocalDocumentSet(u,b);return a.documentOverlayCache.saveOverlays(d,T.batchId,A)})}).then(()=>({batchId:h.batchId,changes:ym(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new oe(lt)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),await $o(r,i.changes),await Bo(r.remoteStore)}catch(i){const s=Lm(i,"Failed to persist write");n.reject(s)}}function df(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=dt(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.Mu(o)&&(c=!0)}),c&&LA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VA(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await gA(n.localStore,e);jm(n,r,null),Fm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $o(n,i)}catch(i){await rm(i)}}async function UA(t,e,n){const r=dt(t);try{const i=await function(s,o){const a=dt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(Dt(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);jm(r,e,n),Fm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $o(r,i)}catch(i){await rm(i)}}function Fm(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function jm(t,e,n){const r=dt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}async function $o(t,e,n){const r=dt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const u=Yl.Li(c.targetId,l);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,c){const l=dt(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>C.forEach(c,h=>C.forEach(h.Fi,d=>l.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>C.forEach(h.Bi,d=>l.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Po(u))throw u;B("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const d=l.Ji.get(h),g=d.snapshotVersion,b=d.withLastLimboFreeSnapshotVersion(g);l.Ji=l.Ji.insert(h,b)}}}(r.localStore,s))}async function BA(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await km(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new $(S.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $o(n,r.er)}}function $A(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UA.bind(null,e),e}class pf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pA(this.persistence,new fA,e.initialUser,this.serializer)}createPersistence(e){return new uA(Xl.zs,this.serializer)}createSharedClientState(e){return new vA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>df(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BA.bind(null,this.syncEngine),await RA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new PA}createDatastore(e){const n=Vo(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new IA(i));var i;return function(s,o,a,c){return new _A(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>df(this.syncEngine,a,0),o=hf.D()?new hf:new bA,new AA(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,l){const u=new FA(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=dt(e);B("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Gi(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=nm.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Aa(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await km(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KA(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>ff(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ff(e.remoteStore,s)),t._onlineComponents=e}function HA(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function KA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Aa(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HA(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await Aa(t,new pf)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Aa(t,new pf);return t._offlineComponents}async function GA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await gf(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await gf(t,new qA))),t._onlineComponents}function WA(t){return GA(t).then(e=>e.syncEngine)}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vm(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mf=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Um(t,e,n){if(!n)throw new $(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QA(t,e,n,r){if(e===!0&&r===!0)throw new $(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yf(t){if(!Q.isDocumentKey(t))throw new $(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vf(t){if(Q.isDocumentKey(t))throw new $(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Bm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zl(t);throw new $(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bf{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vm((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(S.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(S.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(S.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class qo{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new U_;switch(n.type){case"firstParty":return new z_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mf.get(e);n&&(B("ComponentProvider","Removing Datastore"),mf.delete(e),n.terminate())}(this),Promise.resolve()}}function XA(t,e,n,r={}){var i;const s=(t=Bm(t,qo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=$t.MOCK_USER;else{a=uy(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(l)}t._authCredentials=new B_(new em(a,c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}}class tu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tu(this.firestore,e,this._query)}}class gn extends tu{constructor(e,n,r){super(e,n,mC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new Q(e))}withConverter(e){return new gn(this.firestore,e,this._path)}}function YA(t,e,...n){if(t=Bn(t),Um("collection","path",e),t instanceof qo){const r=yt.fromString(e,...n);return vf(r),new gn(t,null,r)}{if(!(t instanceof Ye||t instanceof gn))throw new $(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return vf(r),new gn(t.firestore,null,r)}}function JA(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=nm.A()),Um("doc","path",e),t instanceof qo){const r=yt.fromString(e,...n);return yf(r),new Ye(t,null,new Q(r))}{if(!(t instanceof Ye||t instanceof gn))throw new $(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return yf(r),new Ye(t.firestore,t instanceof gn?t.converter:null,new Q(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZA{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dm(this,"async_queue_retry"),this.Xc=()=>{const n=Ca();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ca();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ca();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Un;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Po(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Jl.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Z()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class $m extends qo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qm(this),this._firestoreClient.terminate()}}function t2(t,e){const n=typeof t=="object"?t:Of(),r=typeof t=="string"?t:e||"(default)",i=Di(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cy("firestore");s&&XA(i,...s)}return i}function e2(t){return t._firestoreClient||qm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qm(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,c,l){return new rC(o,a,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Vm(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zA(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(en.fromBase64String(e))}catch(n){throw new $(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Km{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n2=/^__.*__$/;class r2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ki(e,this.data,n,this.fieldTransforms)}}function Gm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class eu{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new eu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zs(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Gm(this.ca)&&n2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class i2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vo(e)}ya(e,n,r,i=!1){return new eu({ca:e,methodName:n,ga:r,path:Ht.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s2(t){const e=t._freezeSettings(),n=Vo(t._databaseId);return new i2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o2(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Ym("Data must be an object, but it was:",o,r);const a=Qm(r,o);let c,l;if(s.merge)c=new _e(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=a2(e,h,n);if(!o.contains(d))throw new $(S.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);u2(u,d)||u.push(d)}c=new _e(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new r2(new Te(a),c,l)}function Wm(t,e){if(Xm(t=Bn(t)))return Ym("Unsupported field value:",e,t),Qm(t,e);if(t instanceof Hm)return function(n,r){if(!Gm(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Wm(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Bn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AC(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=xt.fromDate(n);return{timestampValue:Cc(r.serializer,i)}}if(n instanceof xt){const i=new xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Cc(r.serializer,i)}}if(n instanceof Km)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ki)return{bytesValue:UC(r.serializer,n._byteString)};if(n instanceof Ye){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Zl(n)}`)}(t,e)}function Qm(t,e){const n={};return sm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,i)=>{const s=Wm(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Km||t instanceof ki||t instanceof Ye||t instanceof Hm)}function Ym(t,e,n){if(!Xm(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Zl(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function a2(t,e,n){if((e=Bn(e))instanceof zm)return e._internalPath;if(typeof e=="string")return l2(t,e);throw Zs("Field path arguments must be of type string or ",t,!1,void 0,n)}const c2=new RegExp("[~\\*/\\[\\]]");function l2(t,e,n){if(e.search(c2)>=0)throw Zs(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zm(...e.split("."))._internalPath}catch{throw Zs(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zs(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new $(S.INVALID_ARGUMENT,a+t+c)}function u2(t,e){return t.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function f2(t,e){const n=Bm(t.firestore,$m),r=JA(t),i=h2(t.converter,e);return d2(n,[o2(s2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xe.exists(!1))]).then(()=>r)}function d2(t,e){return function(n,r){const i=new Un;return n.asyncQueue.enqueueAndForget(async()=>jA(await WA(n),r,i)),i.promise}(e2(t),e)}(function(t,e=!0){(function(n){Dr=n})(mv),mn(new Je("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new $m(new $_(n.getProvider("auth-internal")),new K_(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new $(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Le(Wh,"3.12.2",t),Le(Wh,"3.12.2","esm2017")})();const p2={data(){return{images:["https://cdn-icons-png.flaticon.com/512/1216/1216733.png","https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/CSS3_logo.svg/240px-CSS3_logo.svg.png","https://upload.wikimedia.org/wikipedia/commons/6/6a/JavaScript-logo.png","https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Vue.js_Logo_2.svg/1200px-Vue.js_Logo_2.svg.png","https://cdn.discordapp.com/attachments/703285604166926396/1114714735317897287/Untitled_drawing_2.png","https://cdn.freebiesupply.com/logos/large/2x/nodejs-icon-logo-png-transparent.png"],currentImageIndex:0,name:"",email:"",message:"",sent:!1,error:!1}},methods:{async sendMessage(){if((this.name===""||this.email===""||this.message==="")&&(this.error=!0),!(this.name===""||this.email===""||this.message===""))try{this.sent=!1;const t=t2(),e=YA(t,"messages"),n=await f2(e,{name:this.name,email:this.email,message:this.message});let r={name:this.name,email:this.email,message:this.message};const i="service_o3eyqq5",s="template_h1bnnb4";await DS.send(i,s,r,"ed30-R7z7_EH-yu97").then(function(o){console.log("SUCCESS!",o.status,o.text)},function(o){console.log("FAILED...",o)}),await fetch("https://discord.com/api/webhooks/1074815213808914503/-4vflh54xp7Ndzm7KMft6BBuzMr7-Ga95zykR4uNZQvMRhY0fxzFG6IPckM_AC7F6Uad",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:"@everyone",embeds:[{description:`${this.message}`,author:{name:this.name},title:this.email}]})}),this.sent=!0,this.error=!1,this.email="",this.name="",this.message=""}catch(t){console.log(t),this.sent=!1}}},computed:{currentImage(){return this.images[this.currentImageIndex]}},mounted(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},3e3)}},g2={class:"wrapper"},m2={class:"main"},y2=xr('<header class="navbar"><div class="logo"><h4>Connor.</h4></div><nav class="navbar-body"><div class="navbar-links"><a class="link" href="#about">About</a><a class="link" href="#contact">Contact</a></div></nav></header>',1),v2={class:"hero"},b2={class:"hero-content"},w2=ct("sub",{class:"sub"},"Hello! My Name is",-1),E2={class:"color"},I2={class:"info"},T2=ct("div",{class:"arrow"},[ct("img",{src:"https://www.freeiconspng.com/thumbs/white-arrow-png/white-down-arrow-png-2.png"})],-1),S2=ct("a",{href:"#about",class:"btn"},"Learn More",-1),_2=xr('<div class="marquee"><div class="html"><i class="bx bxl-html5"></i></div><div class="css"><i class="bx bxl-css3"></i></div><div class="js"><i class="bx bxl-javascript"></i></div><div class="vue"><i class="bx bxl-vuejs"></i></div><div class="firebase"><i class="bx bxl-firebase"></i></div><div class="node"><i class="bx bxl-nodejs"></i></div></div>',1),C2={class:"about",id:"about"},A2={class:"about-content"},x2=ct("h3",{id:"rr"},"ABOUT ME",-1),O2=ct("h2",null,"Passionate and Dedicated Front End Developer",-1),k2={class:"about-image"},D2=["src"],N2=ct("h3",{class:"gradient",style:{"text-align":"center","padding-top":"5rem"}},"PORTFOLIO",-1),M2={class:"projecth1",style:{"padding-bottom":"4rem"}},R2={delay:150,class:"projects"},P2={class:"project"},L2=xr('<div class="project-content"><h3>Nore Media</h3><h4>Frontend Web Development</h4><p>A Dynamic Website for Nore Media, a leading digital and social marketing agency dedicated to helping businesses thrive in the digital landscape.</p><div class="tags"><div class="tag"> #html </div><div class="tag"> #css </div><div class="tag"> #js </div><div class="tag"> #bootstrap </div></div></div><div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117124364106727476/ezgif-1-58964e489f.gif" alt=""></div>',2),F2=[L2],j2={class:"project reverse"},V2=xr('<div class="project-content"><h3>Bruhware</h3><h4>Frontend Web Development</h4><p>Website for a Universal Roblox Multitool Service written in pure Lua that enhances their gaming experience and expands their creative possibilities within the Roblox platform.</p><div class="tags"><div class="tag"> #html </div><div class="tag"> #css </div><div class="tag"> #js </div></div></div><div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117133586739499098/ezgif-1-e2184cce11.gif" alt=""></div>',2),U2=[V2],B2={class:"project"},$2=xr('<div class="project-content"><h3>Firebase Paste Site</h3><h4>Frontend Web Development with BaaS</h4><p>A Pastebin site created using Firebase and the Vue router that offering users a reliable and efficient platform for storing and sharing text-based information. This site provides a user-friendly interface where individuals can conveniently store snippets of code, text, or any other type of information they want to save or share.</p><div class="tags"><div class="tag"> #vuejs </div><div class="tag"> #css </div><div class="tag"> #firebase </div></div></div><div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117135453557112943/ezgif-1-75d8179f6b.gif" alt=""></div>',2),q2=[$2],z2={class:"project reverse"},H2=xr('<div class="project-content"><h3>iCreate Pro</h3><h4>Frontend Web Development</h4><p>An unreleased website for the Geometry Dash modding service, iCreate Pro, that allows users to expand the customizations that the game has to offer.</p><div class="tags"><div class="tag"> #html </div><div class="tag"> #css </div><div class="tag"> #js </div><div class="tag"> #bootstrap </div></div></div><div class="project-image"><img src="https://cdn.discordapp.com/attachments/1041122682982371439/1117136041896317018/ezgif-1-5e39cac6b3.gif" alt=""></div>',2),K2=[H2],G2={class:"contact",id:"contact"},W2=ct("h3",{class:"gradient",style:{"text-align":"center","padding-top":"5rem"}},"CONTACT",-1),Q2=ct("h1",{class:"contact-title"},"Get in Touch",-1),X2=ct("h2",{class:"contact-subtitle"},"Have a question or an idea? We'd love to hear from you",-1),Y2={class:"contact-form"},J2={key:0,style:{color:"green","font-size":"1.4rem","font-weight":"bold","padding-bottom":"10px"}},Z2={key:1,style:{color:"red","font-size":"1.4rem","font-weight":"bold","padding-bottom":"10px"}};function tx(t,e,n,r,i,s){const o=Pr("motion-pop"),a=Pr("motion-slide-left"),c=Pr("motion-fade"),l=Pr("motion-fade-visible"),u=Pr("motion-slide-bottom");return Mt(),Yt("div",g2,[te((Mt(),Yt("div",m2,[y2,ct("section",v2,[ct("div",b2,[w2,te((Mt(),Yt("h1",E2,[$r("Connor Le.")])),[[o]]),te((Mt(),Yt("p",I2,[$r("I'm a Frontend Web Developer from Orange County passionate about helping businesses thrive online.")])),[[a]]),T2,S2])])])),[[c]]),_2,ct("section",C2,[ct("div",A2,[x2,O2,te((Mt(),Yt("p",null,[$r("Through the past few months, I've discovered a true passion for web development. I've taken my skills to the online freelance market, where I offer my expertise to businesses. My go-to tech stack includes Vue.js and Firebase, but I'm always open to learning new technologies. As a newer developer, I take pride in creating beautiful and interactive websites at an affordable price. If you're interested in working together, don't hesitate to reach out. Let's collaborate and bring your vision to life.")])),[[l]])]),ct("div",k2,[ct("div",null,[te((Mt(),Yt("img",{key:s.currentImage,src:s.currentImage,alt:""},null,8,D2)),[[u]])])])]),N2,te((Mt(),Yt("h2",M2,[$r("Some of my Projects")])),[[l]]),te((Mt(),Yt("section",R2,[te((Mt(),Yt("div",P2,F2)),[[l]]),te((Mt(),Yt("div",j2,U2)),[[l]]),te((Mt(),Yt("div",B2,q2)),[[l]]),te((Mt(),Yt("div",z2,K2)),[[l]])])),[[l]]),ct("section",G2,[W2,Q2,X2,ct("form",Y2,[i.sent?(Mt(),Yt("div",J2,"Success! I recieved your message and I will get back to you shortly.")):Ku("",!0),i.error?(Mt(),Yt("div",Z2,"Please fill in all of the boxes!")):Ku("",!0),te(ct("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>i.name=h),required:"",placeholder:"Your Name",class:"contact-input"},null,512),[[sa,i.name]]),te(ct("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=h=>i.email=h),placeholder:"Your Email",class:"contact-input"},null,512),[[sa,i.email]]),te(ct("textarea",{"onUpdate:modelValue":e[2]||(e[2]=h=>i.message=h),placeholder:"Your Message",class:"contact-input"},null,512),[[sa,i.message]]),ct("button",{type:"submit",onClick:e[3]||(e[3]=Ow((...h)=>s.sendMessage&&s.sendMessage(...h),["prevent"])),class:"contact-button"},"Send Message")])])])}const ex=ml(p2,[["render",tx]]),nx={},Jm=t=>(c1("data-v-9247b52d"),t=t(),l1(),t),rx={class:"wrapper"},ix=Jm(()=>ct("h1",null,"404",-1)),sx=Jm(()=>ct("p",null,"Page Not Found",-1)),ox=[ix,sx];function ax(t,e){return Mt(),Yt("div",rx,ox)}const cx=ml(nx,[["render",ax],["__scopeId","data-v-9247b52d"]]),lx=_S({history:BT("/"),routes:[{path:"/",name:"home",component:ex},{path:"/:catchAll(.*)",name:"NotFound",component:cx}]}),ux={apiKey:"AIzaSyCSqM4y9V77o6ohxPv0oBDBE8FOhKd3bs8",authDomain:"le-portoflio.firebaseapp.com",projectId:"le-portoflio",storageBucket:"le-portoflio.appspot.com",messagingSenderId:"572778021103",appId:"1:572778021103:web:dd71aaca97e9f6265c5b1a",measurementId:"G-4E4VGLT9N8"},hx=xf(ux);tb(hx);const nu=Nw(TT);nu.use(wT);nu.use(lx);nu.mount("#app");
